(self.webpackChunk=self.webpackChunk||[]).push([[4762],{86855:(t,e,o)=>{o.r(e),o.d(e,{Notion:()=>i});var i,n=o(84714),a=o(59179),l=o(12518),r=o(90595),f=o(68418),d=o(44287),c=o(22234),s=o(85452),p=o(15838),h=o(3670),u=o(33357),M=o(18122),g=o(31394),m=o(99402);!function(t){let e,o,i,w;!function(t){t.MainWindow={injectionStyle:{right:"20px",bottom:"0",zIndex:m.op.toString()},offsets:{top:33,left:20},shiftBehavior:{top:-120,left:0}},t.Modal={defaultOffset:{top:-20,left:-20},sidePeekOffset:{top:-90,left:-20}}}(e||(e={})),function(t){t.findPageContentElement=t=>t.closest(".notion-page-content")||t.closest(".whenContentEditable"),t.findMainFrame=t=>t.closest(".notion-frame"),t.findModalWindow=t=>(null==t?void 0:t.parentElement)||void 0,t.isInSidePeekPanel=t=>!!t&&Boolean(t.closest(".layout-side-peek"))}(o||(o={})),function(t){t.createMainWindowPositionStyleBehavior=t=>t.pipe(a.U((t=>({position:"absolute",width:"auto",height:"auto",pointerEvents:"all",right:`${t.left}px`,top:`${t.top}px`})))),t.calculateMainWindowMetrics=(t,o,i)=>{const n=f.p8.create({top:t.size.height+i.top+e.MainWindow.offsets.top,left:t.size.width-i.left-e.MainWindow.offsets.left});return{offset:n,page:f.Cv.fromOffset(n,f.Cv.fromClient(t.client,{top:o.scrollY,left:o.scrollX}),{top:0,left:0}),client:f.Ir.create(f.E9.plus(t.client,n)),effectivePadding:{top:0,right:0,bottom:0,left:0},size:g.V.gButtonMaxSize}},t.createMainWindowShiftBehavior=()=>n.of(e.MainWindow.shiftBehavior),t.createModalShiftBehavior=t=>()=>(0,n.of)({left:e.Modal.defaultOffset.left,top:t?e.Modal.sidePeekOffset.top:e.Modal.defaultOffset.top})}(i||(i={})),function(t){t.createMainWindowIntegration=(t,o)=>c.T.contentEditable("NotionMainWindow",(n=>({target:t,matchCheckOverride:()=>!0,createLayout:()=>new d.A7(t,{customGbuttonPositioning:{injectionElement:o,injectionStyle:e.MainWindow.injectionStyle,createPositionStyleBehavior:i.createMainWindowPositionStyleBehavior,calculateMetrics:i.calculateMainWindowMetrics,createShiftBehavior:i.createMainWindowShiftBehavior}}),textMap:v}))),t.createModalIntegration=(t,e,o)=>c.T.contentEditable("NotionModal",(n=>({target:t,createLayout:()=>new d.A7(e,{createGbuttonShiftBehavior:i.createModalShiftBehavior(o)}),textMap:v})))}(w||(w={}));const v={createFieldTextMap:t=>s.Z.create(t,{andFilterNodeOutput:(t,e)=>e.outputConsidered||t instanceof HTMLElement&&t.isContentEditable})},S={kind:p.A.editable,name:"Notion.pageContentBody",match:t=>t.experimentClient.isGateEnabled(r.K.GbuttonInNotionModal)?(t=>{const e=o.findPageContentElement(t.field),i=o.findMainFrame(t.field);if(i&&e)return w.createMainWindowIntegration(e,i).match(t);const n=o.findModalWindow(e),a=o.isInSidePeekPanel(t.field);return n?w.createModalIntegration(e||t.field,n,a).match(t):l.t$(p.x.fieldSkippedError({reason:"not a Notion pageContentBody",integrationName:"Notion",field:t.field}))})(t):(t=>{const e=t.field.closest(".notion-page-content")||t.field.closest(".whenContentEditable"),o=t.field.closest(".notion-frame");return e?c.T.contentEditable("Notion",(t=>({target:e,matchCheckOverride:()=>!0,createLayout:()=>new d.A7(e,{customGbuttonPositioning:{injectionElement:o,injectionStyle:{bottom:"0",right:"20px",zIndex:m.op.toString()},createPositionStyleBehavior:t=>t.pipe(a.U((t=>({position:"absolute",width:"auto",height:"auto",pointerEvents:"all",right:`${t.left}px`,top:`${t.top}px`})))),calculateMetrics:(t,e,o)=>{const i=f.p8.create({top:t.size.height+o.top+33,left:t.size.width-o.left-20});return{offset:i,page:f.Cv.fromOffset(i,f.Cv.fromClient(t.client,{top:e.scrollY,left:e.scrollX}),{top:0,left:0}),client:f.Ir.create(f.E9.plus(t.client,i)),effectivePadding:{top:0,right:0,bottom:0,left:0},size:g.V.gButtonMaxSize}},createShiftBehavior:()=>n.of({top:-120,left:0})}}),textMap:{createFieldTextMap:t=>s.Z.create(t,{andFilterNodeOutput:(t,e)=>e.outputConsidered||t instanceof HTMLElement&&t.isContentEditable})}}))).match(t):l.t$(p.x.fieldSkippedError({reason:"not a Notion pageContentBody",integrationName:"Notion",field:t.field}))})(t)};t.page=(0,h.$W)({name:"notion",domain:M.ch},[S,...u.k.newLayoutRules])}(i||(i={}))}}]);