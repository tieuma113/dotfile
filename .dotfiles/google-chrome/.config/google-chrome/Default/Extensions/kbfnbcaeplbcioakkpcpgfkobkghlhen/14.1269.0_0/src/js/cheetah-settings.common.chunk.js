(self.webpackChunk=self.webpackChunk||[]).push([[6077,751],{10269:(e,t,n)=>{n.d(t,{q:()=>i});var a=n(92379),o=n(49652);function i(){const[e,t]=a.useState(void 0);return a.useEffect((()=>{(0,o.kA)().then((e=>{t(e)}))}),[]),{isGoEnabledForInstitution:e,isInstitutionManaged:void 0!==e}}},36526:(e,t,n)=>{n.d(t,{s:()=>o});var a=n(60026);function o(e){return"test"===e.getTreatment(a.p.ReducedNotchAnnoyance)}},90193:(e,t,n)=>{n.r(t),n.d(t,{SettingsView:()=>T});var a=n(90023),o=n(92379),i=n(24666),r=n(90572),s=n(14969),l=n(21100),c=n(13391),u=n(33885),d=n(58303),p=n(12518),m=n(90595),g=n(18838),h=n(35614),b=n(78819),E=n(78519),f=n(86562),v=n(92854),y=n(58526),S=n(74609),k=n(19724),w=n(4972),C=n(19523),x=n(29483);const T=({assistantSettingsViewModel:e,experimentClient:t,openSubscriptionDialog:n,getEnv:T,className:B})=>{const{domain:D,actions:A,state:I,hasInProductDiscountSpecialOffer:P,downloadDebugReports:L,assistantSessionId:G}=e,R=o.useRef(c.h.create(d.YP)),[,U]=o.useState(!1),[_,O]=o.useState(!!I.view("page","enabled").get());o.useEffect((()=>{const e=I.view("user").pipe((0,i.x)(k.n.isFree),(0,r.h)(k.n.isFree)).subscribe((()=>{A.getConfiguration("assistantSettingsPopup").then((e=>{(0,a.zG)(e,p.UI((e=>{R.current.set(d.ij(e))}))),U(!0)}))}));return()=>e.unsubscribe()}),[]);const M={checked:_,update:e=>{O(e),A.toggleSite(e,D),S.J.checkingToggleClick("assistant",w.y.other,e?"on":"off",D)}},F=o.useMemo((()=>new f.C((0,x.nD)(T()))),[]);return o.createElement(l.a.Context.Provider,{value:F},o.createElement(u.F.div,{role:"region","aria-label":"Grammarly settings",className:B},I.view((({user:e,page:n,dynamicConfig:a,dapi:i,sessionTimeoutValue:r})=>o.createElement(v.a7,{actions:A,config:{enabled:!0,domain:D},settings:n,sessionTimeoutValue:r,user:e,dapi:i,dynamicConfig:a,siteCategory:w.y.other,isReportBugFeatureAllowed:!t.isGateEnabled(m.K.HideReportBugByGrammarlyEmployeeFeature),openReportBugForm:e=>{self.open(C.WY(e))},openDebugPage:()=>{self.open(chrome.runtime.getURL("src/debug.html"))},openUrl:e=>self.open(e),placement:"assistant",showCitationBuilderToggle:!1,siteSwitcherChecked:M,isIndianEnglishDialectSupported:t.isGateEnabled(m.K.IndianEnglishDialect)||t.isGateEnabled(m.K.IndianEnglishDialectInternal),isAutoApplySupported:t.isGateEnabled(m.K.SuggestionDeliveryAutoApply),downloadDebugReports:L,isCheetahSupported:!0,showSerengetiFeatureToggle:t.isGateEnabled(m.K.KnowledgeEngineSearchV2Alpha),isKnowledgeHubSupported:(0,b.a)(t),isTouchTypistSupported:E.A.isAvailableByInstitution(a)&&E.A.isAvailableViaGateOrExperiment(t),isHumanWritingReportSupported:(0,g.C0)(n.humanWritingReport),assistantSessionId:G,bgRpc:T().bgRpc}))),(0,h.gm)(I,P).view((({user:e,hasSpecialOffer:a})=>o.createElement(y.Z,{user:e,openSubscriptionDialog:n,isAssistant:!0,hasInProductDiscountSpecialOffer:a,uphookConfiguration:R.current,trackUphookHubEvent:(e,t)=>{t.pipe((0,r.h)(d.pC),(0,s.P)()).subscribe((t=>{A.trackConfiguration(e,t.value)}))},experimentClient:t})))))}},20851:(e,t,n)=>{if(n.d(t,{Cr:()=>w,FU:()=>g,OY:()=>x,Td:()=>m,UI:()=>b,XG:()=>C,eC:()=>d,ex:()=>k,gO:()=>l,r4:()=>E,sO:()=>S,xq:()=>p}),1388==n.j)var a=n(90023);if(1388==n.j)var o=n(58303);if(1388==n.j)var i=n(67880);var r=n(25693),s=n(78767);function l(e,t){var n,a,o;const i=null===(o=null===(a=null===(n=null==t?void 0:t.citationBuilder)||void 0===n?void 0:n.domains)||void 0===a?void 0:a[e])||void 0===o?void 0:o.disabled;return void 0!==i?!i:void 0}function c(e,t){return v(t).some((t=>new RegExp(t.domain).test(e)))}function u(e){var t,n;return!(null!==(n=null===(t=e.citationBuilder)||void 0===t?void 0:t.disabled)&&void 0!==n&&n)}function d(e,t){return v(t).some((t=>{const n=new RegExp(t.domain),a=new RegExp(t.pathname);return n.test(e.hostname)&&a.test(e.pathname)}))}function p(e){return o.Y3((()=>{const t=new URL(e).hostname.split(".");return t.slice(t.length-2).join(".")}))}function m(e,t,n,a){return n?function(e,t,n){const a=l(e,n);return u(t)&&(void 0===a&&c(e,t)||!0===a)}(e,t,a):function(e,t,n){return u(t)&&c(e,t)&&!1!==l(e,n)}(e,t,a)}function g(e,t){return v(t).some((t=>new RegExp(t.domain).test(e)&&!0===t.reparse))}const h={verticalLocation:"bottom",horizontalLocation:"left",offsetX:17,offsetY:32};function b(e,t){var n;return(null===(n=v(t).find((t=>new RegExp(t.domain).test(e))))||void 0===n?void 0:n.buttonPosition)||h}function E(e,t,n){return u(t)&&(n?!function(e,t){var n,a;return(null!==(a=null===(n=t.citationBuilder)||void 0===n?void 0:n.blockedDomains)&&void 0!==a?a:[]).includes(e)}(e,t):c(e,t))}function f(e,t){var n,a,o;const i=new Set(null!==(a=null===(n=e.citationBuilder)||void 0===n?void 0:n.blockedDomains)&&void 0!==a?a:[]);return Object.entries((null===(o=t.citationBuilder)||void 0===o?void 0:o.domains)||{}).filter((([,e])=>void 0!==e&&!e.disabled)).filter((([e])=>{return t=e,!i.has(t);var t})).map((([e])=>e))}function v(e){var t,n;return null!==(n=null===(t=e.citationBuilder)||void 0===t?void 0:t.sources)&&void 0!==n?n:[]}const y=(0,s.hz)((()=>{const e=document.location.href;return(0,r.KK)(e)}));function S(e){const t=e=>`^${e.replace(/\./g,"\\.")}$`;return{sources:v(e.dynamicConfig),explicitlyEnabledDomainsWithRegexStrings:f(e.dynamicConfig,e.page).map((e=>[e,t(e)]))}}const k=(0,s.hz)((e=>{const t=document.location.href;return{url:t,domain:(0,r.KK)(t),isUrlAllowlisted:d(document.location,e)}})),w=(0,s.hz)((()=>s.iy.create()));function C(e){const t=w(),n=y();return(0,a.zG)(e,(0,i.H6)("citeCopyButtonClick","citeCopyIntextClick","citePopupButtonDisable","citePopupButtonShow","citePopupEditClick","citePopupButtonClick","citePopupEditSuccess","citePopupMissingInfoShow","citePopupMissingInfoFormShow","feedbackSentButtonClick","citePopupAddMissingClick"),(e=>({...e,domain:n,sessionId:t})))}function x(e,t){return e.manualInvocation&&!0===l(t.domain,t)}},15329:(e,t,n)=>{n.d(t,{V:()=>i,X:()=>r});var a=n(90595),o=n(70843);function i(e){return e.isGateEnabled(a.K.GOSRollout)||"test"===e.getTreatment(o.p.GOSRollout)}function r(e){return!!i(e)&&(e.isGateEnabled(a.K.OggyOnGOS)||"test"===e.getTreatment(o.p.OggyOnGOS))}},42175:(e,t,n)=>{n.d(t,{QU:()=>o,Uv:()=>a,XW:()=>s,_f:()=>i,bd:()=>c,dL:()=>r,yg:()=>l,ym:()=>u});const a=2,o=20,i=92,r=10,s=["chat.openai.com","gemini.google.com","www.perplexity.ai","perplexity.ai","chatgpt.com","claude.ai","www.wikipedia.org",".wikipedia.org"],l=["docs.google.com"],c=1e4,u={howItWorks:"https://grammarly.com",learnMoreTransparency:"https://grammarly.com",learnMoreSafety:"https://grammarly.com",learnMoreControl:"https://grammarly.com",reportAnIssue:"https://support.grammarly.com/hc/en-us"}},18838:(e,t,n)=>{n.d(t,{C0:()=>c,E3:()=>s,MP:()=>r,Ng:()=>i,YI:()=>l,wg:()=>o});var a=n(42175);const o={kind:"initial",allDomainsTrackingEnabled:!1};function i(e,t,n){if("enabled"===n.kind){const a=n.domainSettings.find((({domain:e})=>e===t));return!!a&&(a.logAllDocuments?!a.pausedDocumentIds.includes(e):a.activeDocumentIds.includes(e))}return!1}function r(e,t,n){var a;if("enabled"===n.kind){const o=n.domainSettings.find((({domain:e})=>e===t));return!!o&&(!!o.logAllDocuments||((null===(a=o.pausedDocumentIds)||void 0===a?void 0:a.includes(e))||o.activeDocumentIds.includes(e)))}return!1}function s(e,t){var n,a;return"enabled"===t.kind&&Boolean(null===(a=null===(n=t.domainSettings)||void 0===n?void 0:n.find((({domain:t})=>t===e)))||void 0===a?void 0:a.logAllDocuments)}function l(e,t,n,o=!1){if("enabled"===(null==t?void 0:t.kind)&&void 0===t.deniedClipboardAccessSince){const i=void 0===t.allowedClipboardAccess?function(e){return"enabled"===(null==e?void 0:e.kind)&&e.domainSettings.some((e=>e.logAllDocuments?e.logAllDocuments:e.activeDocumentIds.length>0))}(t):t.allowedClipboardAccess,r=t.allDomainsTrackingEnabled?""!==e&&a.yg.concat((null==n?void 0:n.blockedDomains)||[]).every((t=>!new RegExp(t).test(e))):a.XW.some((t=>new RegExp(t).test(e)));return i&&(r||o)}return!1}function c(e){return!!e&&("initial"!==e.kind&&"disabled"!==e.kind||"disabled"===e.kind&&e.disabledByUser)}},85041:(e,t,n)=>{n.d(t,{c:()=>o});var a=n(90595);const o=e=>e.isGateEnabled(a.K.KnowledgeHubGmail)},78819:(e,t,n)=>{n.d(t,{a:()=>r});var a=n(85041),o=n(90595);var i=n(24435);const r=e=>(0,i.Lt)(e)||(0,a.c)(e)||(e=>e.isGateEnabled(o.K.KnowledgeHubSlack)||e.isGateEnabled(o.K.KnowledgeHubWord))(e)},19540:(e,t,n)=>{n.d(t,{c:()=>u});var a=n(13391),o=n(84308),i=n(59179),r=n(20161),s=n(36344),l=n(63532),c=n(55388);class u{constructor(e,t){this._lastSubmittedShortcutValue=e,this._isInputFocused=t,this._isActiveHotkeyChange=a.h.create(!1),this.onApplyHotkeyChange=e=>{e.setTouchTypistHotkey({hotkey:this._tmpHotkey.get()}),this._isActiveHotkeyChange.set(!1)},this.onDismissHotkeyChange=()=>{this._tmpHotkey.set(this._lastSubmittedShortcutValue),this._isActiveHotkeyChange.set(!1)},this.onIsActiveHotkeyChange=()=>{this._isActiveHotkeyChange.set(!0)},this._tmpHotkey=a.h.create(this._lastSubmittedShortcutValue)}listenToHotkeyChange(e){return o.a([this._isActiveHotkeyChange,this._isInputFocused]).pipe(i.U((([e,t])=>e&&t)),r.w((t=>t?(0,c.A8)(self,e):s.E)),l.b((({shortcut:e})=>{this._tmpHotkey.set(e)}))).subscribe()}get isActiveHotkeyChange(){return this._isActiveHotkeyChange}get tmpHotkey(){return this._tmpHotkey}}},55388:(e,t,n)=>{n.d(t,{A8:()=>E,_w:()=>f});var a=n(44071),o=n(13712),i=n(29416),r=n(63532),s=n(97092),l=n(59179),c=n(90572),u=n(64271);function d(e){const t=new Set;return e.filter((e=>{const n=e.code.toLowerCase();return!t.has(n)&&(t.add(n),!0)}))}function p(e,t){return"ControlLeft"===e.code||"ControlRight"===e.code?t?"⌃":"Ctrl":"ShiftLeft"===e.code||"ShiftRight"===e.code?"⇧":"AltLeft"===e.code||"AltRight"===e.code?t?"⌥":"Alt":"MetaLeft"===e.code||"MetaRight"===e.code?t?"⌘":"Win":"ArrowUp"===e.code?"↑":"ArrowDown"===e.code?"↓":"ArrowLeft"===e.code?"←":"ArrowRight"===e.code?"→":"Home"===e.code?"Home":"End"===e.code?"End":"PageUp"===e.code?"PageUp":"PageDown"===e.code?"PageDown":"Backspace"===e.code?"Backspace":"Delete"===e.code?"Delete":"Enter"===e.code?"Enter":"Tab"===e.code?"Tab":"Space"===e.code?"Space":e.code.startsWith("F")&&!isNaN(parseInt(e.code.substring(1),10))?e.code:"Escape"===e.code?"ESC":"CapsLock"===e.code?"CapsLock":"NumLock"===e.code?"NumLock":"ScrollLock"===e.code?"ScrollLock":"PrintScreen"===e.code?"PrintScreen":"Pause"===e.code?"Pause":"MediaPlayPause"===e.code?"MediaPlayPause":"VolumeUp"===e.code?"VolumeUp":"VolumeDown"===e.code?"VolumeDown":"AudioVolumeMute"===e.code?"Mute":e.code.startsWith("Digit")?e.code.slice(5):e.code.startsWith("Numpad")?e.code.slice(6):"Equal"===e.code?e.shiftKey?"plus":"=":"Minus"===e.code?"-":"NumpadAdd"===e.code?"plus":"NumpadSubtract"===e.code?"-":"NumpadEqual"===e.code?"=":null}function m(e){return function(t){return{shortcut:t.map((t=>{const n=p(t,e);return n||(t.code.toLowerCase().startsWith("key")?t.code.slice(3):t.code)})).join("")}}}function g(e,t,n){return e.map((e=>{const a=function(e,t,n){return["Tab","Enter","Backspace","ArrowUp","ArrowDown","ArrowRight","ArrowLeft"].some((a=>e===a&&t===p({code:e},n)))}(e.code,t.get(),n);return a&&(e.preventDefault(),e.stopImmediatePropagation()),e}))}function h(e){e.preventDefault(),e.stopImmediatePropagation()}function b(e){return e.sort(((e,t)=>t.code.length-e.code.length))}function E(e,t){const n=a.R(e,"keydown",{capture:!0}).pipe(o.g("code")),u=a.R(e,"keyup",{capture:!0}).pipe(i.b(50));return n.pipe(r.b(h),s.f(u),l.U(d),c.h((e=>e.length>0)),l.U(b),l.U(m(t)))}function f(e,t,n){const o=a.R(e,"keydown",{capture:!0}),i=a.R(e,"keyup",{capture:!0}),s=new Map;return u.T(o.pipe(r.b((e=>{s.set(e.code,e)}))),i.pipe(r.b((e=>{s.delete(e.code)})))).pipe(l.U((()=>[...s.values()])),r.b((e=>g(e,n,t))),l.U(b),l.U((e=>{const{shortcut:n}=m(t)(e);return{shortcut:n,events:e}})))}},6882:(e,t,n)=>{n.d(t,{Zz:()=>l,h4:()=>r,uT:()=>s});var a=n(92379),o=n(41195),i=n(31e3);const r=({sanitizedTitle:e})=>a.createElement("div",{className:i.header},a.createElement("div",{className:i.flag},a.createElement("div",{className:i.flagTop}),a.createElement("div",{className:i.flagBottom})),a.createElement("div",{className:i.title,dangerouslySetInnerHTML:{__html:e}})),s=({sanitizedBody:e})=>a.createElement(a.Fragment,null,e.map((e=>a.createElement("p",{key:e,className:i.paragraph,dangerouslySetInnerHTML:{__html:e}})))),l=e=>a.createElement(o.X,{style:{width:280},onClose:e.onClose,includeMainContentPadding:!1,mainContent:a.createElement("div",{className:i.content,"data-has-footer":e.popupFooter?"true":"false"},a.createElement(r,{sanitizedTitle:e.sanitizedPopupTitle}),a.createElement(s,{sanitizedBody:e.sanitizedPopupBody}),e.popupFooter?e.popupFooter:null)})},6188:(e,t,n)=>{n.d(t,{c:()=>a});var a,o=n(72314);!function(e){e.sanitizeSuspendTitle=function(e){return e?(0,o.sanitize)(e):"Grammarly is unavailable in your country"},e.sanitizeSuspendBody=function(e){return e?e.map(o.sanitize):["In response to Russia’s invasion of Ukraine, we have suspended service to accounts in Russia and Belarus."]},e.sanitizeSuspendLearnMoreLabel=function(e){return e?(0,o.sanitize)(e):"Learn more"}}(a||(a={}))},32295:(e,t,n)=>{n.r(t),n.d(t,{StandWithUkraineGrammarlySuspendedPopup:()=>c,StandWithUkraineSuspendFooter:()=>u});var a=n(92379),o=n(6188),i=n(82914),r=n(1695),s=n(6882),l=n(59776);const c=e=>(a.useEffect((()=>{i.J.standWithUkraineSuspendPopupShow()}),[]),a.createElement(s.Zz,{onClose:()=>{e.onClose(),i.J.standWithUkraineSuspendCloseButtonClick()},sanitizedPopupTitle:o.c.sanitizeSuspendTitle(e.popupTitleHTML),sanitizedPopupBody:o.c.sanitizeSuspendBody(e.popupBodyHTML),popupFooter:a.createElement(u,{onLearnMore:()=>{e.onLearnMore(),i.J.standWithUkraineSuspendLearnMoreButtonClick()},sanitizedLearnMoreButtonLabelHTML:o.c.sanitizeSuspendLearnMoreLabel(e.popupLearnMoreButtonLabelHTML)})})),u=e=>a.createElement(r.z,{className:l.learnMoreButton,onClick:e.onLearnMore},a.createElement("span",{dangerouslySetInnerHTML:{__html:e.sanitizedLearnMoreButtonLabelHTML}}))},98692:(e,t,n)=>{n.d(t,{b:()=>y,f:()=>a});var a,o=n(92379),i=n(50635),r=n(69554),s=n(31702),l=n(12314),c=n(56863),u=n(6266),d=n(62067),p=n(47052),m=n(67505),g=n(74609),h=n(28898),b=n(35248),E=n(95404),f=n(91409);!function(e){e.hide="hideGdocsSigninPopupMessage"}(a||(a={}));const v=e=>e===d.VP.SignUp,y=e=>{const{userType:t,slot:n,authUserDetails:a,bgRpcApi:y}=e,S={source:"authHook",slot:n,name:d.Vi.Default,experience:d.VP.SignUp,lastKnownUserType:(0,u.qf)(a)},k=n=>{var a;const o={...S,action:n,authType:d.uN.Email},i={utmCampaign:"gdocsPopup",utmSource:v(n)?"signupHook":"signinHook"},r=v(n)?(0,E.Xc)(o,i):(0,E.s7)(o,i);g.J.gdocsRegisterPromptButtonClick(n),(0,l.T)(g.J,{authHookDetails:o,userType:t,isGDocs:!0}),(0,b.B)((0,h.O)().experimentClient)?y.launchAuthFlow(v(n),{...(0,c.xW)(o),...(0,E.OC)((0,E.g7)(i))}):e.openSigninPage(r),null===(a=e.onClick)||void 0===a||a.call(e)};return o.useEffect((()=>{(0,l.B)(g.J,{authHookDetails:S,userType:t,isGDocs:!0})}),[]),o.createElement("div",{className:f.wrapper},o.createElement(p.h,{onClose:e.onClose}),o.createElement("div",{className:f.animation}),o.createElement(i.k,{direction:"column",align:"center",paddingBottom:6,gap:4,className:f.content},o.createElement(r.X,{as:"h2",variant:"heading-xsmall",className:f.title},"Welcome to Grammarly for Google Docs!"),o.createElement(s.x,{as:"p",variant:"text-small"},"Sign up to turn on Grammarly suggestions in your Google Docs."),o.createElement(m.R,{onSignUp:()=>{k(d.VP.SignUp)},onSignIn:()=>{k(d.VP.SignIn)}})))}},5546:(e,t,n)=>{if(n.d(t,{E:()=>r,M:()=>i}),3075==n.j)var a=n(90595);var o=n(20905);const i=(e,t)=>e.anonymous&&(!t.hideGdocsSigninPopupTime||t.hideGdocsSigninPopupTime+o.g0<Date.now()),r=(e,t,n)=>e.anonymous&&n.isGateEnabled(a.K.StandWithUkraineGrammarlySuspended)&&(!t.hideGdocsStandWithUkraineSuspendedPopup||t.hideGdocsStandWithUkraineSuspendedPopup+o.g0<Date.now())},33839:(e,t,n)=>{n.d(t,{Y:()=>c});var a=n(92379),o=n(52348),i=n(81224),r=n(85837),s=n(51705),l=n.n(s);const c=({onClick:e,cta:t="Get Pro",dataGrammarlyPart:n="unlock-premium-button",className:s})=>a.createElement(o.z,{variant:"pro",onClick:e,"data-grammarly-part":n,iconStart:i.R,...(0,r.Sh)(l().premiumButton,s),text:t})},4517:(e,t,n)=>{n.d(t,{m:()=>c});var a=n(15380),o=n(44675),i=n(20905),r=n(56623),s=n(67960),l=n(29483);const c=()=>[new r.r("bg",(()=>(0,l.OB)().bgRpc.api.getBGLogs()),r.r.getLogsFromSessionStorageFallbackGetter(s.v.bgHistoryLogs)),new r.r("popup",(()=>Promise.resolve((0,l.OB)().historyLogsService.getLogs())),r.r.getLogsFromSessionStorageFallbackGetter(s.v.popupHistoryLogs)),new r.r("cs",(async()=>{const e=[],t=t=>{e.push(...t.option.logs.map((e=>({...e,loggerName:`${t.option.isIframeIntegration?`iframe.[${t.caller.frameId}].`:""}${e.loggerName}`}))))};return(0,l.OB)().message.on(a.I.Kind.sendCsLogs,t),(0,l.OB)().bgRpc.api.sendToFocusTab({kind:a.B.Kind.sendCsLogsToPopup}),await(0,o.gw)(i.E0),e.length||await(0,o.gw)(i.E0),(0,l.OB)().message.off(a.I.Kind.sendCsLogs,t),e.length?e:void 0}),r.r.getLogsFromSessionStorageFallbackGetter(s.v.csHistoryLogs)),new r.r("sidePanel",(async()=>{const e=await(0,l.OB)().browserApi.sessionStorage.get("isSidePanelOpen");if(!(null==e?void 0:e.isSidePanelOpen))return;const t=[],n=e=>{t.push(...e.logs)};(0,l.OB)().message.on(a.I.Kind.sendSidePanelLogsToPopup,n);return(0,l.OB)().browserApi.message.sendRuntimeMessage({kind:a.I.Kind.requestSidePanelLogsFromPopup}),await(0,o.gw)(i.E0),(0,l.OB)().message.off(a.I.Kind.sendSidePanelLogsToPopup,n),t.length?t:void 0}),r.r.getLogsFromSessionStorageFallbackGetter(s.v.sidePanelHistoryLogs))]},86090:(e,t,n)=>{n.d(t,{N:()=>r});var a=n(92379),o=n(4026),i=n(78703);class r extends a.Component{render(){const{institutionName:e,ssoId:t}=this.props,n="GrammarlyEnrollmentToken: "+t;return a.createElement("div",{className:(0,o.cs)(i.edc_stripe)},"Managed by ",a.createElement("b",{title:n},e))}}},51109:(e,t,n)=>{n.d(t,{Xb:()=>yn,MA:()=>kn,OB:()=>Sn});var a=n(21100),o=n(1963),i=n(97484),r=n(53639);let s;function l(){return void 0===s&&(s=!!document.querySelector(".popup"),self.IS_POPUP=s),s}var c=n(84308),u=n(14969),d=n(18519),p=n(64017),m=n(64434),g=n(3620),h=n(4026),b=n(16381),E=n(39963),f=n(38364),v=n(40594),y=n(63838),S=n(7909),k=n(52698),w=n(92379),C=n(16254),x=n(50635),T=n(31702);var B=n(90023),D=n(95295),A=n(67249),I=n(55368),P=n(33885),L=n(54647),G=n(954),R=n(59179),U=n(58303),_=n(90595),O=n(56863),M=n(6266),F=n(62067),N=n(20851),H=n(42744),W=n(18838),z=n(35614),K=n(78819),J=n(78519),V=n(46599),j=n(28240),$=n(83507),q=n(31818);const Z=/^http(s?)\:\/\/docs\.google\.com\/document/;var X=n(98692),Y=n(5546),Q=n(27327),ee=n(4636),te=n(46418),ne=n(86090),ae=n(85156),oe=n(90572),ie=n(83542),re=n(13391),se=n(12518),le=n(74609),ce=n(66886);const ue=()=>w.createElement("div",{className:ce.footer},w.createElement("div",{className:ce.footer_btn_container_ghost},w.createElement("div",{onClick:de,className:ce.footer_btn},w.createElement("div",{className:ce.footer_icon_home},w.createElement(pe,null)),"My Grammarly"))),de=()=>{le.J.myGrammarlyButtonClick("settingsToolbar"),Vt((0,b.Um)().allSettings)},pe=()=>w.createElement("svg",{width:"28",height:"28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},w.createElement("path",{d:"M6.563 21.438v-9.625L14 5.686l7.438 6.125v9.626m-9.625 0v-4.813c0-1.208.979-2.188 2.187-2.188v0c1.208 0 2.188.98 2.188 2.188v4.813",strokeWidth:".875",strokeLinecap:"round",strokeLinejoin:"round"}));var me=n(62162);const ge=({siteSwitcherProps:e})=>w.createElement($.L,{chunkName:"designSystem"},w.createElement(x.k,{className:ce.ghostContainer,direction:"column",justify:"center",align:"start"},w.createElement("br",null),w.createElement("div",{className:ce.ghostImage}),w.createElement("br",null),w.createElement(T.x,{as:"p",weight:"bold",variant:"text-medium"},"Some features temporarily paused"),w.createElement("br",null),w.createElement(T.x,{as:"p",variant:"text-medium"},"Your organization is currently studying the effectiveness of Grammarly’s writing suggestions."),w.createElement("br",null),w.createElement(T.x,{as:"p",variant:"text-medium"},"Some features are temporarily turned off until the study concludes."),w.createElement("br",null),w.createElement("div",{className:ce.ghostSwitcher},w.createElement(me.w,{...e}))));var he,be=n(15380),Ee=n(13736),fe=n(4517);!function(e){e.download=function(){(0,b.G6)()&&(0,b.CO)()?Sn().bgRpc.api.sendToFocusTab({kind:be.B.Kind.downloadDebugReportsFromCS}):Ee.E.download((0,fe.m)())},e.initKeyboardShortcutHandler=function(){return Ee.E.initKeyboardShortcutHandler((0,fe.m)())}}(he||(he={}));var ve=n(15484),ye=n(36279),Se=n(82065),ke=n(4531),we=n(67505),Ce=n(95404),xe=n(63349),Te=n(61483),Be=n(8842),De=n(98555);const Ae={borderTopWidth:1,borderTopStyle:"solid",borderTopColor:Te.I.Border.Base.Subdued,flexShrink:0,width:xe.ux.px(De.lY)},Ie={height:xe.ux.px(56),display:"flex",justifyContent:"space-between",paddingLeft:xe.ux.px(De.M8),paddingRight:xe.ux.px(De.M8)},Pe={height:xe.ux.px(28)},Le={borderTopWidth:1,borderTopStyle:"solid",borderTopColor:Te.I.Border.Base.Subdued,height:xe.ux.px(216),backgroundImage:"url('popup/swoosh-signin.png')",paddingTop:xe.ux.rem(Be.mh),paddingBottom:xe.ux.rem(Be.sD),paddingLeft:xe.ux.rem(Be.Ze),paddingRight:xe.ux.rem(Be.Ze),backgroundPosition:"bottom right",backgroundRepeat:"no-repeat"},Ge=xe.ux.stylesheet({footer:[Ae],footer_btn_container:[Ie],footer_icon_home:[Pe],signUpFooter:[Le]}),Re=e=>{const t={source:"authHook",slot:F.G0.Toolbar,name:F.Vi.SettingsFooter,lastKnownUserType:(0,M.qf)(e.authUserDetails),experience:F.VP.SignIn};return w.createElement(ie.x,{className:Ge.signUpFooter},w.createElement(T.x,{as:"p",weight:"bold",color:"base-default"},"Sign in to get key Grammarly features"),w.createElement(T.x,{as:"p",weight:"bold",color:"base-default"},"Access Grammarly's full functionality, including an easy-to-use editing experience and personalized dictionary."),w.createElement(we.f,{handleClick:e=>{const n=e===F.VP.SignUp?(0,Ce.Xc)({...t,action:F.VP.SignUp},{utmCampaign:"toolbarMenu",utmSource:"signupHook"}):(0,Ce.s7)({...t,action:F.VP.SignIn},{utmCampaign:"toolbarMenu",utmSource:"signinHook"});self.open(n),le.J.gdocsRegisterPromptButtonClick(e)}}))},Ue=({openWebEditor:e,isDocsDisabled:t,summary:n,newDocUrl:a,appUrl:o})=>w.createElement(ie.x,{className:Ge.footer},n,w.createElement(x.k,{className:Ge.footer_btn_container},!t&&w.createElement(x.k,{align:"center"},w.createElement(ve.r,{onClick:t=>{t.preventDefault(),le.J.newDocumentButtonClick("settingsToolbar"),e(!0)},href:a,display:"block",underline:"hover",variant:"secondary",target:"_blank"},w.createElement(x.k,{align:"center",gap:1},w.createElement(ye.J,{size:"small",variant:"inherit",icon:Se.x,accessibilityLabel:""}),w.createElement(T.x,{as:"span",variant:"text-small",color:"base-subdued"},"New Document")))),w.createElement(x.k,{align:"center"},w.createElement(ve.r,{onClick:t=>{t.preventDefault(),le.J.myGrammarlyButtonClick("settingsToolbar"),e()},href:o,display:"block",underline:"hover",variant:"secondary",target:"_blank"},w.createElement(x.k,{align:"center",gap:1},w.createElement(ye.J,{className:Ge.footer_icon_home,icon:ke.p,size:"small",variant:"inherit",accessibilityLabel:""}),w.createElement(T.x,{as:"span",variant:"text-small",color:"base-subdued"},"My Grammarly"))))));var _e=n(47695);const Oe=()=>w.createElement("div",{className:_e["footer-ios"]},"Grammarly for Safari helps with spelling, grammar, and punctuation. To get advanced suggestions, use the Grammarly Keyboard.");var Me=n(20785),Fe=n(24825);const Ne=e=>{var t;return w.createElement("div",{className:Fe["header-ios"]},w.createElement(Me.T,{size:32,type:"full"}),w.createElement("a",{className:Fe.link,href:null!==(t=e.deeplink)&&void 0!==t?t:(0,b.Um)().iOSApp,onClick:()=>{le.J.openAppButtonClick("settingsPopup")}},"Open App"))};var He=n(1695),We=n(86723);const ze=({actions:e,domain:t})=>w.createElement("div",{className:We.wrapper},w.createElement("div",{className:We.heading},"Enable Grammarly on ",w.createElement("span",{className:We.domain},t),"?"),w.createElement("div",{className:We.description},"Grammarly needs access to the text you ",w.createElement("br",null),"write in order to provide suggestions."),w.createElement(He.z,{kind:"success",onClick:()=>{e.enableOnceClickToRun(),le.J.clickToRunOptionButtonClick("allow_once")}},"Allow once"),w.createElement(He.z,{kind:"success",onClick:()=>{e.toggleSite(!0,t,!0),le.J.clickToRunOptionButtonClick("allow_on_website")}},"Always allow on this website"),w.createElement(He.z,{kind:"success",onClick:()=>{e.enableClickToRunOnAllSites(),le.J.clickToRunOptionButtonClick("allow_on_all_websites")}},"Always allow on every website"));var Ke=n(92854),Je=n(69003),Ve=n(27106),je=n(24664);function $e({brandingSet:e,...t}){if(void 0===e)return null;if("BUSINESS"===e)return w.createElement(Ve.V,{label:"Business",variant:"business",...t});if("PREMIUM"===e)return w.createElement(Ve.V,{label:"Premium",variant:"premium",...t});let n;switch(e){case"ENTERPRISE":n="enterprise";break;case"EDU":n="edu";break;case"PRO":n="pro";break;case"FREE":n="free"}return w.createElement(je.O,{variant:n,...t})}var qe=n(72032);const Ze=e=>{var t;return w.createElement(x.k,{className:xe.ux.joinClasses([Qe.container,!e.hideDelimiter&&Qe.withDelimiter]),justify:"space-between",align:"center",padding:4,paddingLeft:6,paddingRight:6},w.createElement("a",{target:"_blank",rel:"noreferrer",href:null!==(t=e.appUrl)&&void 0!==t?t:(0,b.Um)().app,"aria-label":"Grammarly homepage (opens in a new tab)",style:{outlineColor:"var(--color-border-brand-default)",outlineOffset:4,outlineWidth:2,height:21}},w.createElement(Je.T,{composition:"lockup",accessibilityLabel:"",brand:(0,qe.T)("go"),height:21})),w.createElement($e,{brandingSet:e.brandingSet,size:"xsmall"}))},Xe={width:De.lY,boxSizing:"border-box"},Ye={borderBottomWidth:1,borderBottomStyle:"solid",borderBottomColor:Te.I.Border.Base.Subdued},Qe=xe.ux.stylesheet({container:[Xe],withDelimiter:[Ye]});var et=n(58526);class tt{static isEnabled(){return!1}}var nt=n(19724),at=n(91957),ot=n(4972),it=n(78703);class rt extends w.Component{get _authUserDetails(){return(0,M.no)(this.props.state.settings)}constructor(e){super(e),this._logger=v.Y.create("SettingsComponent"),this.uphookConfiguration=re.h.create(U.YP),this.state={hasSpecialOffer:U.YP,isLoadingSpecialOffer:!1,uphookConfigIsReady:!1},this._toggleSiteWrap=(e,t,n)=>{const{actions:a,reloadTab:o,gdocsIsActiveTab:i}=this.props;a.toggleSite({enabled:e,domain:t,clickToRunEnabled:n}),i&&o()},this._setKeyboardShortcutWrap=(e,t)=>{this.props.actions.setKeyboardShortcut({[e]:t})}}componentDidMount(){nt.n.isFree(this.props.state.user)&&this.props.actions.getConfiguration("browserToolbar").then(se.Pd((e=>this._logger.warn("Failed to fetch uphook configuration",e)),(e=>{var t,n;this.uphookConfiguration.set(U.G(e)),this.setState({uphookConfigIsReady:!0});"Get Pro"!==(null!==(n=null===(t=null==e?void 0:e.content)||void 0===t?void 0:t.ctaCopy)&&void 0!==n?n:"")&&this._logger.warn("UphookHub configuration does not match the expected")}))),this.props.canRequestInProductDiscountSpecialOffer()&&(this.setState({isLoadingSpecialOffer:!0}),(0,B.zG)((0,z.SU)(this.props.actions),(0,ae.x)((()=>{this.setState({isLoadingSpecialOffer:!1})}))).subscribe((e=>{this.setState({hasSpecialOffer:e,isLoadingSpecialOffer:!1})})))}get siteCategory(){return this.props.gdocsIsActiveTab?ot.y.gdocs:ot.y.other}get siteSwitcherProps(){var e,t;const{state:n}=this.props,a={checked:!!this.props.state.settings.enabled,update:e=>{this._toggleSiteWrap(e,n.config.domain),le.J.checkingToggleClick("toolbar",this.siteCategory,e?"on":"off",n.config.domain),(0,E.Tb)().toggleExtension(e,"toolbar",(0,at.Cg)(n.config.domain))}};return{domain:n.config.domain,enabledInConfig:null!==(e=n.config.enabled)&&void 0!==e&&e,siteCategory:this.siteCategory,siteSwitcherChecked:a,favicon:null===(t=this.props.state.activeTab)||void 0===t?void 0:t.favIconUrl}}get summary(){const{state:e,openSubscriptionDialog:t}=this.props;return!this.state.isLoadingSpecialOffer&&this.state.uphookConfigIsReady&&w.createElement(et.Z,{user:e.user,openSubscriptionDialog:t,isAssistant:!1,hasInProductDiscountSpecialOffer:this.state.hasSpecialOffer,uphookConfiguration:this.uphookConfiguration,trackUphookHubEvent:(e,t)=>{t.pipe((0,oe.h)(U.pC),(0,u.P)()).subscribe((t=>{this.props.actions.trackConfiguration(e,t.value)}))},experimentClient:this.props.experimentClient})}get footer(){const{state:e,openWebEditor:t}=this.props;return this.props.isGhostProtocolEnabled?w.createElement(ue,null):this.props.isSafariIOS?w.createElement(Oe,null):e.user.anonymous?w.createElement(Re,{authUserDetails:this._authUserDetails}):w.createElement(Ue,{openWebEditor:t,isDocsDisabled:nt.n.isDocsDisabled(e.user),summary:this.summary,newDocUrl:this.props.newDocUrl,appUrl:this.props.appUrl})}get settingsContent(){const{state:e,actions:t,openReportBugForm:n,openDebugPage:a,citationBuilderSessionId:o,isCitationBuilderManualInvocationEnabled:i,isKnowledgeHubSupported:r,isTouchTypistSupported:s,isIndianEnglishDialectSupported:l,isCheetahSupported:c,showSerengetiFeatureToggle:u,isReportBugFeatureAllowed:d,isGhostProtocolEnabled:p,isAutoApplySupported:m,isHumanWritingReportSupported:g}=this.props;return p?w.createElement(ge,{siteSwitcherProps:this.siteSwitcherProps}):[w.createElement(Ke.a7,{key:"content",className:it.settingsContent,actions:{...t,toggleSite:this._toggleSiteWrap,setKeyboardShortcut:this._setKeyboardShortcutWrap},activeTab:e.activeTab,config:e.config,settings:e.settings,sessionTimeoutValue:e.sessionTimeoutValue,user:e.user,dapi:e.dapi,dynamicConfig:e.dynamicConfig,siteCategory:this.siteCategory,isReportBugFeatureAllowed:d,openReportBugForm:n,openDebugPage:a,openUrl:this.props.openUrl,placement:"popup",enableRenderingHack:!0,citationBuilderSessionId:o,isCitationBuilderManualInvocationEnabled:i,isKnowledgeHubSupported:r,isTouchTypistSupported:s,isIndianEnglishDialectSupported:l,isCheetahSupported:c,showSerengetiFeatureToggle:u,isAutoApplySupported:m,downloadDebugReports:()=>he.download(),isHumanWritingReportSupported:g,bgRpc:this.props.bgRpc})]}get dataGrammarlyPartByUser(){var e;const{passport:t}=this.props.state,n=null===(e=t.entitlements)||void 0===e?void 0:e.brandingSet;return null!=n?n:"FREE"}render(){var e;const{state:t,actions:n,isSafariIOS:a}=this.props;if(tt.isEnabled()&&!t.settings.enabledClickToRun)return w.createElement(ze,{actions:{...n,toggleSite:this._toggleSiteWrap},domain:t.config.domain});{const n=(0,h.cs)(it.gr_popup_settings,{[it.iOS]:a,[it.not_supported]:!t.config.enabled,[it.has_favicon]:t.activeTab&&!!t.activeTab.favIconUrl});return w.createElement(x.k,{className:n,"data-grammarly-part":this.dataGrammarlyPartByUser},w.createElement(ie.x,{className:it.content},a?w.createElement(Ne,null):w.createElement(Ze,{brandingSet:null===(e=this.props.state.passport.entitlements)||void 0===e?void 0:e.brandingSet}),w.createElement(ie.x,{"data-grammarly-part":"settings-popup-content",className:(0,h.cs)(it.settingsContentWrapper,a?it.withBackground:void 0)},this.settingsContent),this.footer))}}}var st=n(52348),lt=n(1087),ct=n(15e3),ut=n(12314),dt=n(72526),pt=n(47052),mt=n(98539);const gt=({onSignIn:e,onSignUp:t,hideSupplementaryLink:n})=>w.createElement(x.k,{direction:"column",gap:2},w.createElement(st.z,{onClick:t,width:"full","data-fire":"login-attempt, settings_toolbar_sign_up","data-test-attr":"signUpLink"},"Sign up"),!n&&w.createElement(x.k,{align:"center",justify:"center",gap:1},w.createElement(T.x,{as:"span",variant:"text-xsmall",color:"base-subdued"},"Already have an account?"),w.createElement(st.z,{onClick:e,variant:"ghost",size:"small","data-fire":"login-attempt, settings_toolbar_sign_in","data-test-attr":"signInLink"},"Sign in"))),ht=({onSignIn:e,onSignUp:t,hideSupplementaryLink:n})=>w.createElement(x.k,{direction:"column",gap:2},w.createElement(st.z,{onClick:e,width:"full","data-fire":"login-attempt, settings_toolbar_sign_in","data-test-attr":"signInLink"},"Sign in"),!n&&w.createElement(x.k,{align:"center",justify:"center",gap:1},w.createElement(T.x,{as:"span",variant:"text-xsmall",color:"base-subdued"},"Don't have an account?"),w.createElement(st.z,{onClick:t,variant:"ghost",size:"small","data-fire":"login-attempt, settings_toolbar_sign_up","data-test-attr":"signUpLink"},"Sign up"))),bt=({onRequestPermissions:e,requestingPermissions:t})=>w.createElement(w.Fragment,null,w.createElement(st.z,{onClick:e,"data-fire":"login-attempt, settings_toolbar_sign_in","data-test-attr":"signInLink",width:"full"},w.createElement("b",null,"Allow")," and continue to sign in"),w.createElement(T.x,{as:"p",variant:"text-xsmall",color:"base-subdued",marginTop:-1},t?"We are requesting your browser to grant permission.":"Next, your browser will ask you to grant permission.")),Et=({dynamicConfig:e,userType:t,...n})=>{const a={source:"authHook",slot:F.G0.Toolbar,name:F.Vi.Default,experience:n.authUserDetails.wasAuthenticatedUser||n.isBusiness?F.VP.SignIn:F.VP.SignUp,lastKnownUserType:(0,M.qf)(n.authUserDetails)},{onSignIn:o,onSignUp:i,...r}=(0,dt.yw)({dynamicConfig:e}),s=e=>{(0,ut.T)(n.gnar,{authHookDetails:{...a,action:e,authType:F.uN.Email},userType:t})};return w.useEffect((()=>{(0,ut.B)(n.gnar,{authHookDetails:a,userType:t})}),[]),w.createElement(vt,{...n,...r,onSignIn:()=>{const e=F.VP.SignIn;s(e),o({...a,action:e})},onSignUp:()=>{const e=F.VP.SignUp;s(e),i({...a,action:e})}})},ft=({children:e})=>w.createElement("li",null,w.createElement(ye.J,{icon:lt.L,size:"small",variant:"brand",accessibilityLabel:""}),w.createElement(T.x,{as:"span",variant:"text-small"},e)),vt=e=>{const{authUserDetails:t,onSignIn:n,onSignUp:a,needPermissions:o,requestingPermissions:i,onRequestPermissions:r,isSafariIOS:s,isBusiness:l,gnar:c}=e,u=o?null:w.createElement(ie.x,{bgColor:"background-brand-subdued",borderRadius:1,padding:2,className:mt.banner},w.createElement(ye.J,{icon:ct.m,accessibilityLabel:"",size:"large",variant:"brand",style:{minWidth:24}}),w.createElement(T.x,{as:"p",variant:"text-small",color:"brand-default"},l?"You're signed out of Grammarly Business.":"Grammarly is active, but key features are missing."));let d=w.createElement("div",{className:mt.descr},w.createElement(T.x,{as:"p",weight:"semibold"},"Sign up now to unlock the following:"),w.createElement("ul",null,w.createElement(ft,null,"Personal dictionary"),w.createElement(ft,null,"Save and access your documents"),w.createElement(ft,null,"Get weekly writing statistics and tips")));o?d=w.createElement(w.Fragment,null,w.createElement(T.x,{as:"p",weight:"semibold"},(0,b.G2)()," requires your permission to let Grammarly sign you in"),w.createElement(T.x,{as:"p",variant:"text-small"},"Please follow your browser's prompts to allow Grammarly to read grammarly.com site data.")):l&&(d=w.createElement("div",{className:mt.gb_descr},w.createElement(T.x,{as:"p",weight:"semibold"},"Sign in to access:"),w.createElement("ul",null,w.createElement(ft,null,"Writing suggestions"),w.createElement(ft,null,"Style Guide"),w.createElement(ft,null,"Brand Tones"),w.createElement(ft,null,"Snippets"))));let p=w.createElement(gt,{onSignIn:n,onSignUp:a});o?p=w.createElement(bt,{requestingPermissions:i,onRequestPermissions:r}):l?p=w.createElement(ht,{onSignIn:()=>{c.businessToolBarSigninButtonClick("toolbar"),n()},onSignUp:a,hideSupplementaryLink:!0}):t.wasAuthenticatedUser&&(p=w.createElement(ht,{onSignIn:n,onSignUp:a}));const m=(0,h.cs)(o?mt.permission:mt.signin,{[mt.iOS]:s});return w.createElement("div",{className:m},w.createElement(pt.h,{hideDelimiter:!0,isBusiness:l}),w.createElement(x.k,{direction:"column",padding:8,paddingTop:1,paddingBottom:4,className:mt.content,gap:4},u,d,p))};var yt=n(62531),St=n(25693),kt=n(20905);St.G1,St.bL;function wt(e){return{title:`Use Grammarly in ${e}`,get message(){return`To check your writing on this page in ${e}, you'll need to get the <a class="openGrammarly" href="${(0,b.Um)().desktop}" target="_blank" rel="noopener noreferrer">Grammarly desktop app</a>.`}}}const Ct={"drive.google.com":{title:"Up and running in Google Docs",get message(){return"Start writing in a document and you’ll see suggestions appear."},get icon(){return"ok"}},"docs.google.com":{title:"Grammarly Isn't Available for this Google Product",get message(){return`We hope to support this Google product<br/> in the future, but for now please use your</br> <a class="openGrammarly" href="${(0,b.Um)().app}" target="_blank" rel="noopener noreferrer">Grammarly Editor</a>.`}},"chrome.google.com":{title:"Web Store Not Supported"}};function xt(e,t){return"docs.google.com"===e&&t.includes("/spreadsheets")?wt("Google Sheets"):e.includes("greenhouse.io")&&t.includes("/people")?wt("Greenhouse"):Ct[e]}const Tt=(0,kt.LK)(10),Bt=((0,kt.LK)(5),Tt);(0,kt.LK)(10),(0,kt.LK)(60),(0,kt.i4)(3),(0,kt.an)(12),(0,kt.an)(1),(0,kt.an)(365);var Dt=n(72314),At=n(98811);const It=(e="")=>(0,h.cs)(At.line,At.unsupported_item,e),Pt=({domain:e,customTitle:t,customMessage:n,customIcon:a})=>{const o=t?w.createElement("span",{dangerouslySetInnerHTML:{__html:(0,Dt.sanitize)(t,{ADD_ATTR:["target","rel"]})}}):w.createElement(T.x,{as:"p"},w.createElement(T.x,{as:"strong",className:At.domain},e)," ","is not supported"),i=n?(0,Dt.sanitize)(n,{ADD_ATTR:["target","rel"]}):`For technical reasons, we currently do not check your text on this website. Please use your <a class="openGrammarly" href="${(0,b.Um)().app}" target="_blank" rel="noopener noreferrer">Grammarly Editor</a> instead.`,r=a?At[a]:At.warning;return w.createElement(ie.x,{className:It()},w.createElement(ie.x,{className:r}),w.createElement(T.x,{as:"strong",className:At.unsupported_title,color:"base-default"},o),w.createElement(T.x,{as:"p",color:"base-default"},w.createElement("div",{dangerouslySetInnerHTML:{__html:i}})))},Lt=({domain:e})=>{const t=w.createElement(T.x,{as:"span",variant:"heading-small",color:"base-default"},"Checking Down on"," ",w.createElement(T.x,{as:"strong",color:"base-default",className:At.domain},e));return w.createElement(ie.x,{className:It()},w.createElement(ie.x,{className:At.warning}),w.createElement(T.x,{as:"strong",variant:"text-small",className:At.unsupported_title},t),w.createElement(T.x,{as:"p",variant:"text-small",color:"base-default"},"There appears to be a temporary glitch affecting Grammarly’s performance on ",e,". Functionality should return soon."))},Gt=()=>w.createElement(ie.x,{className:It(At.unsupported_grammarly)},w.createElement(ie.x,{className:At.ok}),w.createElement(T.x,{as:"strong",variant:"text-small",className:At.unsupported_message,color:"base-default"}," ","You Can’t Improve on Perfection"," "),w.createElement("br",null),w.createElement(T.x,{as:"span",variant:"text-small",color:"base-default",className:At.unsupported_grammarly_text},"Naturally, Grammarly’s browser extension is deactivated while you use the Grammarly Editor."));function Rt({domain:e,activeTabURL:t,temporary:n,grammarlyEditor:a,unsupportedMessage:o}){const i=xt(e,t);let r;return r=a?"grammarly_editor":i&&i.message||o&&o.message?"custom_message":n?"temporary":"default",r}class Ut extends w.PureComponent{componentDidMount(){const{config:{domain:e,temporary:t,grammarlyEditor:n},activeTab:{url:a}}=this.props,o=Rt({domain:e,activeTabURL:a,grammarlyEditor:null!=n&&n,temporary:null!=t&&t});(0,E.Tb)().settingsUnsupportedShow(o)}render(){const{config:{domain:e,temporary:t,grammarlyEditor:n,unsupportedMessage:a},activeTab:{url:o},isSafariIOS:i}=this.props,r=(0,h.cs)(At.gr_popup_unsupported,{[At.iOS]:i}),s=function(e,t,n,a){const o=a||xt(e,t);switch(n){case"grammarly_editor":return w.createElement(Gt,null);case"temporary":return w.createElement(Lt,{domain:e});default:return w.createElement(Pt,{domain:e,customTitle:o&&o.title,customMessage:o&&o.message,customIcon:o&&o.icon})}}(e,o,Rt({domain:e,activeTabURL:o,grammarlyEditor:null!=n&&n,temporary:null!=t&&t,unsupportedMessage:a}),a);return w.createElement(ie.x,{className:r,"data-grammarly-part":"unsupported-component"},w.createElement(ie.x,{className:(0,h.cs)(At.content,At.unsupported_site)},i?w.createElement(Ne,null):w.createElement(pt.h,null),s,i?null:w.createElement(Ue,{openWebEditor:this.props.openWebEditor,isDocsDisabled:nt.n.isDocsDisabled(this.props.user),newDocUrl:this.props.newDocUrl,appUrl:this.props.appUrl})))}}var _t=n(35248),Ot=n(19523);const Mt=()=>Sn().browserApi,Ft=()=>Sn().bgRpc.api,Nt=w.lazy((()=>n.e(7543).then(n.bind(n,20279)).then((({ChromeStoreToolbarPopup:e})=>({default:e}))))),Ht=e=>w.createElement(w.Suspense,{fallback:w.createElement(w.Fragment,null)},w.createElement($.L,{chunkName:"chromeStoreToolbarPopup"},w.createElement(Nt,{...e})));class Wt extends w.Component{constructor(){super(...arguments),this._sub=[]}componentDidUpdate(){this.props.resize()}componentDidMount(){this.props.resize({force:!0}),this._sub.push(h.on.call(document,"visibilitychange",(e=>{document.hidden||this.props.resize()})));const{user:e,settings:t}=this.props.state;this._isGdocsPossible()&&(0,Y.M)(e,t)&&Ft().sendToFocusTab({kind:be.B.Kind.hideGdocsSigninPopupMessage,option:{_tag:X.f.hide}}),this._sub.push(h.on.call((0,D.findDOMNode)(this),"click",(e=>{const t=e.target.closest("[data-fire]");t&&(e.preventDefault(),this.processSignUpInClick(t))}))),this.props.actions.cheetahReloadStatus()}componentWillUnmount(){this._sub.forEach((e=>e.off()))}_gdocsIsActiveTab(){const{activeTab:e}=this.props.state,t=e&&"url"in e?e.url:void 0;return!!t&&Z.test(t)}_isGdocsPossible(){return this._gdocsIsActiveTab()&&!(0,b.Am)()&&((0,b.CB)()||(0,b.pZ)()||(0,b.G6)())}_isDataControlActive(){return"data_control"===this.props.state.extensionFSM.stage}handleLoginAttempt(e){var t;const{actions:n}=this.props;null===(t=n.beginAuth)||void 0===t||t.call(n),"settings_toolbar_sign_up"===e&&le.J.signUpButtonClick("toolbar"),"settings_toolbar_sign_in"===e&&le.J.signInButtonClick("toolbar");const a=Mt();a.beginOAuth&&(a.beginOAuth(),zt())}processSignUpInClick({href:e,dataset:t}){const{fire:n}=t;if(n){const[e,t]=n.split(", ");if("login-attempt"===e)return void this.handleLoginAttempt(t)}e&&Vt(e)}get settingsPopup(){const e=this.props.getTreatmentRelatedProps();return w.createElement(rt,{actions:this.props.actions,state:this.props.state,close:this.props.close,openUrl:this.props.openUrl,openWebEditor:this.props.openWebEditor,isReportBugFeatureAllowed:this.props.isReportBugFeatureAllowed,openReportBugForm:this.props.openReportBugForm,openDebugPage:this.props.openDebugPage,openSubscriptionDialog:this.props.openSubscriptionDialog,openGBLanding:this.props.openGBLanding,reloadTab:this.props.reloadTab,gdocsIsActiveTab:this._gdocsIsActiveTab(),isSafari:(0,b.G6)(),isChrome:(0,b.i7)(),isSafariIOS:(0,b.Am)(),isKnowledgeHubSupported:e.isKnowledgeHubSupported,isTouchTypistSupported:e.isTouchTypistSupported,citationBuilderSessionId:e.citationBuilderSessionId,isCitationBuilderManualInvocationEnabled:e.isCitationBuilderManualInvocationEnabled,isIndianEnglishDialectSupported:e.isIndianEnglishDialectSupported,isCheetahSupported:e.isCheetahSupported,showSerengetiFeatureToggle:e.showSerengetiFeatureToggle,isAutoApplySupported:e.isAutoApplyEnabled,isGhostProtocolEnabled:e.isGhostProtocolEnabled,isHumanWritingReportSupported:e.isHumanWritingReportSupported,canRequestInProductDiscountSpecialOffer:e.canRequestInProductDiscountSpecialOffer,experimentClient:this.props.experimentClient,newDocUrl:(0,b.Um)().newDoc,appUrl:(0,b.Um)().app,bgRpc:Sn().bgRpc})}render(){try{const e=this.props,{actions:t,state:n}=e,{user:a,config:o,settings:i,dynamicConfig:r,activeTab:s,installSource:l,growth:c}=n,{chromeStoreSignup:u={}}=c||{},{timesToShowToolbarPopup:d}=u,{anonymous:p}=a,{enabled:m,servicePage:g}=o,h=(0,M.no)(i),E=this._isDataControlActive()?w.createElement(x.k,{align:"center",justify:"center",height:200},w.createElement(V.DataControlPopupDefault,{openAcceptPage:Zt})):e.getTreatmentRelatedProps().isStandWithUkraine?w.createElement(yt.I,{trackPopupShow:()=>{le.J.standWithUkraineSuspendSettingsPopupShow()},onLearnMore:()=>{var e;(0,q.RU)(null===(e=r.standWithUkraineGrammarlySuspendedPopup)||void 0===e?void 0:e.popupLearnMoreButtonLink),le.J.standWithUkraineSuspendLearnMoreButtonClick()},popupDynamicConfig:r.standWithUkraineGrammarlySuspendedPopup}):a.edc&&nt.n.isEdcBlocked(a)?w.createElement(j.w,{institutionName:a.edc.institutionName,ssoUrl:a.edc.ssoUrl}):p&&"chromeStorePopup"===u.popupType?w.createElement(Ht,{gnar:le.J,chromeStoreSignup:u,installSource:l,storeActions:t,authUserDetails:h,dynamicConfig:r,onGoogleSignupClick:this.props.openGoogleSignupFlow,isDismissible:!!d&&d>1}):this._gdocsIsActiveTab()?this._isGdocsPossible()&&m?p?w.createElement(X.b,{userType:nt.n.getType(a),slot:F.G0.Toolbar,authUserDetails:h,bgRpcApi:Ft(),openSigninPage:e=>{const t=Mt();t.beginOAuth?t.beginOAuth():self.open(e)},onClick:t.gdocsOptedIn}):this.settingsPopup:w.createElement(Ut,{activeTab:s,user:a,config:o,isSafariIOS:(0,b.Am)(),openWebEditor:e.openWebEditor,newDocUrl:(0,b.Um)().newDoc,appUrl:(0,b.Um)().app}):(0,b.Am)()||!p||tt.isEnabled()&&!i.enabledClickToRun?m||g?this.settingsPopup:w.createElement(Ut,{activeTab:s,user:a,config:o,isSafariIOS:(0,b.Am)(),openWebEditor:e.openWebEditor,newDocUrl:(0,b.Um)().newDoc,appUrl:(0,b.Um)().app}):w.createElement(Et,{dynamicConfig:r,storeActions:t,isSafariIOS:(0,b.Am)(),gnar:le.J,userType:nt.n.getType(a),authUserDetails:h,isBusiness:i.authenticatedUserWasBusinessAccount&&this.props.getTreatmentRelatedProps().isGBSigninEnabled}),f=a.edc;return w.createElement(I.A,{scheme:"auto"},w.createElement(Q.o,{ref:e=>this.element=e,"data-grammarly-part":"settingsPopup"},E,f&&w.createElement(ne.N,{...f})))}catch(e){throw le.J.fail("popup","popupStateInitFail",e.message),(0,E.Tb)().popup.popupStateInitFail(e.message),e}}}function zt(){const e=Mt();e.closePopup?e.closePopup():(0,h.ZT)("close-popup")}function Kt({force:e}={}){(0,h.ZT)("update-window-size",{force:e})}function Jt(){Ft().sendToFocusTab({kind:be.B.Kind.reloadTab}),zt()}function Vt(e){Mt().openUrl(e),zt()}function jt(e){Vt(e?(0,b.Um)().newDoc:(0,b.Um)().app)}function $t(e){Vt(Ot.WY(e))}function qt(){Vt(chrome.runtime.getURL("src/debug.html"))}function Zt(){Ft().openDataControl()}function Xt(e){Ft().openSubscriptionPage(e),zt()}function Yt(e){le.J.getGBButtonClick("gbExtUphookPopup","ExploreGrammarlyBusiness");Vt((0,Ce.Z4)(e,"gbExtensionSettingsToolbar"))}function Qt(e,t,n){if((0,_t.B)(Sn().experimentClient)){const t={...(0,O.xW)(e),...(0,Ce.JQ)()};Sn().bgRpc.api.launchAuthFlow(!1,t)}else{const a=(0,Ce.wQ)(e,t),o=(0,Ce.My)(a,n);self.open(o)}}var en=n(79477),tn=n(32626),nn=n(43912),an=n(55830),on=n(44675),rn=n(78300),sn=n(24007),ln=n(53981);n(1479);const cn=v.Y.create("universal.popup");let un=!1;function dn(){let e=!1;(0,h.cn)(document.documentElement,"gr-"+(0,b.qs)()),(0,b.ED)()&&(0,h.cn)(document.documentElement,"windows"),(0,b.Am)()&&(0,h.cn)(document.body,"gr-safari-ios");const{enableHistoryLoggerInProd:t,bgRpc:n,browserApi:{preferences:o},experimentClient:i}=Sn(),r=new nn.h(o),s=(0,en.X)(r,n),l=(0,an.q)(r),v=(0,y.r)(r,n),I=(0,k.W)(n),O=(0,p.n)(n),M=(0,tn.z)(n),F=(0,m.b)(n),V=(0,g.o)(n),j=(0,ln.h)(n),$=(0,S.T)(r);he.initKeyboardShortcutHandler(),r.view("extensionSettings").view((e=>{var t;return null===(t=null==e?void 0:e.common)||void 0===t?void 0:t.historyLoggerEnabled})).subscribe((e=>{t("boolean"!=typeof e||e,"popup state update")}));let q=0;const Z=kt.m9(3),X=kt.m9(5),Y=t=>{if(!e)try{e=!0,cn.debug("Popup initialization successful"),function(e,t,n,o){cn.warn("RENDER FROM",{currentState:e,actions:n}),function(e,t,n){const o=new kn;(0,D.render)(w.createElement(a.a.Context.Provider,{value:o},w.createElement(ee.p,null,w.createElement(P.F.Fragment,null,e.pipe(G.O(void 0),R.U((e=>{var a;return e?w.createElement(A.S,{key:null===(a=e.activeTab)||void 0===a?void 0:a.id,name:"PopupMainViewErrorBoundary",fallback:()=>w.createElement(x.k,{direction:"column",align:"center",justify:"center",margin:4},w.createElement(T.x,{as:"small",variant:"text-xsmall"},"Settings popup cannot be rendered. Please contact Grammarly Support for help."))},w.createElement(Wt,{state:e,actions:t,experimentClient:n,close:zt,resize:Kt,openUrl:Vt,openWebEditor:jt,isReportBugFeatureAllowed:!n.isGateEnabled(_.K.HideReportBugByGrammarlyEmployeeFeature),openReportBugForm:$t,openDebugPage:qt,openSubscriptionDialog:Xt,openGBLanding:Yt,openGoogleSignupFlow:Qt,reloadTab:Jt,getTreatmentRelatedProps:()=>{var t;const a=(0,B.zG)(U.ij(null===(t=e.settings.cheetah)||void 0===t?void 0:t.status),U.g_(B.jv,(e=>e.status===L.l.Status.Enabled||e.status===L.l.Status.OptedOutByUser)));return{isKnowledgeHubSupported:(0,K.a)(n),isTouchTypistSupported:J.A.isAvailableByInstitution(e.dynamicConfig)&&J.A.isAvailableViaGateOrExperiment(n),isGBSigninEnabled:(o=e.user.anonymous,i=!!e.settings.authenticatedUserWasBusinessAccount,o&&(0,b.i7)()&&i),isStandWithUkraine:n.isGateEnabled(_.K.StandWithUkraineGrammarlySuspended),citationBuilderSessionId:(0,N.Td)(e.config.domain,e.dynamicConfig,n.isGateEnabled(_.K.CitationBuilderManualInvocation),e.settings)?(0,N.Cr)():void 0,isCitationBuilderManualInvocationEnabled:n.isGateEnabled(_.K.CitationBuilderManualInvocation),isIndianEnglishDialectSupported:n.isGateEnabled(_.K.IndianEnglishDialect)||n.isGateEnabled(_.K.IndianEnglishDialectInternal),isCheetahSupported:a,showSerengetiFeatureToggle:n.isGateEnabled(_.K.KnowledgeEngineSearchV2Alpha),isAutoApplyEnabled:n.isGateEnabled(_.K.SuggestionDeliveryAutoApply),isGhostProtocolEnabled:(0,H.L)(n),isHumanWritingReportSupported:(0,W.C0)(e.settings.humanWritingReport),canRequestInProductDiscountSpecialOffer:()=>(0,z.ol)(e.user,n)};var o,i}})):null})))),w.createElement(te.G,null))),document.querySelector(".popup"))}(t,n,o),document.hidden||function(e){const{config:t,user:n,settings:a}=e,{enabled:o}=t;!1===a.enabledClickToRun?le.J.toolbarButtonClick("browser","click_to_run"):o?le.J.toolbarButtonClick("browser","supported"):le.J.toolbarButtonClick("browser","unsupported");if(n.anonymous);}(e);if(pn)return;pn=!0,(0,E.Tb)().popup.initSuccess()}(t,s,{...l.quickSettings,...l.gdocs,...l.settings,...l.tabs,...v,...I,...O,...M,...F,...V,...j,...l.auth,...$},i)}catch(t){throw cn.error("Error in show() function:",t),(0,E.Tb)().popup.popupStateInitFail((0,rn.H)(t)?t.message:String(t)),e=!1,t}},Q=(t=1)=>{if(e)return;cn.debug(`Popup initialization attempt ${t}/2`),q=t;const n=(0,on.Fb)(Z,i.fetchTreatments()).catch((e=>{const t=(0,rn.H)(e)?e.message:String(e);return cn.warn("Experiments fetch failed, continuing without:",t),(0,E.Tb)().popup.fetchTreatmentsFail(t),null}));c.a([s,n]).pipe(u.P(),d.V(X)).subscribe({next:([e])=>Y(e),error:e=>((e,t)=>{const n=(0,rn.H)(e)?e.message:String(e);cn.error(`Popup initialization attempt ${t} failed:`,n),le.J.fail("popup","popupInitFail",`attempt_${t}_${n}`),(0,E.Tb)().popup.popupInitFail(`attempt_${t}_${n}`,(0,sn.nG)({})),t<2?(cn.debug(`Retrying initialization in ${1e3*t}ms...`),setTimeout((()=>Q(t+1)),1e3*t)):(cn.error("All initialization attempts failed, giving up"),(0,E.Tb)().popup.popupStateInitFail(`all_attempts_failed_${n}`))})(e,t)})};Sn().message.sendBackground("tab-connected",{tab:"popup"}),function(){const e=document.querySelector(".popup");if(!e)return;(0,C.s)(e).render(w.createElement(x.k,{direction:"column",align:"center",justify:"center",padding:6,height:200,role:"status","aria-live":"polite","aria-label":"Loading Grammarly"},w.createElement(T.x,{as:"p",variant:"text-small",align:"center"},"Grammarly is starting...")))}(),Q(),(0,f.Zk)((()=>{e||(un?(cn.error("Final timeout reached, popup never initialized"),le.J.fail("popup","popupInitTimeout"),(0,E.Tb)().settingsPopupTimeout()):(un=!0,Q(q+1)))}),6e3)}let pn=!1;var mn,gn=n(33908),hn=n(10238),bn=n(66209),En=n(11950),fn=n(67960),vn=n(29483);class yn extends vn.OD{static getInstance(){if(void 0===this._instance)throw new Error("popup Env not inited yet");return this._instance}static get isInited(){return void 0!==this._instance}static init(e){if(void 0!==this._instance)throw new Error("popup Env already inited");const t=new yn(e);if(this._instance=t,vn.OD.initShared(t),!l)throw new Error("Not a popup");const n=(0,E.Tb)();(0,E.HS)(self,n.unhandledExceptions.unhandledPopupException,n.unhandledExceptions.unhandledPopupRejection),dn()}constructor(e){super({browser:e.browser,extensionType:e.extensionType,deploymentType:e.deploymentType,context:"popup",browserInfo:e.browserApi.getBrowserInfo(),historyLoggerExtraArgs:{maxEventsToStore:100,backupStorage:new bn.f(e.browserApi.sessionStorage,fn.v.popupHistoryLogs,(async()=>{var e;return!await(null===(e=this.bgRpc)||void 0===e?void 0:e.api.isGateEnabled("SessionStorageLogsBackup"))})),getExperimentClient:()=>this.experimentClient}}),(0,gn.wp)(),this.browserApi=e.browserApi,this.message=new hn.w(e.browserApi.message),this.bgRpc=new r.c(this.message),this.experimentClient=(0,o.M)(this.bgRpc),this.telemetryCallProvider=(0,En._)(this.bgRpc),this.productMetricsCSClient=(0,i.l)(this.bgRpc)}}function Sn(){return yn.getInstance()}!function(e){e.Flag=a.a.Flag}(mn||(mn={}));class kn{constructor(){this._flags=new Set,this.actions={openUrl:()=>{throw new Error("Not implemented")},openPopup:()=>{throw new Error("Not implemented")}}}has(e){return this._flags.has(e)}}},47052:(e,t,n)=>{n.d(t,{h:()=>p});var a=n(92379),o=n(50635),i=n(69003),r=n(36279),s=n(64803),l=n(4026),c=n(16381),u=n(72032),d=n(90867);const p=e=>{var t;return a.createElement(o.k,{className:(0,l.cs)(d.header,!e.hideDelimiter&&d.delimiter)},a.createElement("a",{target:"_blank",rel:"noreferrer",href:null!==(t=e.appUrl)&&void 0!==t?t:(0,c.Um)().app,className:d.logo,"aria-label":"Grammarly homepage (opens in a new tab)"},a.createElement(i.T,{composition:"lockup",accessibilityLabel:"",brand:(0,u.T)("go"),height:21})),e.onClose&&a.createElement("button",{onClick:e.onClose,className:d.closeButton},a.createElement(r.J,{icon:s.V,size:"small",accessibilityLabel:"Close"})))}},92854:(e,t,n)=>{n.d(t,{h6:()=>pt,YB:()=>st,a7:()=>gt});var a=n(92379),o=n(15484),i=n(76282),r=n(61189),s=n(50635),l=n(69554),c=n(31702),u=n(83542),d=n(52348),p=n(27106),m=n(36279),g=n(19347),h=n(52563),b=n(4765),E=n(97231),f=n(28898),v=n(90595);function y(e){return"boolean"==typeof e?e?"true":"false":"defaultOn"===e?"defaultOn":String(e)}var S=n(10269),k=n(29483);var w=n(9237),C=n(89979),x=n(63349),T=n(12712),B=n(1087),D=n(64803),A=n(33885),I=n(13391),P=n(11816),L=n(19540),G=n(44114);const R=({userId:e,settings:t,isMac:n,actions:o,gnar:r})=>{var l,u;const m=null!==(l=null==t?void 0:t.enabled)&&void 0!==l?l:P.Y.enabled,g=a.useRef(null),h=I.h.create(!1),E=null!==(u=null==t?void 0:t.hotkey)&&void 0!==u?u:"Tab",f=new L.c(E,h);a.useEffect((()=>{const e=f.listenToHotkeyChange(n);return()=>{e.unsubscribe()}})),a.useEffect((()=>{const e=f.isActiveHotkeyChange.subscribe((e=>{e&&setTimeout((()=>{g.current&&(g.current.focus(),h.set(!0))}),0)}));return()=>e.unsubscribe()}),[f.isActiveHotkeyChange]);const v=a.useCallback((t=>{(async()=>{await o.toggleTouchTypistByUser({enabled:t,userId:e}),await r.touchTypistSettingsToggleClick(t?"on":"off")})()}),[e]),y=()=>{const e=f.tmpHotkey.get();e===E?f.onDismissHotkeyChange():(f.onApplyHotkeyChange(o),r.touchTypistSettingsEditHotkeyButtonClick(e))};return a.createElement(s.k,{direction:"column",gap:2},a.createElement(s.k,{gap:2,justify:"start",className:G.heading,color:"base-default"},"Quick fix",a.createElement(p.V,{label:"Beta",variant:"addition"})),a.createElement(i.r,{label:"Accept all critical suggestions with a key",isSelected:m,onChange:v}),a.createElement(s.k,{direction:"row",justify:"space-between",align:"center"},a.createElement(c.x,{color:"base-default",as:"span",variant:"text-xsmall",className:G.labelsFont},"Quick fix key"),a.createElement(A.F.div,{className:G.labelsFont},I.h.combine(f.tmpHotkey,f.isActiveHotkeyChange,((e,t)=>t?a.createElement(b.n,{ref:g,value:e,style:{width:x.ux.px(130)},labelDisplay:"hidden",label:"Change quick fix key",onBlur:()=>h.set(!1)}):a.createElement(c.x,{color:"base-default",as:"span",variant:"text-xsmall"},e)))),a.createElement(A.F.div,null,f.isActiveHotkeyChange.view((e=>e?a.createElement(s.k,{gap:.5},a.createElement(T.h,{"data-testid":"accept-shortcut-change",accessibilityLabel:"Accept",style:{backgroundColor:"#11A683"},variant:"primary",icon:B.L,onClick:y}),a.createElement(T.h,{"data-testid":"dismiss-shortcut-change",accessibilityLabel:"Dismiss",variant:"secondary",icon:D.V,onClick:()=>f.onDismissHotkeyChange()})):a.createElement(d.z,{variant:"ghost",onClick:()=>f.onIsActiveHotkeyChange()},"Edit"))))))};var U=n(13162),_=n(98555),O=n(39963),M=n(74609);function F(e){return a.createElement(i.r,{label:"Show definitions and synonyms via double clicks (all sites)",isSelected:e.enabledDefs,onChange:t=>{const{toggleDefs:n}=e;n(t),M.J.definitionToggleClick(t?"on":"off"),(0,O.Tb)().toggleExtensionDefs(t)},isDisabled:e.disabled,"data-grammarly-part":"definitionAndSynonymsSwitcher"})}var N=n(74695),H=n(15859),W=n(90465),z=n(39837),K=n(24633),J=n(93656),V=n(17833),j=n(60220),$=n(61483),q=n(18974),Z=n(8842),X=n(83816);const Y=e=>(0,X.kC)(e)+" English",Q={american:N.Y,british:H.e,canadian:W.w,australian:z.k,indian:K.k},ee=e=>{const{dialect:t,dialects:n,onSetDialect:o,lock:i,dropdownOnTop:r}=e,[l,u]=a.useState(!1),[d,p]=a.useState(null);return a.createElement(s.k,{align:"center",gap:1},(null==i?void 0:i.isLocked)&&a.createElement(J.u,null,a.createElement(J.aJ,{asChild:!0},a.createElement("div",{tabIndex:0,className:ie.lockIconContainer},a.createElement(m.J,{icon:V.N,accessibilityLabel:"Writing dialect: "+(null==i?void 0:i.message),size:"small"}))),a.createElement(J._v,{root:null},null==i?void 0:i.message)),a.createElement(s.k,{className:ie.container},a.createElement("div",{"aria-activedescendant":null===d?"":`dialect-option-${n[d]}`,"aria-controls":"dialect-listbox","aria-expanded":l,"aria-haspopup":"listbox","aria-label":"Writing dialect",id:"dialect-combobox",role:"combobox",tabIndex:0,onClick:()=>{(null==i?void 0:i.isLocked)||(u(!l),p(n.findIndex((e=>e===t))))},"aria-disabled":null==i?void 0:i.isLocked,onKeyDown:e=>{(null==i?void 0:i.isLocked)||(l?"Escape"===e.key?(e.preventDefault(),u(!1),p(null)):" "===e.key||"Enter"===e.key?(u(!1),p(null),null!==d&&o(n[d])):"Tab"===e.key?null!==d&&(u(!1),p(null),o(n[d])):"ArrowDown"===e.key?(e.preventDefault(),null!==d&&d<n.length-1&&p(d+1)):"ArrowUp"===e.key?(e.preventDefault(),null!==d&&d>0&&p(d-1)):"Home"===e.key?(e.preventDefault(),p(0)):"End"===e.key&&(e.preventDefault(),p(n.length-1)):"ArrowDown"===e.key||"ArrowUp"===e.key||" "===e.key||"Enter"===e.key?(e.preventDefault(),u(!0),p(n.findIndex((e=>e===t)))):"Home"===e.key?(e.preventDefault(),u(!0),p(0)):"End"===e.key&&(e.preventDefault(),u(!0),p(n.length-1)))},onBlur:()=>{u(!1)},className:ie.combobox},a.createElement(s.k,{align:"center",gap:1},a.createElement(m.J,{icon:Q[t],size:"small",accessibilityLabel:""}),a.createElement(c.x,{as:"span",variant:"text-small"},Y(t))),a.createElement(m.J,{icon:j.b,size:"small",accessibilityLabel:""})),a.createElement("div",{role:"listbox",id:"dialect-listbox","aria-label":"Writing dialect options",tabIndex:-1,className:ie.listbox,style:{display:l?"block":"none"},onMouseDown:e=>{e.preventDefault()},"data-listbox-position":r?"top":"bottom"},n.map(((e,n)=>a.createElement("div",{role:"option",id:`dialect-option-${e}`,className:ie.option,"aria-selected":e===t,"data-highlighted":d===n,key:e,onClick:()=>{u(!1),o(e)},onMouseEnter:()=>{p(n)},onMouseLeave:()=>{p(null)}},a.createElement(s.k,{align:"center",gap:1},a.createElement(m.J,{icon:Q[e],size:"small",accessibilityLabel:""}),a.createElement(c.x,{as:"span",variant:"text-small"},Y(e))),e===t&&a.createElement(m.J,{icon:B.L,accessibilityLabel:"",variant:d===n?"inverse":"default",size:"small"})))))))},te={width:"100%",display:"flex",alignItems:"center",borderWidth:1,borderStyle:"solid",borderColor:$.I.Border.Base.Default,borderRadius:x.ux.rem(q.xB),cursor:"pointer",justifyContent:"space-between",paddingInline:x.ux.rem(Z.x),paddingBlock:x.ux.rem(Z.F2),backgroundColor:$.I.Background.Base.Default,$nest:{'&[aria-disabled="true"]':{cursor:"not-allowed",borderColor:$.I.Border.Base.Subdued},"&:focus":{outline:`2px solid ${$.I.Border.Brand.Default}`,outlineOffset:2},'&[aria-disabled="true"]:focus':{outlineColor:$.I.Border.Base.Subdued}}},ne={width:"100%",backgroundColor:$.I.Background.Base.Default,position:"absolute",borderWidth:1,borderStyle:"solid",borderColor:$.I.Border.Base.Default,borderRadius:x.ux.rem(q.xB),padding:x.ux.rem(Z.x),boxSizing:"border-box",zIndex:10,$nest:{'&[data-listbox-position="bottom"]':{top:x.ux.rem(Z.Ze+Z.F2)},'&[data-listbox-position="top"]':{bottom:x.ux.rem(Z.Ze+Z.F2)}}},ae={display:"flex",alignItems:"center",justifyContent:"space-between",cursor:"pointer",paddingBlock:x.ux.rem(Z.F2),paddingInline:x.ux.rem(Z.x),borderRadius:x.ux.rem(q.xB),$nest:{'&[data-highlighted="true"]':{color:$.I.Text.Base.Inverse,backgroundColor:$.I.Background.Neutral.Default}}},oe={display:"flex",alignItems:"center",justifyContent:"center",outlineColor:$.I.Border.Base.Subdued,outlineOffset:2},ie=x.ux.stylesheet({container:[{position:"relative",width:200}],combobox:[te],listbox:[ne],option:[ae],lockIconContainer:[oe]});class re extends a.Component{constructor(){super(...arguments),this.setDialect=e=>{const{changeStrongDialect:t,dialectWeak:n}=this.props;t(e);const a=e+"English";M.J.languageSettingUpdate(a,"user",n&&e===n)}}render(){const e=this.props.dialectStrong||this.props.dialectWeak||"american";return a.createElement(s.k,{align:"center",justify:"space-between"},a.createElement(c.x,{as:"p",variant:"text-small",weight:"medium",color:"base-default"},"I write in"),a.createElement(ee,{dialect:e,dialects:this.props.dialects,onSetDialect:this.setDialect,dropdownOnTop:!!this.props.dropdownOnTop,lock:this.props.lock}))}}var se=n(78021);const le=({currentOpenShortcut:e,currentCloseShortcut:t,currentVBarsShortcut:n,onSetShortcut:o,showVBarsShortcut:i,isMac:r,isSuperhumanGoBrandingEnabled:u,hideDescriptionText:d=!1,condensed:p=!1})=>{const m="keyboard-shortcut-setting-description",g=u?"Open new chat":"Open Grammarly";return a.createElement(s.k,{direction:"column",gap:d?2:0},a.createElement(l.X,{variant:"heading-xsmall",as:"h2",color:"base-default"},"Shortcuts"),!d&&a.createElement(c.x,{as:"p",variant:"text-xsmall",color:"base-subdued",id:m},"Use any keys in shortcuts, except for tab, enter, caps lock, home, end, page up, page down, delete, backspace, insert, and arrow keys."),a.createElement(s.k,{gap:p?0:1,direction:"column",color:"base-default",paddingLeft:d?_._r:_.EZ},a.createElement(se.Z,{label:g,isMac:r,currentShortcut:e,onSetShortcut:e=>{o("openAssistant",e),M.J.keyboardShortcutShortcutKeysChanged("openAssistant")},ariaDescribedBy:d?void 0:m,condensed:p,disableLegacyLayout:p}),a.createElement(se.Z,{label:"Close Grammarly",isMac:r,currentShortcut:t,onSetShortcut:e=>{o("closeAssistant",e),M.J.keyboardShortcutShortcutKeysChanged("closeAssistant")},ariaDescribedBy:d?void 0:m,condensed:p,disableLegacyLayout:p}),i&&a.createElement(se.Z,{label:"Open sidecard",isMac:r,currentShortcut:n,onSetShortcut:e=>{o("openVBar",e),M.J.keyboardShortcutShortcutKeysChanged("openVBar")},ariaDescribedBy:d?void 0:m,condensed:p,disableLegacyLayout:p})))};var ce=n(62162),ue=n(16381),de=n(20851),pe=n(16415);function me(e,t,n,a){return(0,de.Td)(e,t,n,a)}function ge(e,t){var n,a,o;return e&&!1!==(null===(o=null===(a=null===(n=t.cheetah)||void 0===n?void 0:n.status)||void 0===a?void 0:a.entryPointsConfig)||void 0===o?void 0:o.inlineRewriteEnabled)}function he(e,t){var n,a,o;return e&&!1!==(null===(o=null===(a=null===(n=t.cheetah)||void 0===n?void 0:n.status)||void 0===a?void 0:a.entryPointsConfig)||void 0===o?void 0:o.inlineQuickReplyEnabled)}const be=e=>a.createElement(i.r,{label:"Show Knowledge Share",isSelected:e.enabled,onChange:e.toggle}),Ee=e=>a.createElement(i.r,{label:e.isAutoApplySupported?"Correct text automatically":"Correct spelling automatically",isSelected:e.enabled,onChange:e.toggle,"data-grammarly-part":"settings-toggle-autocorrect"}),fe=e=>a.createElement(i.r,{label:`Show "Get citation" button on ${e.domain}`,isSelected:e.enabled,onChange:e.toggle}),ve=e=>a.createElement(i.r,{label:"Show emoji for detected tones",isSelected:e.enabled,onChange:e.toggle,"data-grammarly-part":"settings-toggle-show-emoji-for-detected-tones"});function ye(e){var t,n,o,r,c,u,d,p,m,g,h,b,E;const f=function(e){var t,n;return!1!==(null===(n=null===(t=e.cheetah)||void 0===t?void 0:t.status)||void 0===n?void 0:n.cheetahEnabled)}(e.settings),v=(y=e.dapi,S=e.settings,x=e.dynamicConfig,T=null===(t=e.activeTab)||void 0===t?void 0:t.url,pe.q.showSettingPopupToggle(y,S,x,T));var y,S,x,T;const B=function(e,t,n,a){return e&&(0,de.r4)(t,n,a)}(e.showCitationBuilderToggle,e.config.domain,e.dynamicConfig,e.isCitationBuilderManualInvocationEnabled),D=function(e,t){var n,a;return!e||!1===(null===(a=null===(n=t.cheetah)||void 0===n?void 0:n.status)||void 0===a?void 0:a.cheetahEnabled)}(e.isCheetahSupported,e.settings);return a.createElement(a.Fragment,null,a.createElement(s.k,{direction:"column",gap:2},a.createElement(l.X,{as:"h3",variant:"heading-xsmall",color:"base-default"},"Writing suggestions"),a.createElement(s.k,{direction:"column",gap:2,paddingLeft:_._r},v&&a.createElement(st,{toggle:t=>{e.actions.setDesktopIntegration(t),M.J.desktopIntegrationToggleClick(t?"on":"off")},enabled:e.settings.isDesktopIntegrationEnabled}),a.createElement(ce.w,{domain:e.config.domain,enabledInConfig:null!==(n=e.config.enabled)&&void 0!==n&&n,siteSwitcherChecked:e.siteSwitcherChecked,favicon:null===(o=e.activeTab)||void 0===o?void 0:o.favIconUrl,siteCategory:e.siteCategory}),a.createElement(re,{dialects:e.dialects,changeStrongDialect:e.actions.changeStrongDialect,dialectStrong:e.dialectStrong,dialectWeak:e.dapi.dialectWeak,dropdownOnTop:!0,disabled:e.anonymous,lock:{isLocked:e.anonymous||Boolean(null===(r=e.dialectSettings)||void 0===r?void 0:r.dialectLockedByInstitution),message:e.anonymous?"Sign in to use this feature":"Locked by your organization"}}))),e.showKeyboardShortcuts&&a.createElement(le,{isMac:(0,k.nD)(),isSuperhumanGoBrandingEnabled:e.showSuperhumanGoBranding,showVBarsShortcut:(0,ue.i7)(),currentOpenShortcut:null!==(u=null===(c=e.settings.keyboardShortcuts)||void 0===c?void 0:c.openAssistant)&&void 0!==u?u:(0,U.e)("openAssistant"),currentCloseShortcut:null!==(p=null===(d=e.settings.keyboardShortcuts)||void 0===d?void 0:d.closeAssistant)&&void 0!==p?p:(0,U.e)("closeAssistant"),currentVBarsShortcut:null!==(g=null===(m=e.settings.keyboardShortcuts)||void 0===m?void 0:m.openVBar)&&void 0!==g?g:(0,U.e)("openVBar"),onSetShortcut:(t,n)=>{e.actions.setKeyboardShortcut(t,n)},hideDescriptionText:!0,condensed:!0}),a.createElement(s.k,{direction:"column",gap:2},a.createElement(l.X,{as:"h3",variant:"heading-xsmall",color:"base-default"},"Features"),a.createElement(s.k,{direction:"column",gap:2,paddingLeft:_._r},e.isCheetahSupported&&a.createElement(a.Fragment,null,a.createElement(i.r,{label:"Show on text selection",isSelected:ge(f,e.settings),isDisabled:!f,onChange:e.actions.cheetahToggleInlineRewrite}),a.createElement(i.r,{label:"Show for quick replies",isSelected:he(f,e.settings),isDisabled:!f,onChange:e.actions.cheetahToggleInlineQuickReply})),e.isKnowledgeHubSupported&&a.createElement(be,{enabled:null===(b=null===(h=e.settings.knowledgeHubSettings)||void 0===h?void 0:h.enabled)||void 0===b||b,toggle:t=>{e.actions.toggleKnowledgeHub(t),M.J.knowledgeHubFeatureToggleClick("popup",C.JJ.fromDomain(e.config.domain),t?C.L5.on:C.L5.off),(0,O.Tb)().knowledgeHub.featureToggleClick(C.JJ.fromDomain(e.config.domain),t?C.L5.on:C.L5.off)}}),a.createElement(F,{disabled:e.anonymous,enabledDefs:e.settings.enabledDefs,toggleDefs:e.actions.toggleDefs}),(0,w.c)()&&a.createElement(Ee,{enabled:e.settings.autocorrectEnabled||!1,isAutoApplySupported:e.isAutoApplySupported,toggle:t=>{e.actions.toggleAutocorrect(t);const n=t?"on":"off";M.J.autocorrectToggleClick("popup",n),(0,O.Tb)().autoFix.featureToggleClick(n,"popup")}}),e.isTouchTypistSupported&&a.createElement(R,{userId:e.user.id,settings:e.settings.touchTypistSettings,isMac:(0,k.nD)(),actions:e.actions,gnar:M.J}),B&&a.createElement(fe,{enabled:me(e.config.domain,e.dynamicConfig,e.isCitationBuilderManualInvocationEnabled,e.settings),domain:e.config.domain,toggle:e.toggleCitationBuilder}),D&&a.createElement(ve,{enabled:"hide"!==e.dapi.emogenieEmojiState,toggle:t=>{e.actions.setEmogenieEmojiState(!0===t?"show":"hide"),M.J.settingsShowEmojiForDetectedTonesToggleClick(e.config.domain,!0===t?"on":"off")}}),e.isHumanWritingReportSupported&&a.createElement(pt,{label:"Grammarly Authorship",enabled:"enabled"===(null===(E=e.settings.humanWritingReport)||void 0===E?void 0:E.kind),disabled:!1,toggle:t=>e.actions.hwrSetEnabled(t),helperMessage:"In Google Docs and Microsoft Word, you can choose to track your writing to prove what you type, copy, or create with AI."}))))}var Se=n(27982);function ke(e){const{handleToggle:t}=function(e){const{enabled:t,onEnabled:n}=e,o=a.useRef(t);return a.useEffect((()=>{o.current=t}),[t]),{handleToggle:a.useCallback((e=>{var t;!o.current&&e&&n&&(null===(t=(0,f.O)().experimentClient)||void 0===t?void 0:t.isGateEnabled(Se.K.SuperhumanWelcomePageOnOptIn))&&setTimeout((()=>{n()}),1e3),o.current=e}),[n])}}({enabled:e.superhumanGoEnabled,onEnabled:e.onSuperhumanGoEnabled}),n=a.useCallback((n=>{e.superhumanGoToggle(n),t(n)}),[e.superhumanGoToggle,t]);return a.createElement(s.k,{direction:"column",gap:e.isCondensedLayout?2:4},a.createElement(s.k,{direction:"row",justify:"space-between",align:"center"},a.createElement(s.k,{direction:"row",gap:2},a.createElement(l.X,{variant:"heading-xsmall",as:"h3",color:"base-default"},e.isCondensedLayout?"Our new experience":a.createElement(c.x,{as:"span",weight:"bold"},"Our new experience")),a.createElement(p.V,{label:"Beta",variant:"success"})),e.isAllSettingsInSuperhumanGoSection&&a.createElement(o.r,{href:"#",underline:"hover",weight:"bold",onClick:()=>{e.onAllSettingsClick()}},a.createElement(s.k,{className:e.settingsContentStyles.allSettings},a.createElement(c.x,{as:"span",variant:"text-small"},"All Settings")))),a.createElement(s.k,{direction:"column",gap:4,paddingLeft:e.isCondensedLayout?_._r:_.EZ},a.createElement(i.r,{label:"Use Superhuman Go",helperMessage:"Switch to Go, an upgraded product powered by helpful AI agents, including Grammarly.",isSelected:e.superhumanGoEnabled,onChange:n,"data-grammarly-part":"settings-toggle-superhuman-go"}),e.showNotchToggleEnabled&&e.superhumanGoEnabled&&a.createElement(i.r,{label:"Show Go tab",isSelected:e.showNotch,onChange:e.onShowNotchToggle,"data-grammarly-part":"settings-toggle-show-go-tab"})))}var we,Ce=n(36526),xe=n(39575),Te=n(56863),Be=n(6266),De=n(62067),Ae=n(70708);!function(e){e.isGranted=function(e,t=(0,f.O)().browserApi.permissions){return t?t.contains({permissions:[e]}):Promise.resolve(!1)},e.request=function(e,t=(0,f.O)().browserApi.permissions){return t?t.request({permissions:[e]}):Promise.resolve(!1)}}(we||(we={}));var Ie=n(39565),Pe=n(1182),Le=n(53768),Ge=n(1527);const Re=e=>a.createElement(s.k,{direction:"row",style:{gap:"12px",width:"100%",backgroundColor:Le.Gold0,borderBottom:`1px solid ${Le.Gold10}`},padding:"8px 16px 10px 16px"},a.createElement(s.k,{width:"36px"},a.createElement(Ge.u,null)),a.createElement(s.k,{direction:"column",style:{gap:"8px"}},a.createElement(s.k,{direction:"column",style:{gap:"2px"}},a.createElement(l.X,{as:"h1",variant:"heading-xxsmall",style:{marginTop:"4px"}},"Boost Grammarly’s Performance"),a.createElement(c.x,{as:"p",variant:"text-xsmall"},"Allow the Grammarly Chrome extension to connect with the desktop app to provide suggestions faster.")),a.createElement(d.z,{variant:"ghost",onClick:e.onClick,text:"Continue",size:"small",style:{position:"relative",left:"-8px"}}))),Ue=a.memo((function(e){const[t,n]=a.useState(!1),o=a.useCallback((()=>{const{connector:e}=(0,O.Tb)();e.permissionViewClicked("settingPopup"),(0,k.OB)().bgRpc.api.requestGrantPermissionAndReloadExtOnAccept(Ie.d.nativeMessaging)}),[]);return a.useEffect((()=>{e.url&&Promise.all([(0,k.OB)().bgRpc.api.getSystemInfo().then((({os:t})=>Ae.R.shouldEnableFieldIntegration(t,(0,k.OB)(),e.url,e.domain))),we.isGranted(Ie.d.nativeMessaging)]).then((([e,t])=>{n(e&&!t)}))}),[]),a.useEffect((()=>{t&&(0,O.Tb)().connector.permissionViewShow("settingPopup")}),[t]),t?a.createElement(Pe.w,null,a.createElement(Re,{onClick:o})):null}));var _e=n(15329),Oe=n(4026),Me=n(35248),Fe=n(95404),Ne=n(19724),He=n(91957),We=n(74316),ze=n(40224),Ke=n(19523),Je=n(43795),Ve=n(33851);function je(){const e=a.useCallback((()=>{chrome.storage.local.set({[Ve.jG]:!1})}),[]);return a.createElement(u.x,{marginBottom:3,padding:3},a.createElement(s.k,{align:"center",gap:3,justify:"space-between",direction:"column"},a.createElement(c.x,{as:"span",variant:"text-small"},"We see you are using Superhuman Go Extension!"),a.createElement(d.z,{size:"medium",variant:"secondary",onClick:e},"Turn Grammarly Classic back on")))}var $e=n(7889);const qe="https://gateway.grammarly.com/api/jira/tickets/create";class Ze{constructor(e,t){this.getAuthToken=e,this.getCSRFToken=t,this.apiEndpoint=qe}async submitBugReport(e){try{const[t,n]=await Promise.all([this.getAuthToken(),this.getCSRFToken()]),a={Authorization:`Bearer ${t}`,"X-Requested-With":"XMLHttpRequest","X-Client-Type":"browser-extension","Content-Type":e.contentType};n&&(a["X-CSRF-Token"]=n);const o=await fetch(this.apiEndpoint,{method:"POST",headers:a,body:e.body,mode:"cors",credentials:"omit",referrerPolicy:"no-referrer"});if(!o.ok){const e=await o.text();throw new Error(`HTTP error! status: ${o.status}, body: ${e}`)}const i=await o.json();if(!i.success)throw new Error(i.message||"Failed to submit bug report");return i}catch(e){throw new Error(`Failed to submit bug report: ${e instanceof Error?e.message:"Unknown error"}`)}}}class Xe{constructor(e,t){this.user=e,this.config=t}createDetailedDescription(e){var t;const n=E.Rd().systemInfo;return`\nDescription:\n${e}\n\n\n*Environment Details:\n- Domain: ${this.config.domain}\n- User Agent: ${(null===(t=null==n?void 0:n.browser)||void 0===t?void 0:t.userAgent)||navigator.userAgent}\n\nSubmitted via: Extension Bug Report Form\n    `.trim()}createReporterName(){return`${this.user.firstName} ${this.user.lastName||""}`.trim()}createFormData(e){var t,n;const a=E.Rd().systemInfo;return{project:"PBUG",summary:e.title.trim(),description:this.createDetailedDescription(e.description),reporterEmail:this.user.email,reporterName:this.createReporterName(),source:"Internal",userType:Ke.Ng(this.user),browser:(null===(t=null==a?void 0:a.browser)||void 0===t?void 0:t.name)||"Unknown",operatingSystem:(null===(n=null==a?void 0:a.os)||void 0===n?void 0:n.name)||"Unknown",clientVersion:(0,ue.bo)(),team:"Browser extensions",issueType:"Bug",priority:"Major",assignee:"extension-team@grammarly.com",labels:`extension,bug-report,${this.config.domain},auto-submitted`}}buildFormDataForSubmission(e,t){const n=new FormData;return Object.entries(t).forEach((([e,t])=>{n.append(e,t)})),e.attachments.forEach((e=>{n.append("attachments",e,e.name)})),n.append("attachments",e.debugLogs,e.debugLogs.name),n}async buildCustomFormDataForSubmission(e,t){const n=`----formdata-${Date.now()}-${Math.random().toString(16).substring(2)}`,a="\r\n",o=new TextEncoder,i=[],r=(e,t)=>{i.push(o.encode(`--${n}\r\n`)),i.push(o.encode(`Content-Disposition: form-data; name="${e}"\r\n\r\n`)),i.push(o.encode(`${t}\r\n`))},s=async(e,t)=>{const r=await t.arrayBuffer();i.push(o.encode(`--${n}\r\n`)),i.push(o.encode(`Content-Disposition: form-data; name="${e}"; filename="${t.name}"\r\n`)),i.push(o.encode(`Content-Type: ${t.type}\r\n\r\n`)),i.push(new Uint8Array(r)),i.push(o.encode(a))};for(const[e,n]of Object.entries(t))r(e,n);for(const t of e.attachments)await s("attachments",t);await s("attachments",e.debugLogs),i.push(o.encode(`--${n}--\r\n`));const l=i.reduce(((e,t)=>e+t.length),0),c=new Uint8Array(l);let u=0;for(const e of i)c.set(e,u),u+=e.length;return{body:c,contentType:`multipart/form-data; boundary=${n}`}}}var Ye=n(21553);const Qe=e=>a.createElement(p.V,{label:e.label||"Beta",variant:"addition",inline:!0}),et=({label:e,betaLabel:t,...n})=>a.createElement($e.Z,{label:`${e} (${t||"Beta"})`,...n},e," ",a.createElement(Qe,{label:t}));function tt(e){var t,n,o,r,u,p,m,g;const h=!1!==(null===(n=null===(t=e.cheetahSettings)||void 0===t?void 0:t.status)||void 0===n?void 0:n.cheetahEnabled);return a.createElement(s.k,{direction:"column",gap:2},a.createElement(s.k,{direction:"column"},a.createElement(s.k,{justify:"space-between",align:"center"},a.createElement(l.X,{variant:"heading-xsmall",as:"h2",color:"base-default"},"Generative AI"),a.createElement(d.z,{variant:"ghost",text:"Manage","data-grammarly-part":"cheetahManageBtn",onClick:()=>{e.openCheetahSettings()}})),a.createElement(c.x,{as:"p",variant:"text-xsmall",color:"base-subdued"},"Brainstorm, write, and rewrite with Grammarly's generative AI assistance.")),a.createElement(i.r,{label:"Show on text selection",isSelected:h&&!1!==(null===(u=null===(r=null===(o=e.cheetahSettings)||void 0===o?void 0:o.status)||void 0===r?void 0:r.entryPointsConfig)||void 0===u?void 0:u.inlineRewriteEnabled),isDisabled:!h,onChange:t=>e.cheetahToggleInlineRewrite(t)}),a.createElement(i.r,{label:"Show for quick replies",isSelected:h&&!1!==(null===(g=null===(m=null===(p=e.cheetahSettings)||void 0===p?void 0:p.status)||void 0===m?void 0:m.entryPointsConfig)||void 0===g?void 0:g.inlineQuickReplyEnabled),isDisabled:!h,onChange:t=>e.cheetahToggleInlineQuickReply(t)}),e.showSerengetiFeatureToggle&&a.createElement(et,{label:"Use organizational context",isSelected:e.serengetiEnabled,onChange:e.serengetiToggle,betaLabel:"Internal"}))}var nt=n(46577),at=n(78703);const ot=()=>a.createElement("div",{className:nt.separator}),it=e=>{const t={source:"authHook",slot:De.G0.Toolbar,name:De.Vi.SessionTimeout,lastKnownUserType:(0,Be.qf)(e.authUserDetails),experience:De.VP.SignIn};return a.createElement("div",{className:at.sessionTimeoutWrapper},a.createElement("div",{className:at.sessionTimeoutDiv},a.createElement("div",{className:at.sessionTimeoutTextAndIcon},a.createElement("div",null,a.createElement(We.K,{className:at.sessionTimeoutPopupIcon,width:"32",height:"32"})),a.createElement("div",{className:at.sessionTimeoutText},a.createElement("span",null,"Company policy expires your session in 1 hour."," ",a.createElement(o.r,{href:"#",onClick:()=>{const n={utmCampaign:"toolbarMenu",utmSource:"signinHook"};(0,Me.B)((0,k.OB)().experimentClient)?(0,k.OB)().bgRpc.api.launchAuthFlow(!1,{...(0,Te.xW)(t),...(0,Fe.OC)((0,Fe.g7)(n))}):e.openUrl((0,Fe.s7)(t,n,!0))},variant:"secondary",weight:"bold"},a.createElement("span",{className:at.signinLink},"Sign in"))," ","to avoid interruption.")))),a.createElement(ot,null))},rt=e=>a.createElement(i.r,{label:e.isAutoApplySupported?"Correct text automatically":"Correct spelling automatically",isSelected:e.enabled,onChange:e.toggle,"data-grammarly-part":"settings-toggle-autocorrect"}),st=e=>a.createElement(i.r,{isSelected:!e.enabled,label:"Check text with browser extension",helperMessage:e.enabled?"Grammarly's browser extension was deactivated since you're using Grammarly's desktop application":void 0,onChange:t=>{e.toggle(!t),r.E.announce(t?"Grammarly's browser extension was activated. It will start checking text and suggesting changes. If you're using the desktop application, it will stop checking text in the browser.":"Grammarly's browser extension was deactivated. It has stopped checking text and its suggestions have been removed. If you're using the desktop application, it will start checking text in the browser.","assertive")},"data-grammarly-part":"disableDesktopIntegrationToggle"}),lt=e=>a.createElement(i.r,{label:"Show emoji for detected tones",isSelected:e.enabled,onChange:e.toggle,"data-grammarly-part":"settings-toggle-show-emoji-for-detected-tones"}),ct=e=>a.createElement(i.r,{label:"Show Knowledge Share",isSelected:e.enabled,onChange:e.toggle}),ut=e=>a.createElement(s.k,{direction:"column",gap:2,className:nt.section},a.createElement(l.X,{as:"h3",className:nt.heading,color:"base-default"},a.createElement(s.k,{gap:2,justify:"start",align:"center"},"Accessibility")),a.createElement(i.r,{label:"Turn on enhanced screen reader support",isSelected:e.enabled,onChange:e.toggle})),dt=e=>a.createElement($e.Z,{label:`Show “Get citation” button on ${e.domain}`,isSelected:e.enabled,onChange:e.toggle},"Show “Get citation” button on"," ",a.createElement(c.x,{as:"span",variant:"text-small",weight:"semibold",color:"base-default",style:{display:"block",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",maxWidth:250}},e.domain)),pt=e=>a.createElement(i.r,{label:e.label,isSelected:e.enabled,isDisabled:e.disabled,onChange:e.toggle,helperMessage:e.helperMessage}),mt=({showReportBugButton:e,...t})=>{var n,r,E;const f=t.advancedHistoryLoggerEnabledUntil?Math.ceil((t.advancedHistoryLoggerEnabledUntil-Date.now())/6e4):0;return a.createElement(u.x,{"data-grammarly-part":"debugMenu"},a.createElement(ot,null),a.createElement(u.x,{className:nt.debugMenu},a.createElement(s.k,{direction:"column",gap:3},a.createElement(l.X,{as:"h3",className:nt.heading},a.createElement(c.x,{as:"span",color:"base-default"},"Debug Menu"),t.showHideButton&&a.createElement(d.z,{variant:"ghost",text:"Hide","data-grammarly-part":"debugMenuHideBtn",onClick:()=>{(0,k.OB)().bgRpc.api.toggleDebugMenu(!1)}})),a.createElement(i.r,{label:"Logging",onChange:e=>{e?(0,k.OB)().bgRpc.api.enableHistoryLoggerUntil(-1):(0,k.OB)().bgRpc.api.disableHistoryLogger()},"data-grammarly-part":"debugMenuLoggingToggle",isSelected:t.isEnabled}),a.createElement(ot,null),a.createElement($e.Z,{label:`Advanced Logging (${f} minutes left)`,isSelected:t.isAdvancedEnabled,isDisabled:!t.isEnabled,onChange:()=>{t.isAdvancedEnabled?(0,k.OB)().bgRpc.api.disableAdvancedHistoryLogger():(0,k.OB)().bgRpc.api.enableAdvancedHistoryLoggerUntil(Date.now()+36e5)}},"Advanced Logging"," ",t.isAdvancedEnabled&&null!==t.advancedHistoryLoggerEnabledUntil&&t.advancedHistoryLoggerEnabledUntil>0&&a.createElement(p.V,{label:`${f} mins left`,inline:!0})),a.createElement(ot,null)),a.createElement(l.X,{as:"h4",className:nt.heading},a.createElement(d.z,{variant:"ghost",text:"Download Logs",className:nt.downloadBtn,isDisabled:!t.isEnabled,onClick:t.downloadDebugReports,"data-grammarly-part":"debugMenuDownloadLogBtn"}),!0===e.enabled&&a.createElement(o.r,{href:"#",underline:"hover",weight:"bold",className:nt.downloadBtn,"data-grammarly-part":"debugMenuReportBugBtn",onClick:()=>{e.onClick()}},a.createElement(s.k,null,a.createElement(c.x,{as:"span",variant:"text-small"},"Report a bug"),a.createElement(m.J,{icon:g.n,accessibilityLabel:"",size:"small",variant:"inherit"})))),t.showDebugPage&&a.createElement(a.Fragment,null,a.createElement(ot,null),a.createElement(l.X,{as:"h4",className:nt.heading},a.createElement(o.r,{href:"#",underline:"hover",weight:"bold",className:nt.downloadBtn,"data-grammarly-part":"debugMenuDebugPageBtn",onClick:t.openDebugPage},a.createElement(s.k,null,a.createElement(c.x,{as:"span",variant:"text-small"},"View debug page"),a.createElement(m.J,{icon:g.n,accessibilityLabel:"",size:"small",variant:"inherit"}))))),null!=t.gOSDebugSettings?a.createElement(a.Fragment,null,a.createElement(ot,null),a.createElement(u.x,{className:nt.gOSMenu},a.createElement(s.k,{direction:"column",gap:3},a.createElement(l.X,{as:"h3",className:nt.heading,color:"base-default"},"gOS Developer Settings"),a.createElement(i.r,{label:"Debugger",isSelected:t.gOSDebugSettings.debuggerEnabled,onChange:null===(n=t.gOSDebugSettings)||void 0===n?void 0:n.toggleDebugger,"data-grammarly-part":"gOSDebuggerToggle"}),a.createElement(ot,null)),a.createElement(s.k,{className:nt.menuItem,justify:"space-between"},a.createElement(c.x,{as:"p",variant:"text-small",weight:"medium",color:"base-default",marginTop:2},"Applet Channel"),a.createElement("div",{style:{width:"106px"}},a.createElement(h.P,{id:"gos-applet-channel",value:null!==(r=t.gOSDebugSettings.appletChannel)&&void 0!==r?r:"stable",onChange:e=>{var n;null===(n=t.gOSDebugSettings)||void 0===n||n.setAppletChannel(e)},label:"Applet Channel",labelDisplay:"hidden"},a.createElement(h.P.Option,{value:"dev",label:"dev"}),a.createElement(h.P.Option,{value:"preview",label:"preview"}),a.createElement(h.P.Option,{value:"stable",label:"stable"}),a.createElement(h.P.Option,{value:"qa",label:"qa"})))),a.createElement(ot,null),a.createElement(s.k,{className:nt.menuItem,justify:"space-between"},a.createElement(c.x,{as:"p",variant:"text-small",weight:"medium",color:"base-default",marginTop:2},"Assistant URL"),a.createElement("div",{style:{width:"190px"}},a.createElement(b.n,{labelDisplay:"hidden",label:"Assistant URL",id:"gos-assistant-applet-url",type:"url",placeholder:"e.g. http://localhost:3000/",value:null!==(E=t.gOSDebugSettings.assistantAppletUrl)&&void 0!==E?E:"",onChange:e=>{var n;null===(n=t.gOSDebugSettings)||void 0===n||n.setAssistantAppletUrl(e)}}))))):null))},gt=e=>{var t,i,r,d,p,h;const{actions:b,activeTab:x,config:T,settings:B,dapi:D,user:A,sessionTimeoutValue:I,siteCategory:P,placement:L,dynamicConfig:G,enableRenderingHack:_=!1,showCitationBuilderToggle:N=!0,citationBuilderSessionId:H,assistantSessionId:W,isCitationBuilderManualInvocationEnabled:z=!1,isKnowledgeHubSupported:K=!1,isTouchTypistSupported:J=!1,isIndianEnglishDialectSupported:V=!1,isCheetahSupported:j=!1,showSerengetiFeatureToggle:$=!1,isReportBugFeatureAllowed:q,isAutoApplySupported:Z=!1,className:X,downloadDebugReports:Y,isHumanWritingReportSupported:Q=!1,bgRpc:ee,gOSDebugSettings:te}=e,{isGoEnabledForInstitution:ne,isInstitutionManaged:ae}=(0,S.q)(),oe=(0,k.OB)().experimentClient,ie=null!=ne?ne:(0,ze.i)(),se=function(){const[e,t]=a.useState(!1);return a.useEffect((()=>{(0,k.OB)().experimentClient.isGateEnabled(v.K.AssistantInSidePanel)&&(0,k.OB)().bgRpc.api.isSidePanelSupported().then(t)}),[]),e}()&&ie&&!ae,me=(0,Be.no)(B),{isBugReportFormOpen:ge,BugReportForm:he,showReportBugButton:be,openBugReportForm:Ee,closeBugReportForm:fe,handleBugReportSubmit:ve}=function(e,t,o,i){const[r,s]=a.useState(!1),[l,c]=a.useState(null),u=a.useMemo((()=>new Xe(e,t)),[e,t]),d=a.useMemo((()=>new Ze((async()=>await i.api.getAccessToken()),(async()=>await i.api.getCSRFToken()))),[i]),p=(0,Ye.G)(),m=a.useMemo((()=>(Ne.n.isGrammarlyEmployee(e)||Ne.n.isTestUser(e))&&o),[e,o]);a.useEffect((()=>{m&&!l&&n.e(6111).then(n.bind(n,16111)).then((e=>{c((()=>e.BugReportForm))}))}),[m,l]);const g=a.useCallback((async e=>{const t=u.createFormData(e),n=await u.buildCustomFormDataForSubmission(e,t);return await d.submitBugReport(n)}),[u,d]),h=a.useCallback((()=>{p.trackReportBugButtonClick(),s(!0)}),[p]),b=a.useCallback((()=>{s(!1)}),[]);return{isBugReportFormOpen:r,BugReportForm:l,showReportBugButton:m,openBugReportForm:h,closeBugReportForm:b,handleBugReportSubmit:g}}(A,T,q,ee);_&&a.useEffect((()=>{(0,ue.CB)()&&(self.screenLeft<0||self.screenTop<0||self.screenLeft>self.screen.width||self.screenTop>self.screen.height)&&chrome.runtime.getPlatformInfo((e=>{if("mac"===e.os){const e=new CSSStyleSheet;e.insertRule("\n            @keyframes redraw {\n              0% {\n                opacity: 1;\n              }\n              100% {\n                opacity: .99;\n              }\n            }\n          "),e.insertRule("\n            html {\n              animation: redraw 1s linear infinite;\n            }\n          "),document.adoptedStyleSheets=[...document.adoptedStyleSheets,e]}}))}),[]);const{anonymous:Se}=A,we=oe.isGateEnabled(v.K.ExtensionBugSubmissionForm),Te=(0,ue.i7)()&&Ne.n.isGrammarlyEmployee(A),De=Ne.n.isGrammarlyEmployee(A)&&(0,_e.V)(oe),Ae=oe.isGateEnabled(v.K.KeyboardShortcut),{dialectSettings:Ie}=B,Pe=(null==Ie?void 0:Ie.dialect)||D.dialectStrong,Le=["british","american","australian","canadian",...V?["indian"]:[]],Ge=e.siteSwitcherChecked||{checked:!!B.enabled,update:t=>{const{siteCategory:n}=e;b.toggleSite(t,T.domain),M.J.checkingToggleClick("toolbar",n,t?"on":"off",T.domain),(0,O.Tb)().toggleExtension(t,"toolbar",(0,He.Cg)(T.domain))}},Re=a.useCallback((e=>{const t=x&&new URL(x.url).pathname;b.toggleCitationBuilderForDomain({domain:T.domain,enabled:e,pathName:t,inAllowList:x&&(0,de.eC)(new URL(x.url),G)}),e||M.J.citePopupButtonDisable(T.domain,"permanent",H||"","toolbar",z&&!0===(0,de.gO)(T.domain,B))}),[null==x?void 0:x.url,T.domain,H]),Me=a.useCallback((e=>{var t;b.toggleAlwaysAvailableAssistant(e),function(e,t,n){var a;(null===(a=(0,f.O)().experimentClient)||void 0===a?void 0:a.isGateEnabled(v.K.LogAssistantNotchStatus))&&e.alwaysOnAssistantNotchToggle(y(n),!!t,y(t))}(M.J,e,null===(t=B.alwaysAvailableAssistantSettings)||void 0===t?void 0:t.enabled)}),[b,null===(t=B.alwaysAvailableAssistantSettings)||void 0===t?void 0:t.enabled]),Fe=(0,xe.Y)(B,ne),We=function(){const[e,t]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{if("undefined"==typeof chrome||!chrome.storage||!chrome.storage.onChanged)return;chrome.storage.local.get([Ve.jG],(e=>{t(!!e[Ve.jG])}));const e=(e,n)=>{"local"===n&&e[Ve.jG]&&t(!!e[Ve.jG].newValue)};return chrome.storage.onChanged.addListener(e),()=>{var t,n;"undefined"!=typeof chrome&&(null===(n=null===(t=null===chrome||void 0===chrome?void 0:chrome.storage)||void 0===t?void 0:t.onChanged)||void 0===n?void 0:n.removeListener)&&chrome.storage.onChanged.removeListener(e)}}),[]),e}(),$e=(0,Ce.s)(oe),qe=$e&&se,Qe=$e,et=null===(r=null===(i=B.alwaysAvailableAssistantSettings)||void 0===i?void 0:i.showNotch)||void 0===r||r,gt=a.useCallback((e=>{b.toggleShowNotch(e),W&&M.J.alwaysOnAssistantNotchEnabledChanged(W,e,"settings")}),[b,W]);if(We)return a.createElement(u.x,{className:(0,Oe.cs)(nt.settingsContent,X),"data-grammarly-part":"settings"},a.createElement(u.x,{className:at.popupSettings},a.createElement(je,null)));return a.createElement(u.x,{className:(0,Oe.cs)(nt.settingsContent,$e&&at.superhumanSettingsContent,Fe&&$e&&nt.settingsContentSuperhumanGo,X),"data-grammarly-part":"settings"},(()=>{const{customSessionTimeoutInfo:e}=A;return!!(0,Je.Xv)(e,oe)&&(0,Je.dU)(I)})()&&a.createElement(it,{openUrl:e.openUrl,authUserDetails:me}),a.createElement(Ue,{url:null==x?void 0:x.url,domain:T.domain}),a.createElement(u.x,{className:at.popupSettings},a.createElement(s.k,{direction:"column",gap:$e&&Fe?6:3,marginBottom:B.isDebugMenuVisible||be?3:void 0},se&&a.createElement(ke,{superhumanGoToggle:Me,superhumanGoEnabled:Fe,onSuperhumanGoEnabled:()=>{(0,k.OB)().bgRpc.api.openSuperhumanGoWelcomePage().catch((()=>{}))},settingsContentStyles:nt,isAllSettingsInSuperhumanGoSection:qe,onAllSettingsClick:()=>{e.openUrl((0,ue.Um)().allSettings),M.J.allSettingsButtonClick(L)},showNotchToggleEnabled:Qe,showNotch:et,onShowNotchToggle:gt,assistantSessionId:W,isCondensedLayout:$e&&Fe}),$e&&Fe?a.createElement(ye,{settings:B,dapi:D,config:T,dynamicConfig:G,user:A,actions:b,isCheetahSupported:null!=j&&j,isKnowledgeHubSupported:null!=K&&K,isTouchTypistSupported:null!=J&&J,isAutoApplySupported:null!=Z&&Z,isHumanWritingReportSupported:null!=Q&&Q,showCitationBuilderToggle:null!=N&&N,isCitationBuilderManualInvocationEnabled:null!=z&&z,showKeyboardShortcuts:Ae,activeTab:x,siteSwitcherChecked:Ge,siteCategory:P,anonymous:Se,showSuperhumanGoBranding:ie,dialects:Le,dialectStrong:Pe,dialectSettings:Ie,toggleCitationBuilder:Re}):(()=>{var t,n,i,r,u,d,p,h,E,f,v,y;return a.createElement(a.Fragment,null,a.createElement(l.X,{as:"h4",variant:"heading-large",className:nt.heading},a.createElement(c.x,{as:"span",color:"base-default"},"Quick Settings"),!qe&&a.createElement(o.r,{href:"#",underline:"hover",weight:"bold",onClick:()=>{e.openUrl((0,ue.Um)().allSettings),M.J.allSettingsButtonClick(L)}},a.createElement(s.k,{className:nt.allSettings},a.createElement(c.x,{as:"span",variant:"text-small"},"All Settings"),a.createElement(m.J,{icon:g.n,accessibilityLabel:"",size:"small",variant:"inherit"})))),pe.q.showSettingPopupToggle(D,B,G,null==x?void 0:x.url)&&a.createElement(a.Fragment,null,a.createElement(st,{toggle:e=>{b.setDesktopIntegration(e),M.J.desktopIntegrationToggleClick(e?"on":"off")},enabled:B.isDesktopIntegrationEnabled}),a.createElement(ot,null)),a.createElement(ce.w,{domain:T.domain,enabledInConfig:null!==(t=T.enabled)&&void 0!==t&&t,siteSwitcherChecked:Ge,favicon:null==x?void 0:x.favIconUrl,siteCategory:P}),J&&a.createElement(a.Fragment,null,a.createElement(ot,null),a.createElement(R,{userId:A.id,settings:B.touchTypistSettings,isMac:(0,k.nD)(),actions:b,gnar:M.J})),a.createElement(ot,null),Ae&&a.createElement(a.Fragment,null,a.createElement(le,{isMac:(0,k.nD)(),isSuperhumanGoBrandingEnabled:ie,showVBarsShortcut:(0,ue.i7)(),currentOpenShortcut:null!==(i=null===(n=B.keyboardShortcuts)||void 0===n?void 0:n.openAssistant)&&void 0!==i?i:(0,U.e)("openAssistant"),currentCloseShortcut:null!==(u=null===(r=B.keyboardShortcuts)||void 0===r?void 0:r.closeAssistant)&&void 0!==u?u:(0,U.e)("closeAssistant"),currentVBarsShortcut:null!==(p=null===(d=B.keyboardShortcuts)||void 0===d?void 0:d.openVBar)&&void 0!==p?p:(0,U.e)("openVBar"),onSetShortcut:(e,t)=>{b.setKeyboardShortcut(e,t)}}),a.createElement(ot,null)),j&&a.createElement(a.Fragment,null,a.createElement(tt,{openCheetahSettings:()=>e.openUrl((0,ue.Um)().featuresSettings),cheetahSettings:B.cheetah,cheetahToggleInlineQuickReply:b.cheetahToggleInlineQuickReply,cheetahToggleInlineRewrite:b.cheetahToggleInlineRewrite,showSerengetiFeatureToggle:$,serengetiEnabled:"disabled"!==D.serengetiState,serengetiToggle:e=>{b.setSerengetiState(!0===e?"enabled":"disabled")}}),a.createElement(ot,null)),N&&(0,de.r4)(T.domain,G,z)&&a.createElement(a.Fragment,null,a.createElement(dt,{enabled:(0,de.Td)(T.domain,G,z,B),domain:T.domain,toggle:Re}),a.createElement(ot,null)),K&&a.createElement(a.Fragment,null,a.createElement(ct,{enabled:null===(E=null===(h=B.knowledgeHubSettings)||void 0===h?void 0:h.enabled)||void 0===E||E,toggle:e=>{b.toggleKnowledgeHub(e),M.J.knowledgeHubFeatureToggleClick("popup",C.JJ.fromDomain(T.domain),e?C.L5.on:C.L5.off),(0,O.Tb)().knowledgeHub.featureToggleClick(C.JJ.fromDomain(T.domain),e?C.L5.on:C.L5.off)}}),a.createElement(ot,null)),a.createElement(F,{disabled:Se,enabledDefs:B.enabledDefs,toggleDefs:b.toggleDefs}),(0,w.c)()&&a.createElement(a.Fragment,null,a.createElement(ot,null),a.createElement(rt,{enabled:B.autocorrectEnabled||!1,isAutoApplySupported:Z,toggle:e=>{b.toggleAutocorrect(e);const t=e?"on":"off";M.J.autocorrectToggleClick("popup",t),(0,O.Tb)().autoFix.featureToggleClick(t,"popup")}})),(!j||!1===(null===(v=null===(f=B.cheetah)||void 0===f?void 0:f.status)||void 0===v?void 0:v.cheetahEnabled))&&a.createElement(a.Fragment,null,a.createElement(ot,null),a.createElement(lt,{enabled:"hide"!==D.emogenieEmojiState,toggle:e=>{b.setEmogenieEmojiState(!0===e?"show":"hide"),M.J.settingsShowEmojiForDetectedTonesToggleClick(T.domain,!0===e?"on":"off")}})),Q&&a.createElement(a.Fragment,null,a.createElement(ot,null),a.createElement(pt,{label:"Grammarly Authorship",enabled:"enabled"===(null===(y=B.humanWritingReport)||void 0===y?void 0:y.kind),disabled:!1,toggle:e=>b.hwrSetEnabled(e),helperMessage:"Prove where your words come from by recording what you type and which sources you use. You choose how to share your information."})),a.createElement(ot,null),a.createElement(re,{dialects:Le,changeStrongDialect:b.changeStrongDialect,dialectStrong:Pe,dialectWeak:D.dialectWeak,dropdownOnTop:!0,disabled:Se,lock:{isLocked:Se||Boolean(null==Ie?void 0:Ie.dialectLockedByInstitution),message:Se?"Sign in to use this feature":"Locked by your organization"}}),a.createElement(ot,null))})()),J&&a.createElement(ut,{enabled:B.isEnhancedScreenReaderUXSupported,toggle:b.toggleEnhancedScreenReaderUXSupport}),(B.isDebugMenuVisible||be)&&a.createElement(mt,{isAdvancedEnabled:B.advancedHistoryLoggerEnabled,isEnabled:B.historyLoggerEnabled,advancedHistoryLoggerEnabledUntil:B.advancedHistoryLoggerEnabledUntil,showDebugPage:Te,openDebugPage:e.openDebugPage,showReportBugButton:be?{enabled:!0,onClick:()=>{we?Ee():e.openReportBugForm(Ke.ZD({domain:T.domain,userType:Ke.Ng(A),version:(0,ue.bo)(),systemInfo:E.Rd().systemInfo}))}}:{enabled:!1},showHideButton:!be,downloadDebugReports:Y,gOSDebugSettings:null!=te?te:De?{debuggerEnabled:null!==(d=B.gOSDebuggerEnabled)&&void 0!==d&&d,toggleDebugger:b.toggleGOSDebugger,appletChannel:null!==(p=B.gOSAppletChannel)&&void 0!==p?p:null,setAppletChannel:b.setGOSAppletChannel,assistantAppletUrl:null!==(h=B.gOSAssistantAppletUrl)&&void 0!==h?h:null,setAssistantAppletUrl:b.setGOSAssistantAppletUrl}:void 0})),he&&a.createElement(he,{isOpen:ge,onClose:fe,onSubmit:ve}))}},78021:(e,t,n)=>{n.d(t,{Z:()=>S});var a=n(92379),o=n(61189),i=n(83542),r=n(50635),s=n(31702),l=n(52348),c=n(11163),u=n(4765),d=n(12712),p=n(1087),m=n(64803),g=n(13118);const h=["Control","Alt","Shift","Meta","CapsLock","NumLock","ScrollLock","AltGraph"],b=/^Digit\d$/,E=/^Key[A-Z]$/;function f(e,t,n=" "){const a=h.filter((t=>e.modifiers.includes(t))).map((e=>function(e,t){if(t){if("Meta"===e)return"Command";if("Alt"===e)return"Option"}return e}(e,t)));return e.key&&a.push(function(e){if(b.test(e)||E.test(e))return e.slice(-1);return e}(e.key)),a.join(n)}const v=({label:e,isMac:t,currentShortcut:n,onEdit:o,shouldAutofocusEditButton:i,shortcutSeparator:c=" ",editButton:u})=>{const d={onClick:o,autoFocus:i,"aria-label":`Edit ${e} shortcut`};return a.createElement(r.k,{justify:"space-between",align:"center",flex:"2",height:32,gap:1},a.createElement(s.x,{as:"p",variant:"text-small"},f(n,t,c)),a.createElement(r.k,null,u?a.cloneElement(u,d):a.createElement(l.z,{text:"Edit",variant:"ghost",...d})))},y=({label:e,isMac:t,currentShortcut:n,onSetShortcut:o,ariaDescribedBy:i,onExit:s,shortcutSeparator:l=" "})=>{const[h,b]=a.useState(n),[E,v]=a.useState(!0),[y,S]=a.useState(void 0),k=`${e.replace(/ /g,"-").toLowerCase()}-shortcut-description-id`;return a.createElement(a.Fragment,null,a.createElement(c.u,{id:k},"Type a shortcut to configure the ",e," shortcut. Press tab for actions."),a.createElement(u.n,{label:`${e} shortcut`,value:f(h,t,l),labelDisplay:"hidden",errorMessage:y,onKeyDown:e=>{if(["Tab","Enter","CapsLock","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","PageUp","PageDown","Home","End","Insert","Delete","Backspace"].includes(e.code))v(!0);else{if(e.preventDefault(),g.uU.includes(e.key))if(E)b({key:void 0,modifiers:[e.key]});else{const t=h.modifiers;t.includes(e.key)||b({key:h.key,modifiers:[...t,e.key]})}else b(E?{key:e.code,modifiers:[]}:{key:e.code,modifiers:h.modifiers});v(!1)}},onKeyUp:()=>{v(!0)},autoFocus:!0,"aria-describedby":i?`${k} ${i}`:k}),a.createElement(r.k,{gap:1},a.createElement(d.h,{icon:p.L,accessibilityLabel:`Save ${f(h,t)} as ${e} shortcut`,tooltipContentProps:{children:"Save shortcut"},onClick:()=>{!function(e){return void 0!==e.key}(h)?S("Invalid shortcut. Must use at least one non-modifier key."):(o(h),s())}}),a.createElement(d.h,{icon:m.V,accessibilityLabel:"Cancel edits",onClick:s,variant:"tertiary"})))};const S=({label:e,isMac:t,currentShortcut:n,onSetShortcut:l,ariaDescribedBy:c,disableLegacyLayout:u=!1,shortcutSeparator:d=" ",showLabel:p=!0,editButton:m,condensed:g=!1})=>{const[h,b]=a.useState(!1),[E,S]=a.useState(!1);a.useEffect((()=>{h&&S(!0)}),[h]);const k=h?a.createElement(y,{label:e,isMac:t,currentShortcut:n,onSetShortcut:n=>{l(n),o.E.announce(`Shortcut to ${e} is ${f(n,t)}`)},onExit:()=>b(!1),ariaDescribedBy:c,shortcutSeparator:d}):a.createElement(v,{label:e,isMac:t,currentShortcut:n,onEdit:()=>b(!0),shouldAutofocusEditButton:E,shortcutSeparator:d,editButton:m}),w=u?{}:{marginLeft:-2,marginRight:-2,borderRadius:3};return a.createElement(i.x,{bgColor:h&&!u?"background-base-subdued":"background-base-default",padding:g?0:2,...w},a.createElement(r.k,{gap:1,direction:"column"},p&&a.createElement(s.x,{as:"p",weight:"semibold",variant:"text-small"},e),a.createElement(r.k,{gap:3,flex:"2"},k)))}},7889:(e,t,n)=>{n.d(t,{Z:()=>s});var a=n(92379),o=n(50635),i=n(31702),r=n(76282);const s=({label:e,children:t,onChange:n,alignCenter:s,labelDisplay:l,...c})=>a.createElement(o.k,{justify:"space-between",align:s?"center":void 0},a.createElement(o.k,{direction:"column",gap:1},a.createElement(i.x,{as:"span",onClick:()=>{c.isDisabled||n(!c.isSelected)},variant:"text-small",weight:"medium",color:"base-default",style:{cursor:c.isDisabled?"not-allowed":"pointer"},"aria-hidden":!0},t),c.helperMessage&&a.createElement(i.x,{as:"p",variant:"text-xsmall",color:"base-subdued"},c.helperMessage)),a.createElement(r.r,{label:e,labelDisplay:"hidden",onChange:n,...c}))},67505:(e,t,n)=>{n.d(t,{R:()=>l,f:()=>c});var a=n(92379),o=n(50635),i=n(31702),r=n(62067),s=n(42496);const l=e=>a.createElement(o.k,{direction:"column",gap:2},a.createElement(s.z,{onClick:e.onSignUp,width:"full"},"Sign up"),a.createElement(o.k,{align:"center",justify:"center",gap:1},a.createElement(i.x,{as:"span",variant:"text-xsmall",color:"base-subdued"},"Already have an account?"),a.createElement(s.z,{onClick:e.onSignIn,variant:"ghost",size:"small","data-grammarly-part":"sign-in-button"},"Log in"))),c=e=>a.createElement(o.k,{direction:"column",gap:2},a.createElement(s.z,{onClick:()=>e.handleClick(r.VP.SignIn),width:"full"},"Sign in"),a.createElement(o.k,{align:"center",justify:"center",gap:1},a.createElement(i.x,{as:"span",variant:"text-xsmall",color:"base-subdued"},"Don't have an account?"),a.createElement(s.z,{onClick:()=>e.handleClick(r.VP.SignUp),variant:"ghost",size:"small"},"Sign up for free")))},98555:(e,t,n)=>{n.d(t,{EZ:()=>s,M8:()=>o,_r:()=>r,lY:()=>a,wU:()=>i});const a=348,o=24,i=a-2*o,r=4,s=0},21553:(e,t,n)=>{n.d(t,{G:()=>h});var a=n(92379),o=n(51109),i=n(29483),r=n(37435),s=n(16381);const l=n(40594).Y.create("BugReportTracking"),c="bug_report/report_bug_button_click",u="bug_report/form_open",d="bug_report/form_cancel",p="bug_report/form_submit",m="bug_report/success_popup_show";class g{constructor(e){this._productMetricsClient=e}createEvent(e){return{event_name:e,dataset_name:"client_ui_interaction",event_ts:Date.now(),client:"chromeExt",client_version:(0,s.bo)()}}async trackReportBugButtonClick(){const e=this.createEvent(c);l.debug("Tracking: Report Bug button click",e);try{await this._productMetricsClient.send(e,{additionalProps:[...r.m,...r.y]})}catch(e){l.error("Failed to track Report Bug button click",e)}}async trackFormOpen(){const e=this.createEvent(u);l.debug("Tracking: Form open",e);try{await this._productMetricsClient.send(e,{additionalProps:[...r.m,...r.y]})}catch(e){l.error("Failed to track form open",e)}}async trackFormCancel(){const e=this.createEvent(d);l.debug("Tracking: Form cancel",e);try{await this._productMetricsClient.send(e,{additionalProps:[...r.m,...r.y]})}catch(e){l.error("Failed to track form cancel",e)}}async trackFormSubmit(){const e=this.createEvent(p);l.debug("Tracking: Form submit",e);try{await this._productMetricsClient.send(e,{additionalProps:[...r.m,...r.y]})}catch(e){l.error("Failed to track form submit",e)}}async trackSuccessPopupShow(){const e=this.createEvent(m);l.debug("Tracking: Success popup show",e);try{await this._productMetricsClient.send(e,{additionalProps:[...r.m,...r.y]})}catch(e){l.error("Failed to track success popup show",e)}}}function h(){return a.useMemo((()=>{const e=o.Xb&&void 0!==o.Xb.isInited&&o.Xb.isInited?o.Xb.getInstance().productMetricsCSClient:(0,i.OB)().productMetricsCSClient;return new g(e)}),[])}},62162:(e,t,n)=>{n.d(t,{w:()=>p});var a=n(92379),o=n(31702),i=n(83542),r=n(7889),s=n(63349),l=n(8842);const c={position:"relative",display:"inline",top:s.ux.px(2),marginRight:s.ux.rem(l.F2)},u={display:"block",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",maxWidth:s.ux.px(250)},d=s.ux.stylesheet({favicon:[c],domainText:[u]}),p=e=>{const t="docs.google.com"===e.domain?"Google Docs":e.domain,{enabledInConfig:n,siteSwitcherChecked:s,favicon:l}=e,c=s.checked&&n,u=n?"Check for writing suggestions":"Checking is not supported";return a.createElement(r.Z,{label:`${u} on ${t}`,isSelected:c,isDisabled:!n,onChange:()=>{s.update(!c)},alignCenter:e.centeredToggle,"data-grammarly-part":"siteSwitcher"},a.createElement(o.x,{as:"span",variant:"text-small","data-test-attr":"siteControlsLabelText"},u," ",a.createElement("br",null),a.createElement(o.x,{as:"span",variant:"text-small",className:d.domainText},"on"," ",a.createElement(o.x,{as:"span",variant:"text-small",weight:"semibold"},l&&a.createElement(i.x,{className:d.favicon},a.createElement("img",{width:"16px",height:"16px",src:l,alt:""})),t))))}},58526:(e,t,n)=>{n.d(t,{Z:()=>T});var a=n(58303),o=n(90023),i=n(92379),r=n(44071),s=n(90572),l=n(14969),c=n(63349),u=n(31702),d=n(50635),p=n(39963),m=n(38364),g=n(62805),h=n(33839),b=n(16381),E=n(74609),f=n(8842),v=n(61483),y=n(98555);const S={paddingBlock:c.ux.rem(f.qp),maxWidth:c.ux.px(y.wU),margin:"auto",textAlign:"center",userSelect:"none"},k={borderTopWidth:1,borderTopStyle:"solid",borderTopColor:v.I.Border.Base.Subdued},w={borderBottomWidth:1,borderBottomStyle:"solid",borderBottomColor:v.I.Border.Base.Subdued},C={marginBlock:c.ux.rem(f.x)},x=c.ux.stylesheet({content:[S],borderTop:[k],borderBottom:[w],premiumButton:[C]}),T=({user:e,isAssistant:t,openSubscriptionDialog:n,hasInProductDiscountSpecialOffer:f,uphookConfiguration:v,trackUphookHubEvent:y,experimentClient:S})=>{const{registrationDate:k,anonymous:w,premium:C}=e,T=(0,m.p6)(k);if(w||C)return null;const B=(0,i.useMemo)((()=>(0,o.zG)(f,a.tS((e=>e?a.G("discountPro"):a.G("pro"))),a.wp((()=>a.G("pro"))))),[f]),D=()=>{y("show",v),(0,o.zG)(B,a.UI((e=>{(0,g.nE)(E.J,{placement:t?"assistantSettings":"settingsToolbar",bannerType:"GoPremiumToEnableAdvancedFixes",upgradeHookName:"extensionSettings",upgradeHookSlot:t?"assistantSettingsPopup":"browserToolbar",upgradeHookVariant:e,experimentClient:S}),(0,p.Tb)().upgradeHooks.showUpgradeHook("extensionSettings",t?"assistantSettingsPopup":"browserToolbar",e)})))};i.useEffect((()=>{(0,o.zG)(B,a.UI((()=>{if((0,b.G6)()){const e=(0,r.R)(document,"visibilitychange").pipe((0,s.h)((()=>"visible"===document.visibilityState))).subscribe((()=>{D()}));return()=>e.unsubscribe()}return D(),()=>{}})))}),[B]);const A=i.useCallback((()=>{v.pipe((0,s.h)(a.pC),(0,l.P)()).subscribe((e=>{n({overrideUrl:e.value.content.ctaUrl,utmCampaign:"extensionSettingsToolbar"})})),y("click",v),(0,o.zG)(B,a.UI((e=>{(0,g.Qi)(E.J,{placement:t?"assistantSettings":"settingsToolbar",bannerType:"GoPremiumToEnableAdvancedFixes",upgradeHookName:"extensionSettings",upgradeHookSlot:t?"assistantSettingsPopup":"browserToolbar",upgradeHookVariant:e,experimentClient:S}),(0,p.Tb)().upgradeHooks.clickUpgradeHook("extensionSettings",t?"assistantSettingsPopup":"browserToolbar",e)}))),(0,p.Tb)().userUpgradeClick("settingsToolbar")}),[B]),I=T?i.createElement(u.x,{as:"span",variant:"text-small","data-test-attr":"checked_since",color:"base-default"},"Grammarly has been correcting your text since ",T,"."):null;return i.createElement("div",{className:t?x.borderTop:void 0},i.createElement(d.k,{className:c.ux.joinClasses([x.content,t?void 0:x.borderBottom]),direction:"column",align:"center"},I,i.createElement(h.Y,{onClick:A,className:x.premiumButton,dataGrammarlyPart:"settings-upgrade-button",cta:(0,o.zG)(v.get(),a.UI((e=>e.content.ctaCopy)),a.wp((()=>(0,o.zG)(f,a.tS((e=>e?a.G("Get 50% off Pro"):a.YP))))),a.fS((()=>"Get Pro")))})))}},62531:(e,t,n)=>{n.d(t,{I:()=>c});var a=n(92379),o=n(6882),i=n(6188),r=n(32295),s=n(47052),l=n(44402);const c=e=>{var t,n,c;return a.useEffect((()=>{e.trackPopupShow()}),[]),a.createElement("div",{className:l.wrapper},a.createElement(s.h,null),a.createElement("div",{className:l.content},a.createElement(o.h4,{sanitizedTitle:i.c.sanitizeSuspendTitle(null===(t=e.popupDynamicConfig)||void 0===t?void 0:t.popupTitleHTML)}),a.createElement(o.uT,{sanitizedBody:i.c.sanitizeSuspendBody(null===(n=e.popupDynamicConfig)||void 0===n?void 0:n.popupBodyHTML)}),a.createElement(r.StandWithUkraineSuspendFooter,{onLearnMore:e.onLearnMore,sanitizedLearnMoreButtonLabelHTML:i.c.sanitizeSuspendLearnMoreLabel(null===(c=e.popupDynamicConfig)||void 0===c?void 0:c.popupLearnMoreButtonLabelHTML)})))}},74609:(e,t,n)=>{n.d(t,{J:()=>o});var a=n(29483);const o=new Proxy({},{get:(e,t)=>(...e)=>(0,a.OB)().bgRpc.api.trackGnar(t,e)})},72526:(e,t,n)=>{n.d(t,{yw:()=>m});var a=n(56863),o=n(62067),i=n(51109),r=n(74609),s=n(35248),l=n(16381);let c;function u(){return null!=c?c:c={permissions:["cookies"],origins:[(0,l.Vi)()]}}var d=n(95404),p=n(72965);function m({dynamicConfig:e,checkPermissions:t=(()=>async function(e){var t;if(!0!==(null==e?void 0:e.requireAuthCookieAccess))return!0;const n=null===(t=(0,i.OB)().browserApi.permissions)||void 0===t?void 0:t.contains;if(!n)return!0;return await n(u())}(e)),requestPermissions:n=(()=>async function(e){var t;if(!0!==(null==e?void 0:e.requireAuthCookieAccess))return!0;const n=null===(t=(0,i.OB)().browserApi.permissions)||void 0===t?void 0:t.request;if(!n)return!0;return await n(u())}(e)),actions:l}={}){const{bindSignIn:c,...m}=(0,p.z)({checkPermissions:t,requestPermissions:n});return{...m,bindSignIn:c,onSignIn:c((e=>{const t={utmCampaign:"toolbarMenu",utmSource:"signinHook"};if((0,s.B)((0,i.OB)().experimentClient)){(0,i.OB)().bgRpc.api.launchAuthFlow(!1,{...(0,a.xW)(e),...(0,d.OC)((0,d.g7)(t))})}else{const n=(0,i.OB)().browserApi;n.beginOAuth?n.beginOAuth():n.openUrl((0,d.s7)({...e,action:o.VP.SignIn},t))}null==l||l.beginAuth(),r.J.signInButtonClick("toolbar")})),onSignUp:c(((e,t)=>{const n={utmCampaign:"toolbarMenu",utmSource:"signupHook"};if((0,s.B)((0,i.OB)().experimentClient)){(0,i.OB)().bgRpc.api.launchAuthFlow(!0,{...(0,a.xW)(e),...(0,d.OC)((0,d.g7)(n))})}else{const a=(0,i.OB)().browserApi;if(a.beginOAuth)a.beginOAuth();else{const i=(0,d.Xc)({...e,action:o.VP.SignUp},n),r="webstore"===t?(0,d.My)(i,t):i;a.openUrl(r)}null==l||l.beginAuth(),r.J.signUpButtonClick("toolbar")}}))}}},44279:(e,t,n)=>{n.d(t,{Z:()=>d});var a=n(92379),o=n(63349),i=n(83542),r=n(36279),s=n(64803),l=n(8842),c=n(61483),u=n(42496);const d=({onClose:e,maxWidth:t=400,arrowPosition:n="none",animateIn:l,children:c})=>a.createElement(i.x,{elevation:"high",borderColor:"base-subdued",borderRadius:2,padding:8,paddingBottom:6,className:o.ux.joinClasses([h.container,l&&h.containerAnimateIn]),style:{maxWidth:t},bgColor:"background-base-default","data-arrow-position":n},"none"!==n&&a.createElement("svg",{className:h.arrow,"aria-hidden":"true",width:"14",height:"14",viewBox:"0 0 14 14","data-arrow-position":n},a.createElement("polyline",{points:"0,0 7,7 14,0"})),a.createElement(u.z,{onClick:e,variant:"tertiary",size:"small",className:h.closeButton},a.createElement(r.J,{icon:s.V,size:"small",accessibilityLabel:"Close"})),c),p={animationName:o.ux.keyframes({"0%":{scale:0},"100%":{scale:1}}),animationDuration:"0.3s",animationTimingFunction:"ease-out",transformOrigin:"bottom right",$nest:{"@media (prefers-reduced-motion)":{animation:"none"},'&[data-arrow-position="top-right"], &[data-arrow-position="right-top"]':{transformOrigin:"top right"}}},m={padding:o.ux.important(o.ux.rem(l.F2)),position:o.ux.important("absolute"),top:o.ux.rem(l.x),right:o.ux.rem(l.x)},g={position:"absolute",fill:c.I.Background.Base.Default,stroke:c.I.Border.Base.Subdued,strokeWidth:1,$nest:{'&[data-arrow-position="top-right"]':{transform:"rotate(180deg)",bottom:"100%",right:o.ux.rem(l.qp)},'&[data-arrow-position="right-top"]':{transform:"rotate(-90deg)",left:"100%",top:o.ux.rem(l.mh)},'&[data-arrow-position="right-bottom"]':{transform:"rotate(-90deg)",left:"100%",bottom:o.ux.rem(l.mh)},'&[data-arrow-position="bottom-right"]':{top:"100%",right:o.ux.rem(l.qp)}}},h=o.ux.stylesheet({container:[{position:"relative",display:"inline-block",minWidth:200}],containerAnimateIn:[p],arrow:[g],closeButton:[m]})},60508:(e,t,n)=>{n.d(t,{Z:()=>c});var a=n(92379),o=n(63349),i=n(50635),r=n(36279),s=n(69554),l=n(52348);const c=({title:e,titleIcon:t,headerImage:n,centerContent:l,contentGap:c=3,children:d})=>{if(u(d))throw new Error("GDS Button components are not allowed as children because they currently do not work with keyboard navigation in Shadow DOM. Please use universal/cs/ui/components/popups/button/Button instead.");return a.createElement(i.k,{align:l?"center":void 0,direction:"column",gap:c,className:p.maxWidthContainer},n,a.createElement(i.k,{gap:2,className:p.maxWidthContainer},t&&a.createElement(r.J,{icon:t,size:"large",accessibilityLabel:"",className:p.titleIcon}),a.createElement(s.X,{as:"h2",variant:"heading-xsmall",className:o.ux.joinClasses([p.titleHeading,l?p.titleCentered:void 0])},e)),d)};function u(e){return!!e&&(Array.isArray(e)?e.some(u):!!a.isValidElement(e)&&(e.type===l.z||u(e.props.children)))}const d={textAlign:o.ux.important("center")},p=o.ux.stylesheet({maxWidthContainer:[{maxWidth:"100%"}],titleIcon:[{minWidth:24}],titleHeading:[{overflow:"hidden",textOverflow:"ellipsis"}],titleCentered:[d]})},46599:(e,t,n)=>{n.r(t),n.d(t,{DataControlPopup:()=>m,DataControlPopupDefault:()=>p});var a=n(92379),o=n(36279),i=n(16475),r=n(50635),s=n(19347),l=n(90189),c=n(42496),u=n(44279),d=n(60508);const p=e=>a.createElement(d.Z,{title:"Grammarly isn't active yet!",headerImage:a.createElement(o.J,{icon:i.F,size:"large",accessibilityLabel:""}),centerContent:!0},a.createElement(c.z,{onClick:e.openAcceptPage,width:"full"},a.createElement(r.k,{gap:2,align:"center"},a.createElement("span",null,"Activate Grammarly"),a.createElement(o.J,{icon:s.n,size:"small",variant:"inverse",accessibilityLabel:""}))));class m extends a.Component{constructor(){super(...arguments),this.openAcceptPage=()=>{(0,l.OB)().bgRpc.api.openDataControl()}}render(){return a.createElement(u.Z,{onClose:this.props.remove,arrowPosition:this.props.isFlipped?"top-right":"bottom-right",animateIn:!0},a.createElement(p,{openAcceptPage:this.openAcceptPage}))}}},28240:(e,t,n)=>{n.d(t,{w:()=>r});var a=n(92379),o=n(4026),i=n(94e3);class r extends a.Component{constructor(e){super(e)}render(){const{institutionName:e,ssoUrl:t}=this.props;return a.createElement("div",{className:(0,o.cs)(i.managedSSOControl,i.settings)},a.createElement("div",{className:i.illustration}),a.createElement("p",{className:i.title},"Grammarly isn’t active yet!"),a.createElement("p",{className:i.text},"To begin using Grammarly, you need to sign in with SSO under the ",a.createElement("b",null,e)," ","organization."),a.createElement("div",{className:i.signInWithSSO},a.createElement("a",{tabIndex:-1,target:"__blank",href:t},"SIGN IN WITH SSO")))}}},72965:(e,t,n)=>{n.d(t,{z:()=>i});var a=n(92379);const o=n(40594).Y.create("Hooks.Auth.useSignIn");function i({checkPermissions:e,requestPermissions:t}){const[n,i]=(0,a.useState)(),r=Boolean(n),[s,l]=(0,a.useState)(!1);return{needPermissions:r,requestingPermissions:s,bindSignIn:t=>(n,a)=>{r||s||e().then((e=>{e?(i(void 0),t(n,a)):i((()=>{t(n,a)}))})).catch((e=>{o.warn(`There was an error during checkPermissions: ${e}`)}))},onRequestPermissions:()=>{s||(l(!0),t().then((e=>{l(!1),e&&(i(void 0),null==n||n())})))}}}},72032:(e,t,n)=>{n.d(t,{T:()=>o,n:()=>i});var a=n(18473);function o(e){return(0,a.Y)()?e:"grammarly"}function i(){return(0,a.Y)()?"Superhuman Go":"Grammarly"}},1527:(e,t,n)=>{n.d(t,{m:()=>o,u:()=>i});var a=n(92379);const o=()=>a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none"},a.createElement("g",{clipPath:"url(#a)"},a.createElement("rect",{width:"29.714",height:"26.286",x:"2.286",y:"8",fill:"#fff",stroke:"#1C1C1C",strokeWidth:"1.25",rx:"3.333"}),a.createElement("path",{fill:"#fff",stroke:"#1C1C1C",strokeWidth:"1.25",d:"M2.286 11.333A3.333 3.333 0 0 1 5.619 8h23.048A3.333 3.333 0 0 1 32 11.333v2.953H2.286v-2.953Z"}),a.createElement("ellipse",{cx:"5.86",cy:"11.108",fill:"#1C1C1C",rx:".585",ry:".571"}),a.createElement("ellipse",{cx:"7.794",cy:"11.108",fill:"#1C1C1C",rx:".585",ry:".571"}),a.createElement("ellipse",{cx:"9.728",cy:"11.108",fill:"#1C1C1C",rx:".585",ry:".571"}),a.createElement("path",{stroke:"#1C1C1C",strokeWidth:"1.25",d:"M8.264 21.143h17.583M8.264 27.067h17.583"}),a.createElement("path",{fill:"#FFDC85",stroke:"#1C1C1C",strokeWidth:"1.25",d:"M38.518 13.857c0 5.572-4.517 10.09-10.09 10.09-5.572 0-10.089-4.518-10.089-10.09s4.517-10.09 10.09-10.09c5.572 0 10.089 4.518 10.089 10.09Z"}),a.createElement("path",{fill:"#FCFCFC",stroke:"#1C1C1C",strokeWidth:"1.25",d:"M28.182 7.076a.336.336 0 0 1 .582 0l6.014 10.415a.336.336 0 0 1-.291.505H22.46a.336.336 0 0 1-.291-.505l6.013-10.415Z"}),a.createElement("path",{stroke:"#1C1C1C",strokeWidth:"1.25",d:"M28.61 10.389v4.034M28.61 15.428v.968"})),a.createElement("defs",null,a.createElement("clipPath",{id:"a"},a.createElement("path",{fill:"#fff",d:"M0 0h40v40H0z"})))),i=()=>a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"none"},a.createElement("g",{clipPath:"url(#a)"},a.createElement("rect",{width:"23.771",height:"21.029",x:"1.829",y:"6.4",fill:"#fff",stroke:"#1C1C1C",rx:"2.667"}),a.createElement("path",{fill:"#fff",stroke:"#1C1C1C",d:"M1.829 9.067A2.667 2.667 0 0 1 4.495 6.4h18.438A2.667 2.667 0 0 1 25.6 9.067v2.361H1.829V9.067Z"}),a.createElement("ellipse",{cx:"4.688",cy:"8.886",fill:"#1C1C1C",rx:".468",ry:".457"}),a.createElement("ellipse",{cx:"6.235",cy:"8.886",fill:"#1C1C1C",rx:".468",ry:".457"}),a.createElement("ellipse",{cx:"7.783",cy:"8.886",fill:"#1C1C1C",rx:".468",ry:".457"}),a.createElement("path",{stroke:"#1C1C1C",d:"M6.61 16.914h14.067M6.61 21.654h14.067"}),a.createElement("path",{fill:"#FFDC85",stroke:"#1C1C1C",d:"M30.814 11.086a8.071 8.071 0 1 1-16.143 0 8.071 8.071 0 0 1 16.143 0Z"}),a.createElement("path",{fill:"#FCFCFC",stroke:"#1C1C1C",d:"M22.546 5.66a.269.269 0 0 1 .465 0l4.811 8.333a.269.269 0 0 1-.233.403h-9.621a.269.269 0 0 1-.233-.403l4.81-8.332Z"}),a.createElement("path",{stroke:"#1C1C1C",d:"M22.888 8.311v3.228M22.888 12.343v.774"})),a.createElement("defs",null,a.createElement("clipPath",{id:"a"},a.createElement("path",{fill:"#fff",d:"M0 0h32v32H0z"}))))},74316:(e,t,n)=>{n.d(t,{K:()=>o});var a=n(92379);const o=a.memo((function(e){return a.createElement("svg",{className:e.className,width:e.width,height:e.height,viewBox:"0 0 34 33",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M20.6126 4.92236H4.92251C2.75616 4.92236 1 6.67852 1 8.84486V27.9672C1 30.1335 2.75616 31.8897 4.92251 31.8897H20.6126C22.779 31.8897 24.5351 30.1335 24.5351 27.9672V8.84486C24.5351 6.67852 22.779 4.92236 20.6126 4.92236Z",fill:"white",stroke:"#1C1C1C",strokeLinecap:"round"}),a.createElement("path",{d:"M5.90625 18.1616H12.7706",stroke:"#1C1C1C",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M5.90625 24.0454H19.6351",stroke:"#1C1C1C",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M32.8704 10.8248C32.8704 16.2173 28.4585 20.6126 23.0456 20.6126C21.0065 20.6126 19.1898 20.0216 17.6327 18.9505C15.0004 17.2146 13.2578 14.1859 13.2578 10.7878C13.2578 5.39529 17.6698 1 23.0827 1C28.4956 1 32.8704 5.3953 32.8704 10.8248Z",fill:"#FFDC85",stroke:"#1C1C1C",strokeMiterlimit:"10"}),a.createElement("path",{d:"M23.0625 5.16846V10.8071H27.2302",stroke:"#1C1C1C",strokeLinecap:"round"}))}))},40224:(e,t,n)=>{n.d(t,{i:()=>i});var a=n(90595),o=n(29483);function i(){return(0,o.OB)().experimentClient.isGateEnabled(a.K.SuperhumanGoBranding)}},19523:(e,t,n)=>{n.d(t,{Ng:()=>i,WY:()=>s,ZD:()=>r});var a=n(16381),o=n(19724);const i=e=>{const t=o.n.getType(e);return"registered"===t?"free":t},r=e=>{return{clientVersion:e.version,platformVersion:"",application:e.domain,browser:e.systemInfo.browser.name,os:(t=e.systemInfo.os,t.isWindows?"windows":t.isMac?"mac":t.isChromeOS?"chromeos":"other"),userType:e.userType,team:"browserextensions"};var t},s=e=>{const t=new URL((0,a.Um)().grammarlyEmployeesBugReportsUrl);return Object.entries(e).forEach((([e,n])=>{n&&t.searchParams.set(e,n)})),t.toString()}},66886:e=>{e.exports={settingsContentWrapper:"Pjkoe",ghostContainer:"T3SqS",ghostImage:"W2noN",ghostSwitcher:"TDKhQ",footer:"_2SJl",footer_btn_container:"Xfuqm",footer_btn_container_ghost:"UK8mD Xfuqm",footer_btn:"zzsGE",footer_icon_home:"fjYLw"}},44114:e=>{e.exports={heading:"RDHDg",labelsFont:"ChkL9"}},31e3:e=>{e.exports={content:"L0IlD",paragraph:"Orx96",header:"XpiGS",flag:"hYeJR",flagTop:"Te_me",flagBottom:"pHlXZ",title:"ruQOD"}},59776:e=>{e.exports={learnMoreButton:"nUL6q"}},91409:e=>{e.exports={wrapper:"fP89T",popup:"p4cHm",content:"BZyxI",animation:"DWhKF",title:"nHp6t"}},51705:e=>{e.exports={premiumButton:"QpA64"}},86723:e=>{e.exports={wrapper:"Aolfm",heading:"NFFQg",domain:"c3Fd7",description:"LTKQH"}},46577:e=>{e.exports={settingsContent:"C3SN4",fullWidth:"dRfoN",heading:"_HqAa",allSettings:"pUfgB",separator:"vlSkx",section:"v01UR",settingsLink:"d_ohh",debugMenu:"iovEn",downloadBtn:"u6BF0",timer:"DQHsO",gOSMenu:"dhG16",menuItem:"COwmJ","gds-select-container":"Cmf7Q",settingsContentSuperhumanGo:"nl2zA"}},44402:e=>{e.exports={wrapper:"thWhq",content:"FIMJQ"}},94e3:e=>{e.exports={gButtonPopup:"diNpB",loginSSOPopup:"dGc8e",showWrapper:"UUYhD",flipped:"iGBQj",closeButton:"vcac9",text:"jfR06",title:"pQCa0",bold:"K4CWO",link:"UAmjO",secondary:"EXtIt",firstTime:"JpYft",close:"OUiPJ",loginReminder:"H1d0B",permission:"RPuBs",popupFooter:"rA9f6",isFlipped:"hSt1p",onboarding:"QrVo6",onboardingWithReminder:"njXr2",onboardingClose:"G0tug",dropdownContainer:"WJP1a",arrowhead:"HI72s",dropdownList:"Rog_Q",onboardingWithReminderIconPosition:"v1L7z",sessionTimeoutPopup:"djMQL",sessionTimeoutClose:"cE7Bk",sessionTimeoutPopupIconPosition:"_re7y",signinLink:"TT5tz",warningPopup:"HFaC5",warningWithoutIcon:"FyT69",managedSSOControl:"L1Rzm",settings:"H5xEt",illustration:"qESn3",signInWithSSO:"rq8co",signInWithSSO2:"wE0K3"}},47695:e=>{e.exports={"footer-ios":"IfRTb"}},24825:e=>{e.exports={"header-ios":"icRoX",logo:"KpttL",mark:"Ao1Jt",type:"cyoK9",link:"yYlif"}},90867:e=>{e.exports={header:"Coe_1",delimiter:"PA63z",logo:"oGOoy",closeButton:"v_YAN"}},78703:e=>{e.exports={windows:"ScRGR",setting_item:"byTue",fixing:"tGQgu",thin_text:"Zw2iF",footer:"VarAw",gr_popup_settings:"sCOqq",iOS:"xw90P",footer_btn:"dFcxY",short_border:"GPdi3",top:"a8_HB",content:"eJi6K",my_grammarly:"TPdm3",new_document:"b5rRu",unsupported_site:"FV6cP",unsupported_item:"kI6Es",unsupported_title:"TvJkj",domain:"mbOuw",domain_in_details:"HyZRA",unsupported_temporary:"aeiHl",unsupported_permanently:"e63AG",unsupported_grammarly:"SK755",diamond:"z0724",userPanel:"bG2GY",email:"U4qfE",link:"Vrj67",blue:"Dstaa",edc_stripe:"GEFvM",line:"_o71L",not_supported:"Z9hzt",site_switcher:"LXeMc",upgrade:"BAl_v",favicon:"L5Hrq",centered:"T0qTK",summary:"tuG8u",upgrade_title:"KRcNq",settingsContentWrapper:"OeKpx",settingsContent:"AwQr3",sessionTimeoutWrapper:"BErLl",sessionTimeoutDiv:"rekSD",sessionTimeoutTextAndIcon:"ihkdF",sessionTimeoutPopupIcon:"xYrMw",sessionTimeoutText:"JpIic",signinLink:"n7A2H",popupSettings:"wBa4V",withBackground:"JRZMC",llamaTitle:"WnzAW",llamaDescription:"dDIsV",cheetahLabelAndButton:"WwKRI",cheetahLabel:"aMCQq",cheetahManageButton:"hfCbo",hwrDescription:"KqA2M",nobr:"wae8U",superhumanSettingsContent:"P2TY2"}},98539:e=>{e.exports={socialSigninContent:"k2AdT",withClose:"_1NuQS",socialSignin:"YBXsj",closeIcon:"lL3zx",signin:"DY97f",permission:"YmV8G",iOS:"C_ZC9",content:"pnCIV",banner:"BsNFR"}},98811:e=>{e.exports={gr_popup_unsupported:"mNplt",iOS:"dknvA",line:"bbXMt",unsupported_site:"isHIc",unsupported_item:"bsr7c",warning:"QaV6u",ok:"VIvGU",unsupported_title:"xAVeT",domain:"QAQlK",unsupported_grammarly:"ndOUg",unsupported_grammarly_text:"t78jM"}},1479:e=>{e.exports={}}}]);