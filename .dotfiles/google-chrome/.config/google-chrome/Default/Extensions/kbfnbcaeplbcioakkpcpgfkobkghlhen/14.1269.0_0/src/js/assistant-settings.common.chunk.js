(self.webpackChunk=self.webpackChunk||[]).push([[1421,751],{10269:(e,t,n)=>{n.d(t,{q:()=>i});var o=n(92379),a=n(49652);function i(){const[e,t]=o.useState(void 0);return o.useEffect((()=>{(0,a.kA)().then((e=>{t(e)}))}),[]),{isGoEnabledForInstitution:e,isInstitutionManaged:void 0!==e}}},86174:(e,t,n)=>{n.r(t),n.d(t,{AssistantSettingsRoot:()=>K});var o=n(92379),a=n(33885),i=n(90023),r=n(24666),s=n(90572),l=n(14969),c=n(21100),u=n(13391),d=n(58303),p=n(12518),g=n(90595),m=n(18838),h=n(35614),b=n(78819),v=n(78519),f=n(86562),S=n(92854),y=n(58526),E=n(74609),w=n(19724),k=n(4972),C=n(19523),x=n(29483);const T=({assistantSettingsViewModel:e,experimentClient:t,openSubscriptionDialog:n,getEnv:T,className:A})=>{const{domain:B,actions:D,state:I,hasInProductDiscountSpecialOffer:O,downloadDebugReports:R,assistantSessionId:P}=e,G=o.useRef(u.h.create(d.YP)),[,_]=o.useState(!1),[L,U]=o.useState(!!I.view("page","enabled").get());o.useEffect((()=>{const e=I.view("user").pipe((0,r.x)(w.n.isFree),(0,s.h)(w.n.isFree)).subscribe((()=>{D.getConfiguration("assistantSettingsPopup").then((e=>{(0,i.zG)(e,p.UI((e=>{G.current.set(d.ij(e))}))),_(!0)}))}));return()=>e.unsubscribe()}),[]);const M={checked:L,update:e=>{U(e),D.toggleSite(e,B),E.J.checkingToggleClick("assistant",k.y.other,e?"on":"off",B)}},H=o.useMemo((()=>new f.C((0,x.nD)(T()))),[]);return o.createElement(c.a.Context.Provider,{value:H},o.createElement(a.F.div,{role:"region","aria-label":"Grammarly settings",className:A},I.view((({user:e,page:n,dynamicConfig:a,dapi:i,sessionTimeoutValue:r})=>o.createElement(S.a7,{actions:D,config:{enabled:!0,domain:B},settings:n,sessionTimeoutValue:r,user:e,dapi:i,dynamicConfig:a,siteCategory:k.y.other,isReportBugFeatureAllowed:!t.isGateEnabled(g.K.HideReportBugByGrammarlyEmployeeFeature),openReportBugForm:e=>{self.open(C.WY(e))},openDebugPage:()=>{self.open(chrome.runtime.getURL("src/debug.html"))},openUrl:e=>self.open(e),placement:"assistant",showCitationBuilderToggle:!1,siteSwitcherChecked:M,isIndianEnglishDialectSupported:t.isGateEnabled(g.K.IndianEnglishDialect)||t.isGateEnabled(g.K.IndianEnglishDialectInternal),isAutoApplySupported:t.isGateEnabled(g.K.SuggestionDeliveryAutoApply),downloadDebugReports:R,isCheetahSupported:!0,showSerengetiFeatureToggle:t.isGateEnabled(g.K.KnowledgeEngineSearchV2Alpha),isKnowledgeHubSupported:(0,b.a)(t),isTouchTypistSupported:v.A.isAvailableByInstitution(a)&&v.A.isAvailableViaGateOrExperiment(t),isHumanWritingReportSupported:(0,m.C0)(n.humanWritingReport),assistantSessionId:P,bgRpc:T().bgRpc}))),(0,h.gm)(I,O).view((({user:e,hasSpecialOffer:a})=>o.createElement(y.Z,{user:e,openSubscriptionDialog:n,isAssistant:!0,hasInProductDiscountSpecialOffer:a,uphookConfiguration:G.current,trackUphookHubEvent:(e,t)=>{t.pipe((0,s.h)(d.pC),(0,l.P)()).subscribe((t=>{D.trackConfiguration(e,t.value)}))},experimentClient:t})))))};var A,B=n(94931),D=n(32060),I=n(88012),O=n(53981),R=n(3620),P=n(32626),G=n(25693),_=n(42900),L=n(18428),U=n(40594),M=n(13736),H=n(35159);!function(e){e.download=function(){M.E.download((0,H.$)())},e.initKeyboardShortcutHandler=function(){return M.E.initKeyboardShortcutHandler((0,H.$)())}}(A||(A={}));var N=n(75295),F=n(43795);class z{get domain(){var e;const t=this.activeTabState.get();return null!==(e=null==t?void 0:t.domain)&&void 0!==e?e:""}constructor(e,t){this.settingsService=e,this.hasInProductDiscountSpecialOffer=u.h.create(d.YP),this._log=U.Y.create("SidepanelAssistantSettingsViewModel"),this.activeTabState=u.h.create(null),this._subs=new I.w.Keeper,this.downloadDebugReports=()=>{A.download()},this.sidePanelState=(0,N.n)(e.persistentStore);const n=t||(0,B.O)().bgRpc;this.quickSettingsActions=(0,_.QP)(e.persistentStore),this.sharedSettingsActions=(0,L.C)(e.persistentStore),this.dapiActions=(0,P.z)(n),this.uphookActions=(0,O.h)(n),this.specialOfferActions=(0,R.o)(n),this._internalState=this.createCombinedState(),this.isStateReady=this._internalState.view((e=>null!==e)),this.state=this._internalState.view((e=>{if(null===e)throw new Error("Attempted to access state before it is ready. Check isStateReady first.");return e})),this.actions=this.createActions(),this.initializeSpecialOffer(),this.initializeActiveTab(),this._subs.push(A.initKeyboardShortcutHandler())}createCombinedState(){return u.h.combine(this.sidePanelState,this.activeTabState,((e,t)=>{if(null===t)return null;const n={...e.settings.common,...e.settings[t.domain],domain:t.domain,tabId:t.tabId,isActiveTab:t.isActiveTab,enabled:this.isDomainEnabled(e.settings,t.domain),sessionTimeoutValue:(0,F.GH)(e.user.customSessionTimeoutInfo),gOSDebuggerEnabled:e.settings.common.gOSDebuggerEnabled,gOSAppletChannel:e.settings.common.gOSAppletChannel,gOSAssistantAppletUrl:e.settings.common.gOSAssistantAppletUrl};return{user:e.user,page:n,dynamicConfig:e.dynamicConfig,dapi:{dialectStrong:e.dialect,dialectWeak:e.dialect,serengetiState:e.serengetiState,showDesktopIntegrationExtensionToggle:e.showDesktopIntegrationExtensionToggle},sessionTimeoutValue:n.sessionTimeoutValue}}))}isDomainEnabled(e,t){var n,o,a;const i=e[t];return(null===(n=null==i?void 0:i.enabled)||void 0===n||n)&&(null===(a=null===(o=e.common)||void 0===o?void 0:o.enabled)||void 0===a||a)}createActions(){return{toggleSite:(e,t)=>{const n=this.activeTabState.get(),o=t||(null==n?void 0:n.domain)||"";o?this.quickSettingsActions.toggleSite({enabled:e,domain:o}):this._log.warn("toggleSite: No domain available, action ignored")},toggleDefs:e=>{this.quickSettingsActions.toggleDefs(e)},toggleAutocorrect:e=>{this.quickSettingsActions.toggleAutocorrect(e)},toggleAlwaysAvailableAssistant:e=>{this.quickSettingsActions.toggleAlwaysAvailableAssistant(e)},toggleShowNotch:e=>{this.quickSettingsActions.toggleShowNotch(e)},toggleCitationBuilderForDomain:e=>{this.quickSettingsActions.toggleCitationBuilderForDomain(e)},toggleTouchTypist:e=>{this.quickSettingsActions.toggleTouchTypist(e)},toggleTouchTypistByUser:e=>{this.quickSettingsActions.toggleTouchTypistByUser(e)},setTouchTypistToggledByUser:e=>{this.quickSettingsActions.setTouchTypistToggledByUser(e)},setTouchTypistHotkey:e=>{this.quickSettingsActions.setTouchTypistHotkey(e)},setKeyboardShortcut:(e,t)=>{this.quickSettingsActions.setKeyboardShortcut({[e]:t})},toggleEnhancedScreenReaderUXSupport:e=>{this.quickSettingsActions.toggleEnhancedScreenReaderUXSupport(e)},setDesktopIntegration:e=>{this.sharedSettingsActions.setDesktopIntegration(e)},toggleGOSDebugger:e=>{this.sharedSettingsActions.toggleGOSDebugger(e)},setGOSAppletChannel:e=>{this.sharedSettingsActions.setGOSAppletChannel(e)},setGOSAssistantAppletUrl:e=>{this.sharedSettingsActions.setGOSAssistantAppletUrl(e)},changeStrongDialect:e=>{this.dapiActions.changeStrongDialect(e)},setEmogenieEmojiState:e=>{this.dapiActions.setEmogenieEmojiState(e)},setSerengetiState:e=>{this.dapiActions.setSerengetiState(e)},cheetahToggleInlineRewrite:e=>{var t,n,o,a,i;const r=this.sidePanelState.get().settings.common.cheetah;(0,B.O)().bgRpc.api.setCheetahStatus({cheetahEnabled:null===(n=null===(t=null==r?void 0:r.status)||void 0===t?void 0:t.cheetahEnabled)||void 0===n||n,entryPointsConfig:{inlineRewriteEnabled:e,inlineQuickReplyEnabled:null===(i=null===(a=null===(o=null==r?void 0:r.status)||void 0===o?void 0:o.entryPointsConfig)||void 0===a?void 0:a.inlineQuickReplyEnabled)||void 0===i||i}})},cheetahToggleInlineQuickReply:e=>{var t,n,o,a,i;const r=this.sidePanelState.get().settings.common.cheetah;(0,B.O)().bgRpc.api.setCheetahStatus({cheetahEnabled:null===(n=null===(t=null==r?void 0:r.status)||void 0===t?void 0:t.cheetahEnabled)||void 0===n||n,entryPointsConfig:{inlineRewriteEnabled:null===(i=null===(a=null===(o=null==r?void 0:r.status)||void 0===o?void 0:o.entryPointsConfig)||void 0===a?void 0:a.inlineRewriteEnabled)||void 0===i||i,inlineQuickReplyEnabled:e}})},toggleKnowledgeHub:e=>{(0,B.O)().bgRpc.api.setKnowledgeHubSettings({isEnabled:e})},hwrSetEnabled:e=>{(0,B.O)().bgRpc.api.hwrSetEnabled(e)},getConfiguration:e=>this.uphookActions.getConfiguration(e),trackConfiguration:(e,t)=>this.uphookActions.trackConfiguration(e,t)}}initializeSpecialOffer(){const e=this.sidePanelState.get();(0,h.ol)(e.user,(0,B.O)().experimentClient)?this._subs.push((0,h.SU)(this.specialOfferActions).subscribe((e=>{this.hasInProductDiscountSpecialOffer.set(e)}))):this.hasInProductDiscountSpecialOffer.set(d.YP)}initializeActiveTab(){this.activeTabState.set(this.fetchActiveTabInfo()),this.subscribeForTabChange()}fetchActiveTabInfo(){const e=this.settingsService.activeTab.get();return this.extractTabInfo(e)}subscribeForTabChange(){this._subs.push(this.settingsService.activeTab.subscribe((e=>{this.activeTabState.set(this.extractTabInfo(e))})))}extractTabInfo(e){return(null==e?void 0:e.url)?{domain:(0,G.KK)(e.url),url:e.url,tabId:String(e.id||"0"),isActiveTab:!0,favIconUrl:e.favIconUrl}:null}get assistantSessionId(){return this.settingsService.assistantSessionId}dispose(){this._subs.dispose()}}const K=({settingsService:e})=>{const t=o.useMemo((()=>new z(e)),[e]),n=o.useCallback((e=>{const t=Object.assign({utmCampaign:"extensionSettingsToolbar"},e);(0,B.O)().bgRpc.api.openSubscriptionPage(t)}),[]);return o.useEffect((()=>()=>{t.dispose()}),[t]),o.createElement("div",{className:D.root},o.createElement(a.F.Fragment,null,t.isStateReady.view((e=>e?o.createElement(T,{assistantSettingsViewModel:t,experimentClient:(0,B.O)().experimentClient,openSubscriptionDialog:n,getEnv:()=>(0,B.O)(),className:D.settingsView}):null))))}},12314:(e,t,n)=>{n.d(t,{T:()=>s,B:()=>r});var o=n(39963),a=n(62067),i=n(6266);const r=(e,t)=>{const{authHookDetails:n,userType:a,isGDocs:r=!1}=t;(({name:e,slot:t,experience:n,userType:a,lastKnownUserType:r,isGDocs:s})=>{(0,o.Tb)().authHooks.authHookShown({authHookName:e,authHookSlot:t,authHookExperience:n,userTypeExtended:a,lastKnownUserType:r,writingSurface:(0,i.$H)(!!s)})})({...n,userType:a,isGDocs:r}),null==e||e.authHookShow(n.experience,n.name,n.slot,a)},s=(e,t)=>{const{authHookDetails:n,userType:r,isGDocs:s=!1}=t;(({name:e,slot:t,experience:n,userType:r,lastKnownUserType:s,action:l,isGDocs:c,authType:u=a.uN.Email})=>{(0,o.Tb)().authHooks.authHookClick({authHookName:e,authHookSlot:t,authHookAction:l,authHookExperience:n,authHookAuthType:u,userTypeExtended:r,lastKnownUserType:s,writingSurface:(0,i.$H)(!!c)})})({...n,userType:r,isGDocs:s}),null==e||e.authHookButtonClick(n.action,n.authType,n.experience,n.name,n.slot,r)}},9237:(e,t,n)=>{function o(){return!1}n.d(t,{c:()=>o})},20851:(e,t,n)=>{n.d(t,{Cr:()=>p,Td:()=>c,eC:()=>l,gO:()=>i,r4:()=>u});var o=n(25693),a=n(78767);function i(e,t){var n,o,a;const i=null===(a=null===(o=null===(n=null==t?void 0:t.citationBuilder)||void 0===n?void 0:n.domains)||void 0===o?void 0:o[e])||void 0===a?void 0:a.disabled;return void 0!==i?!i:void 0}function r(e,t){return d(t).some((t=>new RegExp(t.domain).test(e)))}function s(e){var t,n;return!(null!==(n=null===(t=e.citationBuilder)||void 0===t?void 0:t.disabled)&&void 0!==n&&n)}function l(e,t){return d(t).some((t=>{const n=new RegExp(t.domain),o=new RegExp(t.pathname);return n.test(e.hostname)&&o.test(e.pathname)}))}function c(e,t,n,o){return n?function(e,t,n){const o=i(e,n);return s(t)&&(void 0===o&&r(e,t)||!0===o)}(e,t,o):function(e,t,n){return s(t)&&r(e,t)&&!1!==i(e,n)}(e,t,o)}function u(e,t,n){return s(t)&&(n?!function(e,t){var n,o;return(null!==(o=null===(n=t.citationBuilder)||void 0===n?void 0:n.blockedDomains)&&void 0!==o?o:[]).includes(e)}(e,t):r(e,t))}function d(e){var t,n;return null!==(n=null===(t=e.citationBuilder)||void 0===t?void 0:t.sources)&&void 0!==n?n:[]}(0,a.hz)((()=>{const e=document.location.href;return(0,o.KK)(e)}));(0,a.hz)((e=>{const t=document.location.href;return{url:t,domain:(0,o.KK)(t),isUrlAllowlisted:l(document.location,e)}}));const p=(0,a.hz)((()=>a.iy.create()))},70708:(e,t,n)=>{n.d(t,{R:()=>o});var o,a=n(39565),i=n(90595),r=n(25693),s=n(16381),l=n(20905),c=n(78767),u=n(29483);!function(e){function t(e,t=(0,u.OB)(),n,o){return((0,r.t_)(n,o)?t.experimentClient.isGateEnabled(i.K.ConnectorGdocs):t.experimentClient.isGateEnabled(i.K.ConnectorNonGdocs))&&e.isMac&&(0,s.i7)()}e.shouldEnableFieldIntegration=t,e.shouldShowPermissionPopup=function(e,n=0,o=(0,u.OB)()){return Promise.resolve(n+l.v0<Date.now()&&t(e,o)&&o.bgRpc.api.isPermissionGranted(a.d.nativeMessaging).then(c.X0))}}(o||(o={}))},39565:(e,t,n)=>{var o;n.d(t,{d:()=>o}),function(e){e.nativeMessaging="nativeMessaging",e.clipboardRead="clipboardRead"}(o||(o={}))},64017:(e,t,n)=>{n.d(t,{n:()=>o});const o=e=>({markG2VBarUsed:async t=>{await e.api.markG2VBarUsed(t)},setG2VBarTypeDeactivated:async t=>{await e.api.setVBarTypeDeactivated(t)},setG2VBarTypesActivated:async t=>{await e.api.setVBarTypesActivated(t)},setG2OnboardingAcceptCount:async t=>{await e.api.setG2OnboardingAcceptCount(t)},setG2OnboardingCompletedStep:async t=>{await e.api.setG2OnboardingCompletedStep(t)},setG2OnboardingDismissed:async t=>{await e.api.setG2OnboardingDismissed(t)},setG2OnboardingPulsatingSeen:async t=>{await e.api.setG2OnboardingPulsatingSeen(t)},setG2OnboardingRevertPresentedCount:async t=>{await e.api.setG2OnboardingRevertPresentedCount(t)},recordG2TranslationLanguages:async t=>{await e.api.recordG2TranslationLanguages(t)},markG2TranslateOnboardingAsSeen:async t=>{await e.api.markG2TranslateOnboardingAsSeen(t)},setG2MultilingualOnboardingShowsCount:async t=>{await e.api.setG2MultilingualOnboardingShowsCount(t)}})},15329:(e,t,n)=>{n.d(t,{V:()=>i,X:()=>r});var o=n(90595),a=n(70843);function i(e){return e.isGateEnabled(o.K.GOSRollout)||"test"===e.getTreatment(a.p.GOSRollout)}function r(e){return!!i(e)&&(e.isGateEnabled(o.K.OggyOnGOS)||"test"===e.getTreatment(a.p.OggyOnGOS))}},1182:(e,t,n)=>{n.d(t,{w:()=>d});var o=n(92379),a=n(48405),i=n(55368),r=n(83507),s=n(99402),l=n(9976);function c({node:e}){const t=o.useContext(l.nS.Context);return o.useEffect((()=>{if(t&&!e.isConnected)return t.prepend(e),()=>e.remove()}),[e]),null}const u=a.D;function d({children:e,display:t,dataGdsTheme:n="light"}){const a=o.useMemo((()=>{const e=document.createElement("div");e.style.position="absolute",e.style.zIndex=String(s.op),e.setAttribute("data-gds-theme",n);const t=document.createElement("link");return t.rel="stylesheet",t.type="text/css",t.href=(0,r.n)("designSystem"),e.appendChild(t),e}),[]);return o.createElement(o.Fragment,null,o.createElement(u,{default:a},o.createElement(i.A,{scheme:n,style:t?{display:t}:void 0},o.createElement(r.L,{chunkName:"designSystem"},e))),o.createElement(c,{node:a}))}},42744:(e,t,n)=>{n.d(t,{L:()=>a});var o=n(70843);function a(e){return"test"===e.peekTreatment(o.p.GhostProtocol)}},64434:(e,t,n)=>{n.d(t,{b:()=>o});const o=e=>({hwrSetEnabled:async t=>{await e.api.hwrSetEnabled(t)},hwrStartTracking:async t=>{await e.api.hwrStartTracking(t)},hwrStopTracking:async t=>{await e.api.hwrStopTracking(t)},hwrStartTrackingDomain:async t=>{await e.api.hwrStartTrackingDomain(t)},hwrStopTrackingDomain:async t=>{await e.api.hwrStopTrackingDomain(t)},hwrOptOut:async()=>{await e.api.hwrOptOut()},hwrOptIn:async()=>{await e.api.hwrOptIn()},hwrOptInPopupShown:async()=>{await e.api.hwrOptInPopupShown()},hwrDenyClipboardAccess:async()=>{await e.api.hwrDenyClipboardAccess()},hwrAllowClipboardAccess:async()=>{await e.api.hwrAllowClipboardAccess()}})},18838:(e,t,n)=>{n.d(t,{C0:()=>o});function o(e){return!!e&&("initial"!==e.kind&&"disabled"!==e.kind||"disabled"===e.kind&&e.disabledByUser)}},35614:(e,t,n)=>{n.d(t,{SU:()=>b,gm:()=>v,ol:()=>h});var o=n(90023),a=n(92379),i=n(13391),r=n(50750),s=n(59179),l=n(18519),c=n(66878),u=n(84714),d=n(14969),p=n(58303),g=n(90595),m=n(40594);const h=(e,t)=>!e.anonymous&&!e.premium&&t.isGateEnabled(g.K.InProductDiscountSpecialOffer),b=e=>(0,o.zG)(r.D(e.getSpecialOffer({names:["in_product_discount_pro"]})),s.U((0,o.ls)(p.Uo,p.tS((e=>p.ij(e.in_product_discount_pro))),p.UI((e=>!0===e.eligibility)))),l.V(2e3),c.K((()=>(m.Y.create("inProductDiscount").warn("getSpecialOffer request did not finish within 2000ms"),u.of(p.of(!1))))),d.P()),v=(e,t)=>i.h.combine(e,t,((e,t)=>({...e,hasSpecialOffer:t})));a.createContext({hasSpecialOffer:i.h.create(!1)})},24435:(e,t,n)=>{n.d(t,{Lt:()=>a});var o=n(90595);const a=e=>e.isGateEnabled(o.K.KnowledgeHubGdocs)},85041:(e,t,n)=>{n.d(t,{c:()=>a});var o=n(90595);const a=e=>e.isGateEnabled(o.K.KnowledgeHubGmail)},78819:(e,t,n)=>{n.d(t,{a:()=>r});var o=n(85041),a=n(90595);var i=n(24435);const r=e=>(0,i.Lt)(e)||(0,o.c)(e)||(e=>e.isGateEnabled(a.K.KnowledgeHubSlack)||e.isGateEnabled(a.K.KnowledgeHubWord))(e)},37435:(e,t,n)=>{n.d(t,{m:()=>a,y:()=>o});const o=["client","client_version","device"],a=["user_id","user_type","institution_id"]},19540:(e,t,n)=>{n.d(t,{c:()=>u});var o=n(13391),a=n(84308),i=n(59179),r=n(20161),s=n(36344),l=n(63532),c=n(55388);class u{constructor(e,t){this._lastSubmittedShortcutValue=e,this._isInputFocused=t,this._isActiveHotkeyChange=o.h.create(!1),this.onApplyHotkeyChange=e=>{e.setTouchTypistHotkey({hotkey:this._tmpHotkey.get()}),this._isActiveHotkeyChange.set(!1)},this.onDismissHotkeyChange=()=>{this._tmpHotkey.set(this._lastSubmittedShortcutValue),this._isActiveHotkeyChange.set(!1)},this.onIsActiveHotkeyChange=()=>{this._isActiveHotkeyChange.set(!0)},this._tmpHotkey=o.h.create(this._lastSubmittedShortcutValue)}listenToHotkeyChange(e){return a.a([this._isActiveHotkeyChange,this._isInputFocused]).pipe(i.U((([e,t])=>e&&t)),r.w((t=>t?(0,c.A8)(self,e):s.E)),l.b((({shortcut:e})=>{this._tmpHotkey.set(e)}))).subscribe()}get isActiveHotkeyChange(){return this._isActiveHotkeyChange}get tmpHotkey(){return this._tmpHotkey}}},55388:(e,t,n)=>{n.d(t,{A8:()=>h});var o=n(44071),a=n(13712),i=n(29416),r=n(63532),s=n(97092),l=n(59179),c=n(90572);function u(e){const t=new Set;return e.filter((e=>{const n=e.code.toLowerCase();return!t.has(n)&&(t.add(n),!0)}))}function d(e,t){return"ControlLeft"===e.code||"ControlRight"===e.code?t?"⌃":"Ctrl":"ShiftLeft"===e.code||"ShiftRight"===e.code?"⇧":"AltLeft"===e.code||"AltRight"===e.code?t?"⌥":"Alt":"MetaLeft"===e.code||"MetaRight"===e.code?t?"⌘":"Win":"ArrowUp"===e.code?"↑":"ArrowDown"===e.code?"↓":"ArrowLeft"===e.code?"←":"ArrowRight"===e.code?"→":"Home"===e.code?"Home":"End"===e.code?"End":"PageUp"===e.code?"PageUp":"PageDown"===e.code?"PageDown":"Backspace"===e.code?"Backspace":"Delete"===e.code?"Delete":"Enter"===e.code?"Enter":"Tab"===e.code?"Tab":"Space"===e.code?"Space":e.code.startsWith("F")&&!isNaN(parseInt(e.code.substring(1),10))?e.code:"Escape"===e.code?"ESC":"CapsLock"===e.code?"CapsLock":"NumLock"===e.code?"NumLock":"ScrollLock"===e.code?"ScrollLock":"PrintScreen"===e.code?"PrintScreen":"Pause"===e.code?"Pause":"MediaPlayPause"===e.code?"MediaPlayPause":"VolumeUp"===e.code?"VolumeUp":"VolumeDown"===e.code?"VolumeDown":"AudioVolumeMute"===e.code?"Mute":e.code.startsWith("Digit")?e.code.slice(5):e.code.startsWith("Numpad")?e.code.slice(6):"Equal"===e.code?e.shiftKey?"plus":"=":"Minus"===e.code?"-":"NumpadAdd"===e.code?"plus":"NumpadSubtract"===e.code?"-":"NumpadEqual"===e.code?"=":null}function p(e){return function(t){return{shortcut:t.map((t=>{const n=d(t,e);return n||(t.code.toLowerCase().startsWith("key")?t.code.slice(3):t.code)})).join("")}}}function g(e){e.preventDefault(),e.stopImmediatePropagation()}function m(e){return e.sort(((e,t)=>t.code.length-e.code.length))}function h(e,t){const n=o.R(e,"keydown",{capture:!0}).pipe(a.g("code")),d=o.R(e,"keyup",{capture:!0}).pipe(i.b(50));return n.pipe(r.b(g),s.f(d),l.U(u),c.h((e=>e.length>0)),l.U(m),l.U(p(t)))}},53981:(e,t,n)=>{n.d(t,{h:()=>o});const o=e=>({getConfiguration:async t=>await e.api.getUphookHubConfiguration(t),getConfigurationsFromSlots:async t=>await e.api.getUphookHubConfigurationsFromSlots(t),trackConfiguration:async(t,n,o)=>await e.api.trackUphookHubConfiguration(t,n,o)})},3620:(e,t,n)=>{n.d(t,{o:()=>o});const o=e=>({getSpecialOffer:async t=>await e.api.getSpecialOffer(t)})},62805:(e,t,n)=>{n.d(t,{Qi:()=>s,nE:()=>r});var o=n(90595);const a=e=>e.reduce(((e,t)=>{const n=t.lensType;return e[n]=e[n]?e[n]+1:1,e}),{}),i=e=>{const{experimentClient:t,upgradeHookName:n}=e;if(!t)return!0;const a=t.isGateEnabled(o.K.UphookGnarEvents);var i;return!(!!(i=n)&&("extensionSettings"===i||"plagiarism"===i||"toneDetector"===i))||a},r=(e,t)=>{if(!i(t))return;const{placement:n,bannerType:o,advancedAlerts:r=[],inline:s=!1,numberOfAdvancedAlerts:l,numberOfCriticalAlerts:c,sessionUuid:u,upgradeHookName:d,upgradeHookSlot:p,upgradeHookVariant:g}=t,m=a(r);e.getPremiumButtonShow(n,o,m.clarity,m.correctness,m.delivery,m.engagement,s,(null!=l?l:r.length>0)?r.length:void 0,c,u,d,p,g)},s=(e,t)=>{if(!i(t))return;const{placement:n,bannerType:o,advancedAlerts:r=[],inline:s=!1,numberOfAdvancedAlerts:l,numberOfCriticalAlerts:c,sessionUuid:u,upgradeHookName:d,upgradeHookSlot:p,upgradeHookVariant:g}=t,m=a(r);e.getPremiumButtonClick(n,o,m.clarity,m.correctness,m.delivery,m.engagement,s,(null!=l?l:r.length>0)?r.length:void 0,c,u,d,p,g)}},33851:(e,t,n)=>{n.d(t,{jG:()=>a});var o=n(5612);o.a.CHROME_SHGO_NIGHTLY,o.a.CHROME_SHGO_PROD,o.a.EDGE_SHGO_PROD;const a="grammarlyClassicDisabled"},49629:(e,t,n)=>{n.d(t,{S:()=>o});var o,a=n(84766),i=n(32734),r=n(20905);!function(e){const t=e=>(0,a.F)(e).pipe((0,i.B)());e.sec5=t(r.m9(5)),e.sec2=t(r.m9(2)),e.sec1=t(r.m9(1)),e.hz4=t(r.Xd(4)),e.hz10=t(r.Xd(10)),e.hz30=t(r.Xd(30));const n=new Map;e.create=function(e){const o=n.get(e);if(o)return o;{const o=t(e);return n.set(e,o),o}}}(o||(o={}))},31818:(e,t,n)=>{n.d(t,{RU:()=>i});var o=n(16381),a=n(95404);function i(e){self.open((0,a.jv)(e)?e:(0,o.Um)().standWithUkraine)}},6882:(e,t,n)=>{n.d(t,{h4:()=>i,uT:()=>r});var o=n(92379),a=n(31e3);const i=({sanitizedTitle:e})=>o.createElement("div",{className:a.header},o.createElement("div",{className:a.flag},o.createElement("div",{className:a.flagTop}),o.createElement("div",{className:a.flagBottom})),o.createElement("div",{className:a.title,dangerouslySetInnerHTML:{__html:e}})),r=({sanitizedBody:e})=>o.createElement(o.Fragment,null,e.map((e=>o.createElement("p",{key:e,className:a.paragraph,dangerouslySetInnerHTML:{__html:e}}))))},6188:(e,t,n)=>{n.d(t,{c:()=>o});var o,a=n(72314);!function(e){e.sanitizeSuspendTitle=function(e){return e?(0,a.sanitize)(e):"Grammarly is unavailable in your country"},e.sanitizeSuspendBody=function(e){return e?e.map(a.sanitize):["In response to Russia’s invasion of Ukraine, we have suspended service to accounts in Russia and Belarus."]},e.sanitizeSuspendLearnMoreLabel=function(e){return e?(0,a.sanitize)(e):"Learn more"}}(o||(o={}))},32295:(e,t,n)=>{n.d(t,{StandWithUkraineSuspendFooter:()=>r});var o=n(92379),a=n(1695),i=n(59776);const r=e=>o.createElement(a.z,{className:i.learnMoreButton,onClick:e.onLearnMore},o.createElement("span",{dangerouslySetInnerHTML:{__html:e.sanitizedLearnMoreButtonLabelHTML}}))},99402:(e,t,n)=>{n.d(t,{Eq:()=>r,gk:()=>s,lH:()=>a,op:()=>o,wJ:()=>i});const o=2147483647,a=o-1,i=o-5,r=o-6,s=1350},68271:(e,t,n)=>{n.d(t,{H:()=>o});var o,a=n(63349),i=n(13391);!function(e){const t=i.h.create(""),n=new Proxy({textContent:""},{get:(e,n)=>"textContent"===n?t.get():Reflect.get(e,n),set:(e,n,o)=>"textContent"===n&&"string"==typeof o?(t.set(o),!0):Reflect.set(e,n,o)});e.init=function(){a.ux.setStylesTarget(n)},e.styles=t.view()}(o||(o={}))},9976:(e,t,n)=>{n.d(t,{YS:()=>S,mE:()=>v,nS:()=>o,o6:()=>p});var o,a=n(92379),i=n(32073),r=n(13391),s=n(85837),l=n(28510),c=n(40594),u=n(68271),d=n(15083);!function(e){e.Context=a.createContext(null)}(o||(o={}));const p=16;function g(e,t){e&&e instanceof HTMLElement?e.style.setProperty("--rem",`${t}`):c.Y.create("ShadowRootInjector").warn("setRootCssVar: host is not an HTMLElement. This should not happen. Please report this issue.")}class m{constructor(){this._denaliStyleSheet=new CSSStyleSheet,this._globalStyleSheet=new CSSStyleSheet,this._globalStyleSheetLoaded=r.h.create(null),this._subscription=new i.w0}inject(e,t){const n=this._globalStyleSheetInitialized();n||this._initGlobalStyleSheet();const i=e.attachShadow({mode:"open"});i.adoptedStyleSheets=[this._denaliStyleSheet,this._globalStyleSheet],g(i.host,p);const r=(0,d.X3)(i,a.createElement(o.Context.Provider,{value:i},a.createElement(t,{viewLoaded:this._globalStyleSheetLoaded.view((e=>({...e,constructableStyleSheetInitialized:n})))})));return()=>{r(),this._subscription.unsubscribe()}}_globalStyleSheetInitialized(){return this._globalStyleSheet.cssRules.length>0}async _initGlobalStyleSheet(){try{if(!self.GR_INLINE_STYLES)throw new Error("No inline styles");await Promise.all([this._denaliStyleSheet.replace(u.H.styles.get()),this._globalStyleSheet.replace(self.GR_INLINE_STYLES)]),this._globalStyleSheetLoaded.set({stylesInjectionStrategy:"constructableStyleSheet"}),this._subscription.add(u.H.styles.subscribe((e=>this._denaliStyleSheet.replaceSync(e))))}catch(e){this._globalStyleSheetLoaded.set({error:`${e}`,stylesInjectionStrategy:"constructableStyleSheet"})}}}const h=(0,s.xb)(l.b);class b{inject(e,t){const n=r.h.create(null),i=e.attachShadow({mode:"open"});return g(i.host,p),(0,d.X3)(i,a.createElement(a.Fragment,null,a.createElement(h,null,u.H.styles),a.createElement(l.b,null,self.GR_INLINE_STYLES),a.createElement(o.Context.Provider,{value:i},a.createElement(t,{viewLoaded:n}))),(()=>n.set({stylesInjectionStrategy:"styleElement"})))}}class v{inject(e,t){const n=r.h.create(null),i=e.attachShadow({mode:"open"});return(0,d.X3)(i,a.createElement(a.Fragment,null,a.createElement(o.Context.Provider,{value:i},a.createElement(t,{viewLoaded:n}))),(()=>n.set({stylesInjectionStrategy:"noStyles"})))}}let f=null;function S(e=!1){return e&&function(){if(null===f)try{const e=new CSSStyleSheet;f=!!e&&!!e.replace&&!!e.replaceSync&&"adoptedStyleSheets"in Document.prototype}catch(e){f=!1}return!0===f}()?new m:new b}},15083:(e,t,n)=>{n.d(t,{G7:()=>b,X3:()=>m});var o=n(92379),a=n(95295),i=n(84714),r=n(2613),s=n(14969),l=n(29479),c=n(954),u=n(24666),d=n(59179),p=n(33885);function g(e){return!!e&&!e.error}function m(e,t,n){return(0,a.render)(t,e,n),()=>(0,a.unmountComponentAtNode)(e)}const h=({view:e,placeholder:t,viewLoaded:n,minDuration:a,forcePlaceholder:u})=>{const d=g(n.get())&&!u?(0,i.of)(e):n.pipe((0,r.e)(a),(0,s.P)(g),(0,l.h)(e),(0,c.O)(t));return o.createElement(p.F.Fragment,null,d)};var b;!function(e){e.showWhenLoaded=function(e){return function({viewLoaded:t}){return o.createElement(p.F.Fragment,null,t.pipe((0,u.x)(),(0,d.U)((t=>g(t)?e:null))))}},e.withPlaceholder=function(e,t,n,a){return function({viewLoaded:i}){return o.createElement(h,{view:e,placeholder:t,minDuration:n||0,viewLoaded:i,forcePlaceholder:a||!1})}}}(b||(b={}))},16415:(e,t,n)=>{n.d(t,{q:()=>o});var o,a=n(25693);!function(e){function t(e,t){if(!e||!t)return!0;return!t.includes(e)}function n(e,t){var n;return Boolean((null==t?void 0:t.isDesktopIntegrationEnabled)&&(null===(n=e.llamaIntegration)||void 0===n?void 0:n.enabled))}function o(e,n,o,i){var r,s;const l=i?(0,a.KK)(i):void 0,c=n.isLlamaInstalled&&(null===(r=o.llamaIntegration)||void 0===r?void 0:r.enabled);return t(l,null===(s=o.llamaIntegration)||void 0===s?void 0:s.disabledByDomain)&&(c||"true"===e.showDesktopIntegrationExtensionToggle)}e.isEnabled=n,e.showSettingPopupToggle=o,e.showDisabledByDesktopExtensionGButton=function(e,t,a,i){return o(t,e,a,i)&&n(a,e)},e.isIntegrationEnabled=function(e,o,a){var i;return!(!e||!a)&&(t(o,null===(i=a.llamaIntegration)||void 0===i?void 0:i.disabledByDomain)&&n(a,e))}}(o||(o={}))},98692:(e,t,n)=>{n.d(t,{b:()=>y,f:()=>o});var o,a=n(92379),i=n(50635),r=n(69554),s=n(31702),l=n(12314),c=n(56863),u=n(6266),d=n(62067),p=n(47052),g=n(67505),m=n(74609),h=n(28898),b=n(35248),v=n(95404),f=n(91409);!function(e){e.hide="hideGdocsSigninPopupMessage"}(o||(o={}));const S=e=>e===d.VP.SignUp,y=e=>{const{userType:t,slot:n,authUserDetails:o,bgRpcApi:y}=e,E={source:"authHook",slot:n,name:d.Vi.Default,experience:d.VP.SignUp,lastKnownUserType:(0,u.qf)(o)},w=n=>{var o;const a={...E,action:n,authType:d.uN.Email},i={utmCampaign:"gdocsPopup",utmSource:S(n)?"signupHook":"signinHook"},r=S(n)?(0,v.Xc)(a,i):(0,v.s7)(a,i);m.J.gdocsRegisterPromptButtonClick(n),(0,l.T)(m.J,{authHookDetails:a,userType:t,isGDocs:!0}),(0,b.B)((0,h.O)().experimentClient)?y.launchAuthFlow(S(n),{...(0,c.xW)(a),...(0,v.OC)((0,v.g7)(i))}):e.openSigninPage(r),null===(o=e.onClick)||void 0===o||o.call(e)};return a.useEffect((()=>{(0,l.B)(m.J,{authHookDetails:E,userType:t,isGDocs:!0})}),[]),a.createElement("div",{className:f.wrapper},a.createElement(p.h,{onClose:e.onClose}),a.createElement("div",{className:f.animation}),a.createElement(i.k,{direction:"column",align:"center",paddingBottom:6,gap:4,className:f.content},a.createElement(r.X,{as:"h2",variant:"heading-xsmall",className:f.title},"Welcome to Grammarly for Google Docs!"),a.createElement(s.x,{as:"p",variant:"text-small"},"Sign up to turn on Grammarly suggestions in your Google Docs."),a.createElement(g.R,{onSignUp:()=>{w(d.VP.SignUp)},onSignIn:()=>{w(d.VP.SignIn)}})))}},5546:(e,t,n)=>{n.d(t,{M:()=>a});var o=n(20905);const a=(e,t)=>e.anonymous&&(!t.hideGdocsSigninPopupTime||t.hideGdocsSigninPopupTime+o.g0<Date.now())},86562:(e,t,n)=>{n.d(t,{C:()=>l,U:()=>o});var o,a=n(92379),i=n(21100),r=n(54587),s=n(19659);!function(e){let t;!function(e){e.isAppleSystem="isAppleSystem"}(t=e.SidebarFlag||(e.SidebarFlag={})),e.Flag={...t,...i.a.Flag},e.Context=a.createContext(r.Y.invariantContent("Environment"))}(o||(o={}));class l{constructor(e){this._flags=new Set,this.actions={openUrl:e=>s.vM((()=>{document.location.href=e.toString()})),openPopup:e=>s.vM((()=>{const t=self.open(e.toString(),void 0,"noreferrer");t&&(t.opener=null)}))},e&&this._flags.add(o.Flag.isAppleSystem),this._flags.add(o.Flag.supportsSVGDominantBaseline),this._flags.add(o.Flag.onlyTrustedEvents)}has(e){return this._flags.has(e)}}},63838:(e,t,n)=>{n.d(t,{r:()=>a});var o=n(84674);const a=(e,t)=>{const n=(0,o.gC)(e),a=t.api.getTabId();return{cheetahInitialOnboardingShown:()=>{const t=n().common.cheetah;return a.then((a=>e.patch({extensionSettings:(0,o.k1)(n(),{cheetah:{...t,initialOnboardingShownTabId:a}})})))},cheetahInitialBTSOnboardingShown:()=>{const t=n().common.cheetah;return a.then((a=>e.patch({extensionSettings:(0,o.k1)(n(),{cheetah:{...t,initialBTSOnboardingShownTabId:a}})})))},cheetahReloadStatus:async()=>{await t.api.fetchCheetahStatus()},cheetahSetStatus:async t=>{var a,i,r,s,l,c,u,d,p,g,m,h,b;const v=n().common.cheetah;return e.patch({extensionSettings:(0,o.k1)(n(),{cheetah:{...v,status:{...null==v?void 0:v.status,cheetahEnabled:null===(r=null!==(a=t.cheetahEnabled)&&void 0!==a?a:null===(i=null==v?void 0:v.status)||void 0===i?void 0:i.cheetahEnabled)||void 0===r||r,entryPointsConfig:{inlineRewriteEnabled:null===(d=null!==(l=null===(s=t.settings)||void 0===s?void 0:s.inlineRewriteEnabled)&&void 0!==l?l:null===(u=null===(c=null==v?void 0:v.status)||void 0===c?void 0:c.entryPointsConfig)||void 0===u?void 0:u.inlineRewriteEnabled)||void 0===d||d,inlineQuickReplyEnabled:null===(b=null!==(g=null===(p=t.settings)||void 0===p?void 0:p.inlineQuickReplyEnabled)&&void 0!==g?g:null===(h=null===(m=null==v?void 0:v.status)||void 0===m?void 0:m.entryPointsConfig)||void 0===h?void 0:h.inlineQuickReplyEnabled)||void 0===b||b}}}})})},cheetahToggleInlineRewrite:async e=>{var o,a,i,r,s;const l=n().common.cheetah;await t.api.setCheetahStatus({cheetahEnabled:null===(a=null===(o=null==l?void 0:l.status)||void 0===o?void 0:o.cheetahEnabled)||void 0===a||a,entryPointsConfig:{inlineRewriteEnabled:e,inlineQuickReplyEnabled:null===(s=null===(r=null===(i=null==l?void 0:l.status)||void 0===i?void 0:i.entryPointsConfig)||void 0===r?void 0:r.inlineQuickReplyEnabled)||void 0===s||s}})},cheetahToggleInlineQuickReply:async e=>{var o,a,i,r,s;const l=n().common.cheetah;await t.api.setCheetahStatus({cheetahEnabled:null===(a=null===(o=null==l?void 0:l.status)||void 0===o?void 0:o.cheetahEnabled)||void 0===a||a,entryPointsConfig:{inlineRewriteEnabled:null===(s=null===(r=null===(i=null==l?void 0:l.status)||void 0===i?void 0:i.entryPointsConfig)||void 0===r?void 0:r.inlineRewriteEnabled)||void 0===s||s,inlineQuickReplyEnabled:e}})}}}},7909:(e,t,n)=>{n.d(t,{T:()=>o});const o=e=>{const t=()=>{var t;return null!==(t=e.view("growthSettings").get())&&void 0!==t?t:{}};return{patchGrowthSettings:async n=>{const o=t();return e.patch({growthSettings:{...o,...n}})},setChromeStoreSignup:async n=>{var o;const a=t(),i=null!==(o=a.chromeStoreSignup)&&void 0!==o?o:{};return e.patch({growthSettings:{...a,chromeStoreSignup:{...i,...n}}})}}}},52698:(e,t,n)=>{n.d(t,{W:()=>o});const o=e=>({toggleKnowledgeHub:async t=>{await e.api.setKnowledgeHubSettings({isEnabled:t})}})},32330:(e,t,n)=>{function o(e,t){const n=e.left<t.left?t.left:e.left+e.width>t.left+t.width?t.left+t.width-e.width:e.left,o=e.top<t.top?t.top:e.top+e.height>t.top+t.height?t.top+t.height-e.height:e.top;return{...e,left:n,top:o}}function a(e,t){return n=>{const a=o({left:e.left+n.x,top:e.top+n.y,width:e.width,height:e.height},t);return{x:a.left-e.left,y:a.top-e.top}}}n.d(t,{N:()=>a,m:()=>o})},8536:(e,t,n)=>{n.d(t,{KC:()=>u,Y4:()=>d,sX:()=>p});var o=n(92379),a=n(62552),i=n(24666),r=n(81933),s=n(78953),l=n(85004),c=n(36650);const u={top:-1e4,left:-1e4,flippedHorizontal:!1,flippedVertical:!1,width:0,height:0},d=o.createContext(r.of(u)),p=o.forwardRef((({children:e,anchorRect:t,anchorOrigin:n={vertical:"bottom",horizontal:"left"},elementOrigin:r={vertical:"top",horizontal:"left"},offset:p={horizontal:0,vertical:0},postRepositioningOffset:g,repositioning:m={horizontal:"translate",vertical:"flip"},anchorMargin:h={top:0,left:0,bottom:0,right:0},viewportMargin:b=16,viewportRect:v=(0,c.C7)(),stickToTarget:f=!0,onChangePosition:S},y)=>{const E=o.useRef(null),w=o.useRef(null),k=o.useRef(new a.X(u)),[C,x]=o.useState(k.current.value),T=[v.top,v.left,v.width,v.height,t.top,t.left,t.width,t.height,n.horizontal,n.vertical,r.horizontal,r.vertical,p.horizontal,p.vertical,null==g?void 0:g.horizontal,null==g?void 0:g.vertical,h.top,h.right,h.bottom,h.left,b,f];o.useEffect((()=>{const e=k.current.pipe((0,i.x)(((e,t)=>function(e,t){return Math.floor(e.top)===Math.floor(t.top)&&Math.floor(e.left)===Math.floor(t.left)&&Math.floor(e.width)===Math.floor(t.width)&&Math.floor(e.height)===Math.floor(t.height)}(e,t)))).subscribe((e=>{x(e),null==S||S(e)}));return()=>e.unsubscribe()}),[]);const A=()=>{var e,o;const a=null===(e=E.current)||void 0===e?void 0:e.clientWidth,i=null===(o=E.current)||void 0===o?void 0:o.clientHeight,s=(0,c.C7)();if(a&&i){const e=(0,c.kl)(a,i,s,t,n,r,h,{top:b,bottom:b,left:b,right:b},p,g,m,f);k.current.next({...e,width:a,height:i})}};o.useEffect((()=>{var e;return E&&E.current&&(null===(e=w.current)||void 0===e||e.disconnect(),w.current=l.N.getResizeObserver(A),w.current.observe(E.current)),()=>{var e;return null===(e=w.current)||void 0===e?void 0:e.disconnect()}}),[E.current,...T]),o.useLayoutEffect((()=>{A()}),T);const B={ref:(0,s.l)([y,E,...(0,s.O)(e)?[e.ref]:[]])};return o.createElement(d.Provider,{value:k.current},o.cloneElement("function"==typeof e?e(C):e,B))}));p.displayName="Positioner"},1695:(e,t,n)=>{n.d(t,{z:()=>s});var o=n(92379),a=n(85837),i=n(17382),r=n.n(i);const s=o.forwardRef(((e,t)=>{const{kind:n="primary",size:i="medium",includePadding:s=!0,round:l=!1,dataGrammarlyPart:c="ui-kit-button",className:u,...d}=e;return o.createElement("button",{...(0,a.Sh)(r().button,"primary"===n?r().buttonPrimary:null,"success"===n?r().buttonSuccess:null,"link"===n?r().buttonLink:null,"outlined"===n?r().buttonOutlined:null,"transparent"===n||"transparent-hoverable"===n?r().buttonTransparent:null,"transparent-hoverable"===n?r().buttonTransparentHoverable:null,"dark"===n?r().buttonDark:null,"neutral"===n?r().buttonNeutral:null,"neutral-white"===n?r().buttonNeutralWhite:null,"premium"===n?r().buttonPremium:null,"small"===i?r().buttonSmall:null,"medium"===i?r().buttonMedium:null,s?r().buttonWithPadding:null,l?r().buttonRound:null,d.disabled?r().buttonDisabled:r().buttonEnabled,u),ref:t,"data-grammarly-part":c,...d})}));s.displayName="Button";o.forwardRef((function(e,t){return o.createElement("span",{...e,...(0,a.Sh)(e.className,r().secondaryText),ref:t})}))},27327:(e,t,n)=>{n.d(t,{o:()=>r});var o=n(92379),a=n(85837),i=n(15376);const r=o.forwardRef((function({children:e,className:t,...n},r){return o.createElement("div",{...n,...(0,a.Sh)(i.fontWrapper,t),ref:r},e)}))},4636:(e,t,n)=>{n.d(t,{d:()=>r,p:()=>s});var o=n(92379),a=n(62552);const i=new class{constructor(){this._currentRef=0,this._tooltipsSubject=new a.X(null),this.tooltips=this._tooltipsSubject.asObservable()}show(e){this.hide(this._currentRef);const t=e.showDelay||0;return this._timeoutHandler=setTimeout((()=>{this._tooltipsSubject.next(e)}),t),++this._currentRef}hide(e){e===this._currentRef&&(this.clearTimeout(),this._tooltipsSubject.next(null))}clearTimeout(){null!==this._timeoutHandler&&(clearTimeout(this._timeoutHandler),this._timeoutHandler=null)}},r=o.createContext(i),s=({children:e})=>o.createElement(r.Provider,{value:i},e)},46418:(e,t,n)=>{n.d(t,{G:()=>S});var o=n(92379),a=n(59179),i=n(33885),r=n(99402),s=n(8536),l=n(27327),c=n(4636);const u=({anchor:e,popup:t,color:n="white",size:a=d})=>{const i=function(e,t,n=d){const o=function(e){switch(e){case"left":return"right";case"right":return"left";case"top":return"bottom";case"bottom":return"top";default:return null}}(function(e,t){const n=t.left+t.width<e.left,o=t.left>e.left+e.width,a=t.top+t.height<e.top,i=t.top>e.top+e.height,r=n||o,s=a||i;return n&&!s?"left":o&&!s?"right":a&&!r?"top":i&&!r?"bottom":null}(e,t));if("bottom"===o){const o=Math.round(e.left-t.left+e.width/2-n/2);return p(o,t.width,n)?{top:"100%",left:`${o}px`,side:"bottom"}:null}if("top"===o){const o=Math.round(e.left-t.left+e.width/2-n/2);return p(o,t.width,n)?{bottom:"100%",left:`${o}px`,side:"top"}:null}if("right"===o){const o=Math.round(e.top-t.top+e.height/2-n/2);return p(o,t.height,n)?{top:`${o}px`,left:"100%",side:"right"}:null}if("left"===o){const o=Math.round(e.top-t.top+e.height/2-n/2);return p(o,t.height,n)?{top:`${o}px`,right:"100%",side:"left"}:null}return null}(e,t,a);if(!i)return null;const{side:r,...s}=i;return o.createElement("div",{style:{position:"absolute",borderStyle:"solid",borderColor:"transparent",color:"transparent",background:"transparent",pointerEvents:"none",borderWidth:`${a}px`,...g(r,a,n),...s}})},d=10;function p(e,t,n){return e>n&&e<t-n}function g(e,t,n){const o=-t/2;switch(e){case"top":return{marginLeft:o,borderBottomColor:n};case"bottom":return{marginLeft:o,borderTopColor:n};case"left":return{marginTop:o,borderRightColor:n};case"right":return{marginTop:o,borderLeftColor:n};default:return{}}}var m=n(20785),h=n(53278),b=n(18403),v=n.n(b);const f=({message:e,style:t,anchorRect:n,tooltipRect:a,arrowSize:i,withGrammarlyIcon:r,withCenteredGrammarlyIcon:s})=>o.createElement("div",{className:v().tooltip,style:null!=t?t:{maxWidth:"200px"}},r&&o.createElement(m.T,{type:"mini",className:v().tooltipIcon,arrowColor:h.bd.black,backgroundColor:h.bd.white}),!r&&s&&o.createElement(m.T,{type:"mini",arrowColor:h.bd.black,backgroundColor:h.bd.white}),o.createElement("div",null,e,o.createElement(u,{anchor:n,popup:a,size:i,color:"#333954"}))),S=()=>{const e=o.useContext(c.d);return o.createElement(i.F.Fragment,null,e.tooltips.pipe((0,a.U)((e=>e?o.createElement(s.sX,{...y(e.anchor,e.position,e.offset)},(t=>o.createElement(l.o,{style:{top:t.top,left:t.left,position:"fixed",zIndex:r.lH},"data-grammarly-part":"tooltip-view"},o.createElement(f,{message:e.message,style:e.style,anchorRect:e.anchor,tooltipRect:t,arrowSize:6,withGrammarlyIcon:e.withGrammarlyIcon,withCenteredGrammarlyIcon:e.withCenteredGrammarlyIcon})))):null))))};function y(e,t,n={horizontal:0,vertical:0},o=6){return{anchorRect:e,anchorOrigin:{horizontal:"top"===t||"bottom"===t?"center":t,vertical:"left"===t||"right"===t?"center":t},elementOrigin:{horizontal:"top"===t||"bottom"===t?"center":"left"===t?"right":"left",vertical:"left"===t||"right"===t?"center":"bottom"===t?"top":"bottom"},repositioning:{horizontal:"top"===t||"bottom"===t?"translate":"flip",vertical:"left"===t||"right"===t?"translate":"flip"},anchorMargin:{top:o,bottom:o,left:o,right:o},offset:{horizontal:n.horizontal||0,vertical:n.vertical||0}}}},42496:(e,t,n)=>{n.d(t,{z:()=>s});var o=n(92379),a=n(4026),i=n(96951),r=n.n(i);const s=o.forwardRef((function({onClick:e,variant:t,size:n,width:i,children:s,className:l,...c},u){return o.createElement("button",{onClick:e,className:(0,a.cs)(r().button,r()[`variant-${t||"primary"}`],r()[`size-${n||"medium"}`],r()[`width-${i||"fixed"}`],l),ref:u,...c},s)}));o.forwardRef((function({onClick:e,variant:t,size:n,width:i,children:s,className:l,...c},u){return o.createElement("a",{onClick:e,className:(0,a.cs)(r().button,r().linkButton,r()[`variant-${t||"primary"}`],r()[`size-${n||"medium"}`],r()[`width-${i||"fixed"}`],l),ref:u,tabIndex:0,role:"button",onKeyPress:e=>{if("Enter"===e.key||" "===e.key){e.preventDefault();e.target.click()}},...c},s)}))},33839:(e,t,n)=>{n.d(t,{Y:()=>c});var o=n(92379),a=n(52348),i=n(81224),r=n(85837),s=n(51705),l=n.n(s);const c=({onClick:e,cta:t="Get Pro",dataGrammarlyPart:n="unlock-premium-button",className:s})=>o.createElement(a.z,{variant:"pro",onClick:e,"data-grammarly-part":n,iconStart:i.R,...(0,r.Sh)(l().premiumButton,s),text:t})},28510:(e,t,n)=>{n.d(t,{b:()=>a});var o=n(92379);const a=({children:e})=>{const t="string"==typeof e?e:"";return t?o.createElement("style",{dangerouslySetInnerHTML:{__html:t}}):null}},36650:(e,t,n)=>{n.d(t,{C7:()=>g,kl:()=>s});var o=n(90595),a=n(78767),i=n(29483),r=n(32330);function s(e,t,n,o,a,i,r,s,u,d,p,g){const v={top:n.top+s.top,left:n.left+s.left,width:n.width-s.left-s.right,height:n.height-s.top-s.bottom},f=function(e,t,n,o,a,i,r,s,l){const c=b(e,t,n,o,l,i,r);return[{...c,flippedHorizontal:!1,flippedVertical:!1}].concat((Array.isArray(a)?a:[a]).map((a=>({...b(e,h(t,a),h(n,a),m(o,c.overlap,a,i,r,s),l,i,r),flippedHorizontal:"flip"===a.horizontal,flippedVertical:"flip"===a.vertical}))))}({top:o.top-r.top,left:o.left-r.left,width:o.width+r.left+r.right,height:o.height+r.top+r.bottom},a,i,u,p,e,t,g,v),S=f.reduce(((e,t)=>e.overlap.vertical<=t.overlap.vertical?e:t)),y=f.reduce(((e,t)=>e.overlap.horizontal<=t.overlap.horizontal?e:t)),E=c({top:S.position.top,left:y.position.left,flippedHorizontal:y.flippedHorizontal,flippedVertical:S.flippedVertical},d,n,e,t);return l(E,e,t,v)}const l=(e,t,n,o)=>{const{top:a,left:i}=(0,r.m)({top:e.top,left:e.left,width:t,height:n},o);return{...e,top:a,left:i}},c=(e,t,n,o,a)=>{if(void 0===t)return e;const i=m(t,u(d({top:e.top+t.vertical,left:e.left+t.horizontal,width:o,height:a},n)),{horizontal:"translate",vertical:"translate"},o,a,!1);return{...e,top:e.top+i.vertical,left:e.left+i.horizontal}};function u(e){const t=Math.abs(Math.min(e.left,0)),n=Math.abs(Math.min(e.right,0)),o=Math.abs(Math.min(e.top,0)),a=Math.abs(Math.min(e.bottom,0));return{horizontal:t+n,vertical:o+a,top:o,bottom:a,left:t,right:n}}function d(e,t){return{top:e.top-t.top,bottom:t.top+t.height-(e.top+e.height),left:e.left-t.left,right:t.left+t.width-(e.left+e.width)}}const p=(0,a.Vo)((()=>(0,i.OB)().experimentClient.isGateEnabled(o.K.UseBodyToGetViewportDimentions)));function g(e=document){return{top:0,left:0,height:!e.doctype&&p.get()?e.body.clientHeight:e.documentElement.clientHeight,width:e.documentElement.clientWidth}}function m(e,t,n,o,a,i){const r=t.left&&t.right?0:0!==t.left?Math.min(t.left,i?o:1/0):-Math.min(t.right,i?o:1/0),s=t.top&&t.bottom?0:0!==t.top?Math.min(t.top,i?a:1/0):-Math.min(t.bottom,i?a:1/0);return{horizontal:"translate"===n.horizontal?e.horizontal+r:-e.horizontal,vertical:"translate"===n.vertical?e.vertical+s:-e.vertical}}function h(e,t){return{vertical:"translate"===t.vertical?e.vertical:"top"===e.vertical?"bottom":"top",horizontal:"translate"===t.horizontal?e.horizontal:"left"===e.horizontal?"right":"left"}}function b(e,t,n,o,a,i,r){const{top:s,left:l}=function(e,t,n,o,a){return{top:e.top+a.vertical+("bottom"===n.vertical?e.height:"center"===n.vertical?e.height/2:0)-("bottom"===o.vertical?t.height:"center"===o.vertical?t.height/2:0),left:e.left+a.horizontal+("right"===n.horizontal?e.width:"center"===n.horizontal?e.width/2:0)-("right"===o.horizontal?t.width:"center"===o.horizontal?t.width/2:0)}}(e,{width:i,height:r},t,n,o);return{position:{top:s,left:l},overlap:u(d({top:s,left:l,width:i,height:r},a))}}},78953:(e,t,n)=>{function o(e,t){return n=>{e.forEach((e=>{"function"==typeof e?e(n):e&&(e.current=n),null==t||t(n)}))}}function a(e){return"ref"in e&&(null===e.ref||"function"==typeof e.ref||"object"==typeof e.ref&&"current"in e.ref)}n.d(t,{O:()=>a,l:()=>o})},45523:(e,t,n)=>{n.d(t,{x:()=>o});var o,a=n(69996),i=n(8867),r=n(32734),s=n(37108),l=n(8065),c=n(59179);!function(e){function t(e,t){return n(e,t).pipe((0,r.B)(),(0,s.Q)(a.E))}function n(e,t){return new i.y((n=>{const o=new MutationObserver((e=>n.next(e)));return o.observe(e,t),()=>o.disconnect()}))}e.create=t,e.createUnsafe=n,e.createFlattenHot=function(e,t){return n(e,t).pipe((0,l.b)((e=>e)),(0,r.B)())},e.observeAttribute=function(e,n){return t(e,{attributes:!0,attributeFilter:[n],subtree:!1,childList:!1}).pipe((0,c.U)((t=>e.getAttribute(n))))},e.observeStyle=function(e){return t(e,{attributes:!0,attributeFilter:["style"],subtree:!1,childList:!1}).pipe((0,c.U)((t=>e.style)))},e.observeChildList=function(e){return t(e,{attributes:!1,subtree:!1,childList:!0}).pipe((0,c.U)((t=>e.childNodes)))}}(o||(o={}))},85004:(e,t,n)=>{n.d(t,{N:()=>o});var o,a=n(69996),i=n(8867),r=n(32734),s=n(37108),l=n(17705),c=n(954),u=n(49629),d=n(45523);!function(e){function t(e){return function(e){return new i.y((t=>{const o=n((()=>t.next(void 0)));return e.forEach((e=>o.observe(e))),()=>o.disconnect()}))}(e).pipe((0,r.B)(),(0,s.Q)(a.E))}function n(e){return new o(e)}e.observeSizeChanges=function(e){return t(e)},e.getResizeObserver=n;class o{constructor(e){this._af=null,this._callbackWasInvoked=!1;const t=()=>{this._callbackWasInvoked?(null!==this._af&&cancelAnimationFrame(this._af),this._af=requestAnimationFrame((()=>{e()}))):(e(),this._callbackWasInvoked=!0)};try{this._resizeObserver=new ResizeObserver(t)}catch(e){this._resizeObserver=new p(t)}}observe(e){this._clearAnimationFrame(),this._resizeObserver.observe(e)}unobserve(e){this._resizeObserver.unobserve(e),this._clearAnimationFrame()}disconnect(){this._resizeObserver.disconnect(),this._clearAnimationFrame()}_clearAnimationFrame(){this._af&&(cancelAnimationFrame(this._af),this._af=null),this._callbackWasInvoked=!1}}class p{constructor(e){this._callback=e,this._sub=null}observe(e){this._sub=d.x.create(e,{attributes:!0,childList:!0,subtree:!0}).pipe((0,l.T)(u.S.hz4),(0,c.O)(null)).subscribe((()=>{this._callback()}))}unobserve(){this._sub&&(this._sub.unsubscribe(),this._sub=null)}disconnect(){this.unobserve()}}}(o||(o={}))},4517:(e,t,n)=>{n.d(t,{m:()=>c});var o=n(15380),a=n(44675),i=n(20905),r=n(56623),s=n(67960),l=n(29483);const c=()=>[new r.r("bg",(()=>(0,l.OB)().bgRpc.api.getBGLogs()),r.r.getLogsFromSessionStorageFallbackGetter(s.v.bgHistoryLogs)),new r.r("popup",(()=>Promise.resolve((0,l.OB)().historyLogsService.getLogs())),r.r.getLogsFromSessionStorageFallbackGetter(s.v.popupHistoryLogs)),new r.r("cs",(async()=>{const e=[],t=t=>{e.push(...t.option.logs.map((e=>({...e,loggerName:`${t.option.isIframeIntegration?`iframe.[${t.caller.frameId}].`:""}${e.loggerName}`}))))};return(0,l.OB)().message.on(o.I.Kind.sendCsLogs,t),(0,l.OB)().bgRpc.api.sendToFocusTab({kind:o.B.Kind.sendCsLogsToPopup}),await(0,a.gw)(i.E0),e.length||await(0,a.gw)(i.E0),(0,l.OB)().message.off(o.I.Kind.sendCsLogs,t),e.length?e:void 0}),r.r.getLogsFromSessionStorageFallbackGetter(s.v.csHistoryLogs)),new r.r("sidePanel",(async()=>{const e=await(0,l.OB)().browserApi.sessionStorage.get("isSidePanelOpen");if(!(null==e?void 0:e.isSidePanelOpen))return;const t=[],n=e=>{t.push(...e.logs)};(0,l.OB)().message.on(o.I.Kind.sendSidePanelLogsToPopup,n);return(0,l.OB)().browserApi.message.sendRuntimeMessage({kind:o.I.Kind.requestSidePanelLogsFromPopup}),await(0,a.gw)(i.E0),(0,l.OB)().message.off(o.I.Kind.sendSidePanelLogsToPopup,n),t.length?t:void 0}),r.r.getLogsFromSessionStorageFallbackGetter(s.v.sidePanelHistoryLogs))]},86090:(e,t,n)=>{n.d(t,{N:()=>r});var o=n(92379),a=n(4026),i=n(78703);class r extends o.Component{render(){const{institutionName:e,ssoId:t}=this.props,n="GrammarlyEnrollmentToken: "+t;return o.createElement("div",{className:(0,a.cs)(i.edc_stripe)},"Managed by ",o.createElement("b",{title:n},e))}}},51109:(e,t,n)=>{n.d(t,{Xb:()=>yn,MA:()=>wn,OB:()=>En});var o=n(21100),a=n(1963),i=n(97484),r=n(53639);let s;function l(){return void 0===s&&(s=!!document.querySelector(".popup"),self.IS_POPUP=s),s}var c=n(84308),u=n(14969),d=n(18519),p=n(64017),g=n(64434),m=n(3620),h=n(4026),b=n(16381),v=n(39963),f=n(38364),S=n(40594),y=n(63838),E=n(7909),w=n(52698),k=n(92379),C=n(16254),x=n(50635),T=n(31702);var A=n(90023),B=n(95295),D=n(67249),I=n(55368),O=n(33885),R=n(54647),P=n(954),G=n(59179),_=n(58303),L=n(90595),U=n(56863),M=n(6266),H=n(62067),N=n(20851),F=n(42744),z=n(18838),K=n(35614),V=n(78819),W=n(78519),j=n(46599),J=n(28240),q=n(83507),$=n(31818);const X=/^http(s?)\:\/\/docs\.google\.com\/document/;var Y=n(98692),Q=n(5546),Z=n(27327),ee=n(4636),te=n(46418),ne=n(86090),oe=n(85156),ae=n(90572),ie=n(83542),re=n(13391),se=n(12518),le=n(74609),ce=n(66886);const ue=()=>k.createElement("div",{className:ce.footer},k.createElement("div",{className:ce.footer_btn_container_ghost},k.createElement("div",{onClick:de,className:ce.footer_btn},k.createElement("div",{className:ce.footer_icon_home},k.createElement(pe,null)),"My Grammarly"))),de=()=>{le.J.myGrammarlyButtonClick("settingsToolbar"),jt((0,b.Um)().allSettings)},pe=()=>k.createElement("svg",{width:"28",height:"28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},k.createElement("path",{d:"M6.563 21.438v-9.625L14 5.686l7.438 6.125v9.626m-9.625 0v-4.813c0-1.208.979-2.188 2.187-2.188v0c1.208 0 2.188.98 2.188 2.188v4.813",strokeWidth:".875",strokeLinecap:"round",strokeLinejoin:"round"}));var ge=n(62162);const me=({siteSwitcherProps:e})=>k.createElement(q.L,{chunkName:"designSystem"},k.createElement(x.k,{className:ce.ghostContainer,direction:"column",justify:"center",align:"start"},k.createElement("br",null),k.createElement("div",{className:ce.ghostImage}),k.createElement("br",null),k.createElement(T.x,{as:"p",weight:"bold",variant:"text-medium"},"Some features temporarily paused"),k.createElement("br",null),k.createElement(T.x,{as:"p",variant:"text-medium"},"Your organization is currently studying the effectiveness of Grammarly’s writing suggestions."),k.createElement("br",null),k.createElement(T.x,{as:"p",variant:"text-medium"},"Some features are temporarily turned off until the study concludes."),k.createElement("br",null),k.createElement("div",{className:ce.ghostSwitcher},k.createElement(ge.w,{...e}))));var he,be=n(15380),ve=n(13736),fe=n(4517);!function(e){e.download=function(){(0,b.G6)()&&(0,b.CO)()?En().bgRpc.api.sendToFocusTab({kind:be.B.Kind.downloadDebugReportsFromCS}):ve.E.download((0,fe.m)())},e.initKeyboardShortcutHandler=function(){return ve.E.initKeyboardShortcutHandler((0,fe.m)())}}(he||(he={}));var Se=n(15484),ye=n(36279),Ee=n(82065),we=n(4531),ke=n(67505),Ce=n(95404),xe=n(63349),Te=n(61483),Ae=n(8842),Be=n(98555);const De={borderTopWidth:1,borderTopStyle:"solid",borderTopColor:Te.I.Border.Base.Subdued,flexShrink:0,width:xe.ux.px(Be.lY)},Ie={height:xe.ux.px(56),display:"flex",justifyContent:"space-between",paddingLeft:xe.ux.px(Be.M8),paddingRight:xe.ux.px(Be.M8)},Oe={height:xe.ux.px(28)},Re={borderTopWidth:1,borderTopStyle:"solid",borderTopColor:Te.I.Border.Base.Subdued,height:xe.ux.px(216),backgroundImage:"url('popup/swoosh-signin.png')",paddingTop:xe.ux.rem(Ae.mh),paddingBottom:xe.ux.rem(Ae.sD),paddingLeft:xe.ux.rem(Ae.Ze),paddingRight:xe.ux.rem(Ae.Ze),backgroundPosition:"bottom right",backgroundRepeat:"no-repeat"},Pe=xe.ux.stylesheet({footer:[De],footer_btn_container:[Ie],footer_icon_home:[Oe],signUpFooter:[Re]}),Ge=e=>{const t={source:"authHook",slot:H.G0.Toolbar,name:H.Vi.SettingsFooter,lastKnownUserType:(0,M.qf)(e.authUserDetails),experience:H.VP.SignIn};return k.createElement(ie.x,{className:Pe.signUpFooter},k.createElement(T.x,{as:"p",weight:"bold",color:"base-default"},"Sign in to get key Grammarly features"),k.createElement(T.x,{as:"p",weight:"bold",color:"base-default"},"Access Grammarly's full functionality, including an easy-to-use editing experience and personalized dictionary."),k.createElement(ke.f,{handleClick:e=>{const n=e===H.VP.SignUp?(0,Ce.Xc)({...t,action:H.VP.SignUp},{utmCampaign:"toolbarMenu",utmSource:"signupHook"}):(0,Ce.s7)({...t,action:H.VP.SignIn},{utmCampaign:"toolbarMenu",utmSource:"signinHook"});self.open(n),le.J.gdocsRegisterPromptButtonClick(e)}}))},_e=({openWebEditor:e,isDocsDisabled:t,summary:n,newDocUrl:o,appUrl:a})=>k.createElement(ie.x,{className:Pe.footer},n,k.createElement(x.k,{className:Pe.footer_btn_container},!t&&k.createElement(x.k,{align:"center"},k.createElement(Se.r,{onClick:t=>{t.preventDefault(),le.J.newDocumentButtonClick("settingsToolbar"),e(!0)},href:o,display:"block",underline:"hover",variant:"secondary",target:"_blank"},k.createElement(x.k,{align:"center",gap:1},k.createElement(ye.J,{size:"small",variant:"inherit",icon:Ee.x,accessibilityLabel:""}),k.createElement(T.x,{as:"span",variant:"text-small",color:"base-subdued"},"New Document")))),k.createElement(x.k,{align:"center"},k.createElement(Se.r,{onClick:t=>{t.preventDefault(),le.J.myGrammarlyButtonClick("settingsToolbar"),e()},href:a,display:"block",underline:"hover",variant:"secondary",target:"_blank"},k.createElement(x.k,{align:"center",gap:1},k.createElement(ye.J,{className:Pe.footer_icon_home,icon:we.p,size:"small",variant:"inherit",accessibilityLabel:""}),k.createElement(T.x,{as:"span",variant:"text-small",color:"base-subdued"},"My Grammarly"))))));var Le=n(47695);const Ue=()=>k.createElement("div",{className:Le["footer-ios"]},"Grammarly for Safari helps with spelling, grammar, and punctuation. To get advanced suggestions, use the Grammarly Keyboard.");var Me=n(20785),He=n(24825);const Ne=e=>{var t;return k.createElement("div",{className:He["header-ios"]},k.createElement(Me.T,{size:32,type:"full"}),k.createElement("a",{className:He.link,href:null!==(t=e.deeplink)&&void 0!==t?t:(0,b.Um)().iOSApp,onClick:()=>{le.J.openAppButtonClick("settingsPopup")}},"Open App"))};var Fe=n(1695),ze=n(86723);const Ke=({actions:e,domain:t})=>k.createElement("div",{className:ze.wrapper},k.createElement("div",{className:ze.heading},"Enable Grammarly on ",k.createElement("span",{className:ze.domain},t),"?"),k.createElement("div",{className:ze.description},"Grammarly needs access to the text you ",k.createElement("br",null),"write in order to provide suggestions."),k.createElement(Fe.z,{kind:"success",onClick:()=>{e.enableOnceClickToRun(),le.J.clickToRunOptionButtonClick("allow_once")}},"Allow once"),k.createElement(Fe.z,{kind:"success",onClick:()=>{e.toggleSite(!0,t,!0),le.J.clickToRunOptionButtonClick("allow_on_website")}},"Always allow on this website"),k.createElement(Fe.z,{kind:"success",onClick:()=>{e.enableClickToRunOnAllSites(),le.J.clickToRunOptionButtonClick("allow_on_all_websites")}},"Always allow on every website"));var Ve=n(92854),We=n(69003),je=n(27106),Je=n(24664);function qe({brandingSet:e,...t}){if(void 0===e)return null;if("BUSINESS"===e)return k.createElement(je.V,{label:"Business",variant:"business",...t});if("PREMIUM"===e)return k.createElement(je.V,{label:"Premium",variant:"premium",...t});let n;switch(e){case"ENTERPRISE":n="enterprise";break;case"EDU":n="edu";break;case"PRO":n="pro";break;case"FREE":n="free"}return k.createElement(Je.O,{variant:n,...t})}var $e=n(72032);const Xe=e=>{var t;return k.createElement(x.k,{className:xe.ux.joinClasses([Ze.container,!e.hideDelimiter&&Ze.withDelimiter]),justify:"space-between",align:"center",padding:4,paddingLeft:6,paddingRight:6},k.createElement("a",{target:"_blank",rel:"noreferrer",href:null!==(t=e.appUrl)&&void 0!==t?t:(0,b.Um)().app,"aria-label":"Grammarly homepage (opens in a new tab)",style:{outlineColor:"var(--color-border-brand-default)",outlineOffset:4,outlineWidth:2,height:21}},k.createElement(We.T,{composition:"lockup",accessibilityLabel:"",brand:(0,$e.T)("go"),height:21})),k.createElement(qe,{brandingSet:e.brandingSet,size:"xsmall"}))},Ye={width:Be.lY,boxSizing:"border-box"},Qe={borderBottomWidth:1,borderBottomStyle:"solid",borderBottomColor:Te.I.Border.Base.Subdued},Ze=xe.ux.stylesheet({container:[Ye],withDelimiter:[Qe]});var et=n(58526);class tt{static isEnabled(){return!1}}var nt=n(19724),ot=n(91957),at=n(4972),it=n(78703);class rt extends k.Component{get _authUserDetails(){return(0,M.no)(this.props.state.settings)}constructor(e){super(e),this._logger=S.Y.create("SettingsComponent"),this.uphookConfiguration=re.h.create(_.YP),this.state={hasSpecialOffer:_.YP,isLoadingSpecialOffer:!1,uphookConfigIsReady:!1},this._toggleSiteWrap=(e,t,n)=>{const{actions:o,reloadTab:a,gdocsIsActiveTab:i}=this.props;o.toggleSite({enabled:e,domain:t,clickToRunEnabled:n}),i&&a()},this._setKeyboardShortcutWrap=(e,t)=>{this.props.actions.setKeyboardShortcut({[e]:t})}}componentDidMount(){nt.n.isFree(this.props.state.user)&&this.props.actions.getConfiguration("browserToolbar").then(se.Pd((e=>this._logger.warn("Failed to fetch uphook configuration",e)),(e=>{var t,n;this.uphookConfiguration.set(_.G(e)),this.setState({uphookConfigIsReady:!0});"Get Pro"!==(null!==(n=null===(t=null==e?void 0:e.content)||void 0===t?void 0:t.ctaCopy)&&void 0!==n?n:"")&&this._logger.warn("UphookHub configuration does not match the expected")}))),this.props.canRequestInProductDiscountSpecialOffer()&&(this.setState({isLoadingSpecialOffer:!0}),(0,A.zG)((0,K.SU)(this.props.actions),(0,oe.x)((()=>{this.setState({isLoadingSpecialOffer:!1})}))).subscribe((e=>{this.setState({hasSpecialOffer:e,isLoadingSpecialOffer:!1})})))}get siteCategory(){return this.props.gdocsIsActiveTab?at.y.gdocs:at.y.other}get siteSwitcherProps(){var e,t;const{state:n}=this.props,o={checked:!!this.props.state.settings.enabled,update:e=>{this._toggleSiteWrap(e,n.config.domain),le.J.checkingToggleClick("toolbar",this.siteCategory,e?"on":"off",n.config.domain),(0,v.Tb)().toggleExtension(e,"toolbar",(0,ot.Cg)(n.config.domain))}};return{domain:n.config.domain,enabledInConfig:null!==(e=n.config.enabled)&&void 0!==e&&e,siteCategory:this.siteCategory,siteSwitcherChecked:o,favicon:null===(t=this.props.state.activeTab)||void 0===t?void 0:t.favIconUrl}}get summary(){const{state:e,openSubscriptionDialog:t}=this.props;return!this.state.isLoadingSpecialOffer&&this.state.uphookConfigIsReady&&k.createElement(et.Z,{user:e.user,openSubscriptionDialog:t,isAssistant:!1,hasInProductDiscountSpecialOffer:this.state.hasSpecialOffer,uphookConfiguration:this.uphookConfiguration,trackUphookHubEvent:(e,t)=>{t.pipe((0,ae.h)(_.pC),(0,u.P)()).subscribe((t=>{this.props.actions.trackConfiguration(e,t.value)}))},experimentClient:this.props.experimentClient})}get footer(){const{state:e,openWebEditor:t}=this.props;return this.props.isGhostProtocolEnabled?k.createElement(ue,null):this.props.isSafariIOS?k.createElement(Ue,null):e.user.anonymous?k.createElement(Ge,{authUserDetails:this._authUserDetails}):k.createElement(_e,{openWebEditor:t,isDocsDisabled:nt.n.isDocsDisabled(e.user),summary:this.summary,newDocUrl:this.props.newDocUrl,appUrl:this.props.appUrl})}get settingsContent(){const{state:e,actions:t,openReportBugForm:n,openDebugPage:o,citationBuilderSessionId:a,isCitationBuilderManualInvocationEnabled:i,isKnowledgeHubSupported:r,isTouchTypistSupported:s,isIndianEnglishDialectSupported:l,isCheetahSupported:c,showSerengetiFeatureToggle:u,isReportBugFeatureAllowed:d,isGhostProtocolEnabled:p,isAutoApplySupported:g,isHumanWritingReportSupported:m}=this.props;return p?k.createElement(me,{siteSwitcherProps:this.siteSwitcherProps}):[k.createElement(Ve.a7,{key:"content",className:it.settingsContent,actions:{...t,toggleSite:this._toggleSiteWrap,setKeyboardShortcut:this._setKeyboardShortcutWrap},activeTab:e.activeTab,config:e.config,settings:e.settings,sessionTimeoutValue:e.sessionTimeoutValue,user:e.user,dapi:e.dapi,dynamicConfig:e.dynamicConfig,siteCategory:this.siteCategory,isReportBugFeatureAllowed:d,openReportBugForm:n,openDebugPage:o,openUrl:this.props.openUrl,placement:"popup",enableRenderingHack:!0,citationBuilderSessionId:a,isCitationBuilderManualInvocationEnabled:i,isKnowledgeHubSupported:r,isTouchTypistSupported:s,isIndianEnglishDialectSupported:l,isCheetahSupported:c,showSerengetiFeatureToggle:u,isAutoApplySupported:g,downloadDebugReports:()=>he.download(),isHumanWritingReportSupported:m,bgRpc:this.props.bgRpc})]}get dataGrammarlyPartByUser(){var e;const{passport:t}=this.props.state,n=null===(e=t.entitlements)||void 0===e?void 0:e.brandingSet;return null!=n?n:"FREE"}render(){var e;const{state:t,actions:n,isSafariIOS:o}=this.props;if(tt.isEnabled()&&!t.settings.enabledClickToRun)return k.createElement(Ke,{actions:{...n,toggleSite:this._toggleSiteWrap},domain:t.config.domain});{const n=(0,h.cs)(it.gr_popup_settings,{[it.iOS]:o,[it.not_supported]:!t.config.enabled,[it.has_favicon]:t.activeTab&&!!t.activeTab.favIconUrl});return k.createElement(x.k,{className:n,"data-grammarly-part":this.dataGrammarlyPartByUser},k.createElement(ie.x,{className:it.content},o?k.createElement(Ne,null):k.createElement(Xe,{brandingSet:null===(e=this.props.state.passport.entitlements)||void 0===e?void 0:e.brandingSet}),k.createElement(ie.x,{"data-grammarly-part":"settings-popup-content",className:(0,h.cs)(it.settingsContentWrapper,o?it.withBackground:void 0)},this.settingsContent),this.footer))}}}var st=n(52348),lt=n(1087),ct=n(15e3),ut=n(12314),dt=n(72526),pt=n(47052),gt=n(98539);const mt=({onSignIn:e,onSignUp:t,hideSupplementaryLink:n})=>k.createElement(x.k,{direction:"column",gap:2},k.createElement(st.z,{onClick:t,width:"full","data-fire":"login-attempt, settings_toolbar_sign_up","data-test-attr":"signUpLink"},"Sign up"),!n&&k.createElement(x.k,{align:"center",justify:"center",gap:1},k.createElement(T.x,{as:"span",variant:"text-xsmall",color:"base-subdued"},"Already have an account?"),k.createElement(st.z,{onClick:e,variant:"ghost",size:"small","data-fire":"login-attempt, settings_toolbar_sign_in","data-test-attr":"signInLink"},"Sign in"))),ht=({onSignIn:e,onSignUp:t,hideSupplementaryLink:n})=>k.createElement(x.k,{direction:"column",gap:2},k.createElement(st.z,{onClick:e,width:"full","data-fire":"login-attempt, settings_toolbar_sign_in","data-test-attr":"signInLink"},"Sign in"),!n&&k.createElement(x.k,{align:"center",justify:"center",gap:1},k.createElement(T.x,{as:"span",variant:"text-xsmall",color:"base-subdued"},"Don't have an account?"),k.createElement(st.z,{onClick:t,variant:"ghost",size:"small","data-fire":"login-attempt, settings_toolbar_sign_up","data-test-attr":"signUpLink"},"Sign up"))),bt=({onRequestPermissions:e,requestingPermissions:t})=>k.createElement(k.Fragment,null,k.createElement(st.z,{onClick:e,"data-fire":"login-attempt, settings_toolbar_sign_in","data-test-attr":"signInLink",width:"full"},k.createElement("b",null,"Allow")," and continue to sign in"),k.createElement(T.x,{as:"p",variant:"text-xsmall",color:"base-subdued",marginTop:-1},t?"We are requesting your browser to grant permission.":"Next, your browser will ask you to grant permission.")),vt=({dynamicConfig:e,userType:t,...n})=>{const o={source:"authHook",slot:H.G0.Toolbar,name:H.Vi.Default,experience:n.authUserDetails.wasAuthenticatedUser||n.isBusiness?H.VP.SignIn:H.VP.SignUp,lastKnownUserType:(0,M.qf)(n.authUserDetails)},{onSignIn:a,onSignUp:i,...r}=(0,dt.yw)({dynamicConfig:e}),s=e=>{(0,ut.T)(n.gnar,{authHookDetails:{...o,action:e,authType:H.uN.Email},userType:t})};return k.useEffect((()=>{(0,ut.B)(n.gnar,{authHookDetails:o,userType:t})}),[]),k.createElement(St,{...n,...r,onSignIn:()=>{const e=H.VP.SignIn;s(e),a({...o,action:e})},onSignUp:()=>{const e=H.VP.SignUp;s(e),i({...o,action:e})}})},ft=({children:e})=>k.createElement("li",null,k.createElement(ye.J,{icon:lt.L,size:"small",variant:"brand",accessibilityLabel:""}),k.createElement(T.x,{as:"span",variant:"text-small"},e)),St=e=>{const{authUserDetails:t,onSignIn:n,onSignUp:o,needPermissions:a,requestingPermissions:i,onRequestPermissions:r,isSafariIOS:s,isBusiness:l,gnar:c}=e,u=a?null:k.createElement(ie.x,{bgColor:"background-brand-subdued",borderRadius:1,padding:2,className:gt.banner},k.createElement(ye.J,{icon:ct.m,accessibilityLabel:"",size:"large",variant:"brand",style:{minWidth:24}}),k.createElement(T.x,{as:"p",variant:"text-small",color:"brand-default"},l?"You're signed out of Grammarly Business.":"Grammarly is active, but key features are missing."));let d=k.createElement("div",{className:gt.descr},k.createElement(T.x,{as:"p",weight:"semibold"},"Sign up now to unlock the following:"),k.createElement("ul",null,k.createElement(ft,null,"Personal dictionary"),k.createElement(ft,null,"Save and access your documents"),k.createElement(ft,null,"Get weekly writing statistics and tips")));a?d=k.createElement(k.Fragment,null,k.createElement(T.x,{as:"p",weight:"semibold"},(0,b.G2)()," requires your permission to let Grammarly sign you in"),k.createElement(T.x,{as:"p",variant:"text-small"},"Please follow your browser's prompts to allow Grammarly to read grammarly.com site data.")):l&&(d=k.createElement("div",{className:gt.gb_descr},k.createElement(T.x,{as:"p",weight:"semibold"},"Sign in to access:"),k.createElement("ul",null,k.createElement(ft,null,"Writing suggestions"),k.createElement(ft,null,"Style Guide"),k.createElement(ft,null,"Brand Tones"),k.createElement(ft,null,"Snippets"))));let p=k.createElement(mt,{onSignIn:n,onSignUp:o});a?p=k.createElement(bt,{requestingPermissions:i,onRequestPermissions:r}):l?p=k.createElement(ht,{onSignIn:()=>{c.businessToolBarSigninButtonClick("toolbar"),n()},onSignUp:o,hideSupplementaryLink:!0}):t.wasAuthenticatedUser&&(p=k.createElement(ht,{onSignIn:n,onSignUp:o}));const g=(0,h.cs)(a?gt.permission:gt.signin,{[gt.iOS]:s});return k.createElement("div",{className:g},k.createElement(pt.h,{hideDelimiter:!0,isBusiness:l}),k.createElement(x.k,{direction:"column",padding:8,paddingTop:1,paddingBottom:4,className:gt.content,gap:4},u,d,p))};var yt=n(62531),Et=n(25693),wt=n(20905);Et.G1,Et.bL;function kt(e){return{title:`Use Grammarly in ${e}`,get message(){return`To check your writing on this page in ${e}, you'll need to get the <a class="openGrammarly" href="${(0,b.Um)().desktop}" target="_blank" rel="noopener noreferrer">Grammarly desktop app</a>.`}}}const Ct={"drive.google.com":{title:"Up and running in Google Docs",get message(){return"Start writing in a document and you’ll see suggestions appear."},get icon(){return"ok"}},"docs.google.com":{title:"Grammarly Isn't Available for this Google Product",get message(){return`We hope to support this Google product<br/> in the future, but for now please use your</br> <a class="openGrammarly" href="${(0,b.Um)().app}" target="_blank" rel="noopener noreferrer">Grammarly Editor</a>.`}},"chrome.google.com":{title:"Web Store Not Supported"}};function xt(e,t){return"docs.google.com"===e&&t.includes("/spreadsheets")?kt("Google Sheets"):e.includes("greenhouse.io")&&t.includes("/people")?kt("Greenhouse"):Ct[e]}const Tt=(0,wt.LK)(10),At=((0,wt.LK)(5),Tt);(0,wt.LK)(10),(0,wt.LK)(60),(0,wt.i4)(3),(0,wt.an)(12),(0,wt.an)(1),(0,wt.an)(365);var Bt=n(72314),Dt=n(98811);const It=(e="")=>(0,h.cs)(Dt.line,Dt.unsupported_item,e),Ot=({domain:e,customTitle:t,customMessage:n,customIcon:o})=>{const a=t?k.createElement("span",{dangerouslySetInnerHTML:{__html:(0,Bt.sanitize)(t,{ADD_ATTR:["target","rel"]})}}):k.createElement(T.x,{as:"p"},k.createElement(T.x,{as:"strong",className:Dt.domain},e)," ","is not supported"),i=n?(0,Bt.sanitize)(n,{ADD_ATTR:["target","rel"]}):`For technical reasons, we currently do not check your text on this website. Please use your <a class="openGrammarly" href="${(0,b.Um)().app}" target="_blank" rel="noopener noreferrer">Grammarly Editor</a> instead.`,r=o?Dt[o]:Dt.warning;return k.createElement(ie.x,{className:It()},k.createElement(ie.x,{className:r}),k.createElement(T.x,{as:"strong",className:Dt.unsupported_title,color:"base-default"},a),k.createElement(T.x,{as:"p",color:"base-default"},k.createElement("div",{dangerouslySetInnerHTML:{__html:i}})))},Rt=({domain:e})=>{const t=k.createElement(T.x,{as:"span",variant:"heading-small",color:"base-default"},"Checking Down on"," ",k.createElement(T.x,{as:"strong",color:"base-default",className:Dt.domain},e));return k.createElement(ie.x,{className:It()},k.createElement(ie.x,{className:Dt.warning}),k.createElement(T.x,{as:"strong",variant:"text-small",className:Dt.unsupported_title},t),k.createElement(T.x,{as:"p",variant:"text-small",color:"base-default"},"There appears to be a temporary glitch affecting Grammarly’s performance on ",e,". Functionality should return soon."))},Pt=()=>k.createElement(ie.x,{className:It(Dt.unsupported_grammarly)},k.createElement(ie.x,{className:Dt.ok}),k.createElement(T.x,{as:"strong",variant:"text-small",className:Dt.unsupported_message,color:"base-default"}," ","You Can’t Improve on Perfection"," "),k.createElement("br",null),k.createElement(T.x,{as:"span",variant:"text-small",color:"base-default",className:Dt.unsupported_grammarly_text},"Naturally, Grammarly’s browser extension is deactivated while you use the Grammarly Editor."));function Gt({domain:e,activeTabURL:t,temporary:n,grammarlyEditor:o,unsupportedMessage:a}){const i=xt(e,t);let r;return r=o?"grammarly_editor":i&&i.message||a&&a.message?"custom_message":n?"temporary":"default",r}class _t extends k.PureComponent{componentDidMount(){const{config:{domain:e,temporary:t,grammarlyEditor:n},activeTab:{url:o}}=this.props,a=Gt({domain:e,activeTabURL:o,grammarlyEditor:null!=n&&n,temporary:null!=t&&t});(0,v.Tb)().settingsUnsupportedShow(a)}render(){const{config:{domain:e,temporary:t,grammarlyEditor:n,unsupportedMessage:o},activeTab:{url:a},isSafariIOS:i}=this.props,r=(0,h.cs)(Dt.gr_popup_unsupported,{[Dt.iOS]:i}),s=function(e,t,n,o){const a=o||xt(e,t);switch(n){case"grammarly_editor":return k.createElement(Pt,null);case"temporary":return k.createElement(Rt,{domain:e});default:return k.createElement(Ot,{domain:e,customTitle:a&&a.title,customMessage:a&&a.message,customIcon:a&&a.icon})}}(e,a,Gt({domain:e,activeTabURL:a,grammarlyEditor:null!=n&&n,temporary:null!=t&&t,unsupportedMessage:o}),o);return k.createElement(ie.x,{className:r,"data-grammarly-part":"unsupported-component"},k.createElement(ie.x,{className:(0,h.cs)(Dt.content,Dt.unsupported_site)},i?k.createElement(Ne,null):k.createElement(pt.h,null),s,i?null:k.createElement(_e,{openWebEditor:this.props.openWebEditor,isDocsDisabled:nt.n.isDocsDisabled(this.props.user),newDocUrl:this.props.newDocUrl,appUrl:this.props.appUrl})))}}var Lt=n(35248),Ut=n(19523);const Mt=()=>En().browserApi,Ht=()=>En().bgRpc.api,Nt=k.lazy((()=>n.e(7543).then(n.bind(n,20279)).then((({ChromeStoreToolbarPopup:e})=>({default:e}))))),Ft=e=>k.createElement(k.Suspense,{fallback:k.createElement(k.Fragment,null)},k.createElement(q.L,{chunkName:"chromeStoreToolbarPopup"},k.createElement(Nt,{...e})));class zt extends k.Component{constructor(){super(...arguments),this._sub=[]}componentDidUpdate(){this.props.resize()}componentDidMount(){this.props.resize({force:!0}),this._sub.push(h.on.call(document,"visibilitychange",(e=>{document.hidden||this.props.resize()})));const{user:e,settings:t}=this.props.state;this._isGdocsPossible()&&(0,Q.M)(e,t)&&Ht().sendToFocusTab({kind:be.B.Kind.hideGdocsSigninPopupMessage,option:{_tag:Y.f.hide}}),this._sub.push(h.on.call((0,B.findDOMNode)(this),"click",(e=>{const t=e.target.closest("[data-fire]");t&&(e.preventDefault(),this.processSignUpInClick(t))}))),this.props.actions.cheetahReloadStatus()}componentWillUnmount(){this._sub.forEach((e=>e.off()))}_gdocsIsActiveTab(){const{activeTab:e}=this.props.state,t=e&&"url"in e?e.url:void 0;return!!t&&X.test(t)}_isGdocsPossible(){return this._gdocsIsActiveTab()&&!(0,b.Am)()&&((0,b.CB)()||(0,b.pZ)()||(0,b.G6)())}_isDataControlActive(){return"data_control"===this.props.state.extensionFSM.stage}handleLoginAttempt(e){var t;const{actions:n}=this.props;null===(t=n.beginAuth)||void 0===t||t.call(n),"settings_toolbar_sign_up"===e&&le.J.signUpButtonClick("toolbar"),"settings_toolbar_sign_in"===e&&le.J.signInButtonClick("toolbar");const o=Mt();o.beginOAuth&&(o.beginOAuth(),Kt())}processSignUpInClick({href:e,dataset:t}){const{fire:n}=t;if(n){const[e,t]=n.split(", ");if("login-attempt"===e)return void this.handleLoginAttempt(t)}e&&jt(e)}get settingsPopup(){const e=this.props.getTreatmentRelatedProps();return k.createElement(rt,{actions:this.props.actions,state:this.props.state,close:this.props.close,openUrl:this.props.openUrl,openWebEditor:this.props.openWebEditor,isReportBugFeatureAllowed:this.props.isReportBugFeatureAllowed,openReportBugForm:this.props.openReportBugForm,openDebugPage:this.props.openDebugPage,openSubscriptionDialog:this.props.openSubscriptionDialog,openGBLanding:this.props.openGBLanding,reloadTab:this.props.reloadTab,gdocsIsActiveTab:this._gdocsIsActiveTab(),isSafari:(0,b.G6)(),isChrome:(0,b.i7)(),isSafariIOS:(0,b.Am)(),isKnowledgeHubSupported:e.isKnowledgeHubSupported,isTouchTypistSupported:e.isTouchTypistSupported,citationBuilderSessionId:e.citationBuilderSessionId,isCitationBuilderManualInvocationEnabled:e.isCitationBuilderManualInvocationEnabled,isIndianEnglishDialectSupported:e.isIndianEnglishDialectSupported,isCheetahSupported:e.isCheetahSupported,showSerengetiFeatureToggle:e.showSerengetiFeatureToggle,isAutoApplySupported:e.isAutoApplyEnabled,isGhostProtocolEnabled:e.isGhostProtocolEnabled,isHumanWritingReportSupported:e.isHumanWritingReportSupported,canRequestInProductDiscountSpecialOffer:e.canRequestInProductDiscountSpecialOffer,experimentClient:this.props.experimentClient,newDocUrl:(0,b.Um)().newDoc,appUrl:(0,b.Um)().app,bgRpc:En().bgRpc})}render(){try{const e=this.props,{actions:t,state:n}=e,{user:o,config:a,settings:i,dynamicConfig:r,activeTab:s,installSource:l,growth:c}=n,{chromeStoreSignup:u={}}=c||{},{timesToShowToolbarPopup:d}=u,{anonymous:p}=o,{enabled:g,servicePage:m}=a,h=(0,M.no)(i),v=this._isDataControlActive()?k.createElement(x.k,{align:"center",justify:"center",height:200},k.createElement(j.DataControlPopupDefault,{openAcceptPage:Xt})):e.getTreatmentRelatedProps().isStandWithUkraine?k.createElement(yt.I,{trackPopupShow:()=>{le.J.standWithUkraineSuspendSettingsPopupShow()},onLearnMore:()=>{var e;(0,$.RU)(null===(e=r.standWithUkraineGrammarlySuspendedPopup)||void 0===e?void 0:e.popupLearnMoreButtonLink),le.J.standWithUkraineSuspendLearnMoreButtonClick()},popupDynamicConfig:r.standWithUkraineGrammarlySuspendedPopup}):o.edc&&nt.n.isEdcBlocked(o)?k.createElement(J.w,{institutionName:o.edc.institutionName,ssoUrl:o.edc.ssoUrl}):p&&"chromeStorePopup"===u.popupType?k.createElement(Ft,{gnar:le.J,chromeStoreSignup:u,installSource:l,storeActions:t,authUserDetails:h,dynamicConfig:r,onGoogleSignupClick:this.props.openGoogleSignupFlow,isDismissible:!!d&&d>1}):this._gdocsIsActiveTab()?this._isGdocsPossible()&&g?p?k.createElement(Y.b,{userType:nt.n.getType(o),slot:H.G0.Toolbar,authUserDetails:h,bgRpcApi:Ht(),openSigninPage:e=>{const t=Mt();t.beginOAuth?t.beginOAuth():self.open(e)},onClick:t.gdocsOptedIn}):this.settingsPopup:k.createElement(_t,{activeTab:s,user:o,config:a,isSafariIOS:(0,b.Am)(),openWebEditor:e.openWebEditor,newDocUrl:(0,b.Um)().newDoc,appUrl:(0,b.Um)().app}):(0,b.Am)()||!p||tt.isEnabled()&&!i.enabledClickToRun?g||m?this.settingsPopup:k.createElement(_t,{activeTab:s,user:o,config:a,isSafariIOS:(0,b.Am)(),openWebEditor:e.openWebEditor,newDocUrl:(0,b.Um)().newDoc,appUrl:(0,b.Um)().app}):k.createElement(vt,{dynamicConfig:r,storeActions:t,isSafariIOS:(0,b.Am)(),gnar:le.J,userType:nt.n.getType(o),authUserDetails:h,isBusiness:i.authenticatedUserWasBusinessAccount&&this.props.getTreatmentRelatedProps().isGBSigninEnabled}),f=o.edc;return k.createElement(I.A,{scheme:"auto"},k.createElement(Z.o,{ref:e=>this.element=e,"data-grammarly-part":"settingsPopup"},v,f&&k.createElement(ne.N,{...f})))}catch(e){throw le.J.fail("popup","popupStateInitFail",e.message),(0,v.Tb)().popup.popupStateInitFail(e.message),e}}}function Kt(){const e=Mt();e.closePopup?e.closePopup():(0,h.ZT)("close-popup")}function Vt({force:e}={}){(0,h.ZT)("update-window-size",{force:e})}function Wt(){Ht().sendToFocusTab({kind:be.B.Kind.reloadTab}),Kt()}function jt(e){Mt().openUrl(e),Kt()}function Jt(e){jt(e?(0,b.Um)().newDoc:(0,b.Um)().app)}function qt(e){jt(Ut.WY(e))}function $t(){jt(chrome.runtime.getURL("src/debug.html"))}function Xt(){Ht().openDataControl()}function Yt(e){Ht().openSubscriptionPage(e),Kt()}function Qt(e){le.J.getGBButtonClick("gbExtUphookPopup","ExploreGrammarlyBusiness");jt((0,Ce.Z4)(e,"gbExtensionSettingsToolbar"))}function Zt(e,t,n){if((0,Lt.B)(En().experimentClient)){const t={...(0,U.xW)(e),...(0,Ce.JQ)()};En().bgRpc.api.launchAuthFlow(!1,t)}else{const o=(0,Ce.wQ)(e,t),a=(0,Ce.My)(o,n);self.open(a)}}var en=n(79477),tn=n(32626),nn=n(43912),on=n(55830),an=n(44675),rn=n(78300),sn=n(24007),ln=n(53981);n(1479);const cn=S.Y.create("universal.popup");let un=!1;function dn(){let e=!1;(0,h.cn)(document.documentElement,"gr-"+(0,b.qs)()),(0,b.ED)()&&(0,h.cn)(document.documentElement,"windows"),(0,b.Am)()&&(0,h.cn)(document.body,"gr-safari-ios");const{enableHistoryLoggerInProd:t,bgRpc:n,browserApi:{preferences:a},experimentClient:i}=En(),r=new nn.h(a),s=(0,en.X)(r,n),l=(0,on.q)(r),S=(0,y.r)(r,n),I=(0,w.W)(n),U=(0,p.n)(n),M=(0,tn.z)(n),H=(0,g.b)(n),j=(0,m.o)(n),J=(0,ln.h)(n),q=(0,E.T)(r);he.initKeyboardShortcutHandler(),r.view("extensionSettings").view((e=>{var t;return null===(t=null==e?void 0:e.common)||void 0===t?void 0:t.historyLoggerEnabled})).subscribe((e=>{t("boolean"!=typeof e||e,"popup state update")}));let $=0;const X=wt.m9(3),Y=wt.m9(5),Q=t=>{if(!e)try{e=!0,cn.debug("Popup initialization successful"),function(e,t,n,a){cn.warn("RENDER FROM",{currentState:e,actions:n}),function(e,t,n){const a=new wn;(0,B.render)(k.createElement(o.a.Context.Provider,{value:a},k.createElement(ee.p,null,k.createElement(O.F.Fragment,null,e.pipe(P.O(void 0),G.U((e=>{var o;return e?k.createElement(D.S,{key:null===(o=e.activeTab)||void 0===o?void 0:o.id,name:"PopupMainViewErrorBoundary",fallback:()=>k.createElement(x.k,{direction:"column",align:"center",justify:"center",margin:4},k.createElement(T.x,{as:"small",variant:"text-xsmall"},"Settings popup cannot be rendered. Please contact Grammarly Support for help."))},k.createElement(zt,{state:e,actions:t,experimentClient:n,close:Kt,resize:Vt,openUrl:jt,openWebEditor:Jt,isReportBugFeatureAllowed:!n.isGateEnabled(L.K.HideReportBugByGrammarlyEmployeeFeature),openReportBugForm:qt,openDebugPage:$t,openSubscriptionDialog:Yt,openGBLanding:Qt,openGoogleSignupFlow:Zt,reloadTab:Wt,getTreatmentRelatedProps:()=>{var t;const o=(0,A.zG)(_.ij(null===(t=e.settings.cheetah)||void 0===t?void 0:t.status),_.g_(A.jv,(e=>e.status===R.l.Status.Enabled||e.status===R.l.Status.OptedOutByUser)));return{isKnowledgeHubSupported:(0,V.a)(n),isTouchTypistSupported:W.A.isAvailableByInstitution(e.dynamicConfig)&&W.A.isAvailableViaGateOrExperiment(n),isGBSigninEnabled:(a=e.user.anonymous,i=!!e.settings.authenticatedUserWasBusinessAccount,a&&(0,b.i7)()&&i),isStandWithUkraine:n.isGateEnabled(L.K.StandWithUkraineGrammarlySuspended),citationBuilderSessionId:(0,N.Td)(e.config.domain,e.dynamicConfig,n.isGateEnabled(L.K.CitationBuilderManualInvocation),e.settings)?(0,N.Cr)():void 0,isCitationBuilderManualInvocationEnabled:n.isGateEnabled(L.K.CitationBuilderManualInvocation),isIndianEnglishDialectSupported:n.isGateEnabled(L.K.IndianEnglishDialect)||n.isGateEnabled(L.K.IndianEnglishDialectInternal),isCheetahSupported:o,showSerengetiFeatureToggle:n.isGateEnabled(L.K.KnowledgeEngineSearchV2Alpha),isAutoApplyEnabled:n.isGateEnabled(L.K.SuggestionDeliveryAutoApply),isGhostProtocolEnabled:(0,F.L)(n),isHumanWritingReportSupported:(0,z.C0)(e.settings.humanWritingReport),canRequestInProductDiscountSpecialOffer:()=>(0,K.ol)(e.user,n)};var a,i}})):null})))),k.createElement(te.G,null))),document.querySelector(".popup"))}(t,n,a),document.hidden||function(e){const{config:t,user:n,settings:o}=e,{enabled:a}=t;!1===o.enabledClickToRun?le.J.toolbarButtonClick("browser","click_to_run"):a?le.J.toolbarButtonClick("browser","supported"):le.J.toolbarButtonClick("browser","unsupported");if(n.anonymous);}(e);if(pn)return;pn=!0,(0,v.Tb)().popup.initSuccess()}(t,s,{...l.quickSettings,...l.gdocs,...l.settings,...l.tabs,...S,...I,...U,...M,...H,...j,...J,...l.auth,...q},i)}catch(t){throw cn.error("Error in show() function:",t),(0,v.Tb)().popup.popupStateInitFail((0,rn.H)(t)?t.message:String(t)),e=!1,t}},Z=(t=1)=>{if(e)return;cn.debug(`Popup initialization attempt ${t}/2`),$=t;const n=(0,an.Fb)(X,i.fetchTreatments()).catch((e=>{const t=(0,rn.H)(e)?e.message:String(e);return cn.warn("Experiments fetch failed, continuing without:",t),(0,v.Tb)().popup.fetchTreatmentsFail(t),null}));c.a([s,n]).pipe(u.P(),d.V(Y)).subscribe({next:([e])=>Q(e),error:e=>((e,t)=>{const n=(0,rn.H)(e)?e.message:String(e);cn.error(`Popup initialization attempt ${t} failed:`,n),le.J.fail("popup","popupInitFail",`attempt_${t}_${n}`),(0,v.Tb)().popup.popupInitFail(`attempt_${t}_${n}`,(0,sn.nG)({})),t<2?(cn.debug(`Retrying initialization in ${1e3*t}ms...`),setTimeout((()=>Z(t+1)),1e3*t)):(cn.error("All initialization attempts failed, giving up"),(0,v.Tb)().popup.popupStateInitFail(`all_attempts_failed_${n}`))})(e,t)})};En().message.sendBackground("tab-connected",{tab:"popup"}),function(){const e=document.querySelector(".popup");if(!e)return;(0,C.s)(e).render(k.createElement(x.k,{direction:"column",align:"center",justify:"center",padding:6,height:200,role:"status","aria-live":"polite","aria-label":"Loading Grammarly"},k.createElement(T.x,{as:"p",variant:"text-small",align:"center"},"Grammarly is starting...")))}(),Z(),(0,f.Zk)((()=>{e||(un?(cn.error("Final timeout reached, popup never initialized"),le.J.fail("popup","popupInitTimeout"),(0,v.Tb)().settingsPopupTimeout()):(un=!0,Z($+1)))}),6e3)}let pn=!1;var gn,mn=n(33908),hn=n(10238),bn=n(66209),vn=n(11950),fn=n(67960),Sn=n(29483);class yn extends Sn.OD{static getInstance(){if(void 0===this._instance)throw new Error("popup Env not inited yet");return this._instance}static get isInited(){return void 0!==this._instance}static init(e){if(void 0!==this._instance)throw new Error("popup Env already inited");const t=new yn(e);if(this._instance=t,Sn.OD.initShared(t),!l)throw new Error("Not a popup");const n=(0,v.Tb)();(0,v.HS)(self,n.unhandledExceptions.unhandledPopupException,n.unhandledExceptions.unhandledPopupRejection),dn()}constructor(e){super({browser:e.browser,extensionType:e.extensionType,deploymentType:e.deploymentType,context:"popup",browserInfo:e.browserApi.getBrowserInfo(),historyLoggerExtraArgs:{maxEventsToStore:100,backupStorage:new bn.f(e.browserApi.sessionStorage,fn.v.popupHistoryLogs,(async()=>{var e;return!await(null===(e=this.bgRpc)||void 0===e?void 0:e.api.isGateEnabled("SessionStorageLogsBackup"))})),getExperimentClient:()=>this.experimentClient}}),(0,mn.wp)(),this.browserApi=e.browserApi,this.message=new hn.w(e.browserApi.message),this.bgRpc=new r.c(this.message),this.experimentClient=(0,a.M)(this.bgRpc),this.telemetryCallProvider=(0,vn._)(this.bgRpc),this.productMetricsCSClient=(0,i.l)(this.bgRpc)}}function En(){return yn.getInstance()}!function(e){e.Flag=o.a.Flag}(gn||(gn={}));class wn{constructor(){this._flags=new Set,this.actions={openUrl:()=>{throw new Error("Not implemented")},openPopup:()=>{throw new Error("Not implemented")}}}has(e){return this._flags.has(e)}}},47052:(e,t,n)=>{n.d(t,{h:()=>p});var o=n(92379),a=n(50635),i=n(69003),r=n(36279),s=n(64803),l=n(4026),c=n(16381),u=n(72032),d=n(90867);const p=e=>{var t;return o.createElement(a.k,{className:(0,l.cs)(d.header,!e.hideDelimiter&&d.delimiter)},o.createElement("a",{target:"_blank",rel:"noreferrer",href:null!==(t=e.appUrl)&&void 0!==t?t:(0,c.Um)().app,className:d.logo,"aria-label":"Grammarly homepage (opens in a new tab)"},o.createElement(i.T,{composition:"lockup",accessibilityLabel:"",brand:(0,u.T)("go"),height:21})),e.onClose&&o.createElement("button",{onClick:e.onClose,className:d.closeButton},o.createElement(r.J,{icon:s.V,size:"small",accessibilityLabel:"Close"})))}},92854:(e,t,n)=>{n.d(t,{h6:()=>pt,YB:()=>st,a7:()=>mt});var o=n(92379),a=n(15484),i=n(76282),r=n(61189),s=n(50635),l=n(69554),c=n(31702),u=n(83542),d=n(52348),p=n(27106),g=n(36279),m=n(19347),h=n(52563),b=n(4765),v=n(97231),f=n(28898),S=n(90595);function y(e){return"boolean"==typeof e?e?"true":"false":"defaultOn"===e?"defaultOn":String(e)}var E=n(10269),w=n(29483);var k=n(9237),C=n(89979),x=n(63349),T=n(12712),A=n(1087),B=n(64803),D=n(33885),I=n(13391),O=n(11816),R=n(19540),P=n(44114);const G=({userId:e,settings:t,isMac:n,actions:a,gnar:r})=>{var l,u;const g=null!==(l=null==t?void 0:t.enabled)&&void 0!==l?l:O.Y.enabled,m=o.useRef(null),h=I.h.create(!1),v=null!==(u=null==t?void 0:t.hotkey)&&void 0!==u?u:"Tab",f=new R.c(v,h);o.useEffect((()=>{const e=f.listenToHotkeyChange(n);return()=>{e.unsubscribe()}})),o.useEffect((()=>{const e=f.isActiveHotkeyChange.subscribe((e=>{e&&setTimeout((()=>{m.current&&(m.current.focus(),h.set(!0))}),0)}));return()=>e.unsubscribe()}),[f.isActiveHotkeyChange]);const S=o.useCallback((t=>{(async()=>{await a.toggleTouchTypistByUser({enabled:t,userId:e}),await r.touchTypistSettingsToggleClick(t?"on":"off")})()}),[e]),y=()=>{const e=f.tmpHotkey.get();e===v?f.onDismissHotkeyChange():(f.onApplyHotkeyChange(a),r.touchTypistSettingsEditHotkeyButtonClick(e))};return o.createElement(s.k,{direction:"column",gap:2},o.createElement(s.k,{gap:2,justify:"start",className:P.heading,color:"base-default"},"Quick fix",o.createElement(p.V,{label:"Beta",variant:"addition"})),o.createElement(i.r,{label:"Accept all critical suggestions with a key",isSelected:g,onChange:S}),o.createElement(s.k,{direction:"row",justify:"space-between",align:"center"},o.createElement(c.x,{color:"base-default",as:"span",variant:"text-xsmall",className:P.labelsFont},"Quick fix key"),o.createElement(D.F.div,{className:P.labelsFont},I.h.combine(f.tmpHotkey,f.isActiveHotkeyChange,((e,t)=>t?o.createElement(b.n,{ref:m,value:e,style:{width:x.ux.px(130)},labelDisplay:"hidden",label:"Change quick fix key",onBlur:()=>h.set(!1)}):o.createElement(c.x,{color:"base-default",as:"span",variant:"text-xsmall"},e)))),o.createElement(D.F.div,null,f.isActiveHotkeyChange.view((e=>e?o.createElement(s.k,{gap:.5},o.createElement(T.h,{"data-testid":"accept-shortcut-change",accessibilityLabel:"Accept",style:{backgroundColor:"#11A683"},variant:"primary",icon:A.L,onClick:y}),o.createElement(T.h,{"data-testid":"dismiss-shortcut-change",accessibilityLabel:"Dismiss",variant:"secondary",icon:B.V,onClick:()=>f.onDismissHotkeyChange()})):o.createElement(d.z,{variant:"ghost",onClick:()=>f.onIsActiveHotkeyChange()},"Edit"))))))};var _=n(13162),L=n(98555),U=n(39963),M=n(74609);function H(e){return o.createElement(i.r,{label:"Show definitions and synonyms via double clicks (all sites)",isSelected:e.enabledDefs,onChange:t=>{const{toggleDefs:n}=e;n(t),M.J.definitionToggleClick(t?"on":"off"),(0,U.Tb)().toggleExtensionDefs(t)},isDisabled:e.disabled,"data-grammarly-part":"definitionAndSynonymsSwitcher"})}var N=n(74695),F=n(15859),z=n(90465),K=n(39837),V=n(24633),W=n(93656),j=n(17833),J=n(60220),q=n(61483),$=n(18974),X=n(8842),Y=n(83816);const Q=e=>(0,Y.kC)(e)+" English",Z={american:N.Y,british:F.e,canadian:z.w,australian:K.k,indian:V.k},ee=e=>{const{dialect:t,dialects:n,onSetDialect:a,lock:i,dropdownOnTop:r}=e,[l,u]=o.useState(!1),[d,p]=o.useState(null);return o.createElement(s.k,{align:"center",gap:1},(null==i?void 0:i.isLocked)&&o.createElement(W.u,null,o.createElement(W.aJ,{asChild:!0},o.createElement("div",{tabIndex:0,className:ie.lockIconContainer},o.createElement(g.J,{icon:j.N,accessibilityLabel:"Writing dialect: "+(null==i?void 0:i.message),size:"small"}))),o.createElement(W._v,{root:null},null==i?void 0:i.message)),o.createElement(s.k,{className:ie.container},o.createElement("div",{"aria-activedescendant":null===d?"":`dialect-option-${n[d]}`,"aria-controls":"dialect-listbox","aria-expanded":l,"aria-haspopup":"listbox","aria-label":"Writing dialect",id:"dialect-combobox",role:"combobox",tabIndex:0,onClick:()=>{(null==i?void 0:i.isLocked)||(u(!l),p(n.findIndex((e=>e===t))))},"aria-disabled":null==i?void 0:i.isLocked,onKeyDown:e=>{(null==i?void 0:i.isLocked)||(l?"Escape"===e.key?(e.preventDefault(),u(!1),p(null)):" "===e.key||"Enter"===e.key?(u(!1),p(null),null!==d&&a(n[d])):"Tab"===e.key?null!==d&&(u(!1),p(null),a(n[d])):"ArrowDown"===e.key?(e.preventDefault(),null!==d&&d<n.length-1&&p(d+1)):"ArrowUp"===e.key?(e.preventDefault(),null!==d&&d>0&&p(d-1)):"Home"===e.key?(e.preventDefault(),p(0)):"End"===e.key&&(e.preventDefault(),p(n.length-1)):"ArrowDown"===e.key||"ArrowUp"===e.key||" "===e.key||"Enter"===e.key?(e.preventDefault(),u(!0),p(n.findIndex((e=>e===t)))):"Home"===e.key?(e.preventDefault(),u(!0),p(0)):"End"===e.key&&(e.preventDefault(),u(!0),p(n.length-1)))},onBlur:()=>{u(!1)},className:ie.combobox},o.createElement(s.k,{align:"center",gap:1},o.createElement(g.J,{icon:Z[t],size:"small",accessibilityLabel:""}),o.createElement(c.x,{as:"span",variant:"text-small"},Q(t))),o.createElement(g.J,{icon:J.b,size:"small",accessibilityLabel:""})),o.createElement("div",{role:"listbox",id:"dialect-listbox","aria-label":"Writing dialect options",tabIndex:-1,className:ie.listbox,style:{display:l?"block":"none"},onMouseDown:e=>{e.preventDefault()},"data-listbox-position":r?"top":"bottom"},n.map(((e,n)=>o.createElement("div",{role:"option",id:`dialect-option-${e}`,className:ie.option,"aria-selected":e===t,"data-highlighted":d===n,key:e,onClick:()=>{u(!1),a(e)},onMouseEnter:()=>{p(n)},onMouseLeave:()=>{p(null)}},o.createElement(s.k,{align:"center",gap:1},o.createElement(g.J,{icon:Z[e],size:"small",accessibilityLabel:""}),o.createElement(c.x,{as:"span",variant:"text-small"},Q(e))),e===t&&o.createElement(g.J,{icon:A.L,accessibilityLabel:"",variant:d===n?"inverse":"default",size:"small"})))))))},te={width:"100%",display:"flex",alignItems:"center",borderWidth:1,borderStyle:"solid",borderColor:q.I.Border.Base.Default,borderRadius:x.ux.rem($.xB),cursor:"pointer",justifyContent:"space-between",paddingInline:x.ux.rem(X.x),paddingBlock:x.ux.rem(X.F2),backgroundColor:q.I.Background.Base.Default,$nest:{'&[aria-disabled="true"]':{cursor:"not-allowed",borderColor:q.I.Border.Base.Subdued},"&:focus":{outline:`2px solid ${q.I.Border.Brand.Default}`,outlineOffset:2},'&[aria-disabled="true"]:focus':{outlineColor:q.I.Border.Base.Subdued}}},ne={width:"100%",backgroundColor:q.I.Background.Base.Default,position:"absolute",borderWidth:1,borderStyle:"solid",borderColor:q.I.Border.Base.Default,borderRadius:x.ux.rem($.xB),padding:x.ux.rem(X.x),boxSizing:"border-box",zIndex:10,$nest:{'&[data-listbox-position="bottom"]':{top:x.ux.rem(X.Ze+X.F2)},'&[data-listbox-position="top"]':{bottom:x.ux.rem(X.Ze+X.F2)}}},oe={display:"flex",alignItems:"center",justifyContent:"space-between",cursor:"pointer",paddingBlock:x.ux.rem(X.F2),paddingInline:x.ux.rem(X.x),borderRadius:x.ux.rem($.xB),$nest:{'&[data-highlighted="true"]':{color:q.I.Text.Base.Inverse,backgroundColor:q.I.Background.Neutral.Default}}},ae={display:"flex",alignItems:"center",justifyContent:"center",outlineColor:q.I.Border.Base.Subdued,outlineOffset:2},ie=x.ux.stylesheet({container:[{position:"relative",width:200}],combobox:[te],listbox:[ne],option:[oe],lockIconContainer:[ae]});class re extends o.Component{constructor(){super(...arguments),this.setDialect=e=>{const{changeStrongDialect:t,dialectWeak:n}=this.props;t(e);const o=e+"English";M.J.languageSettingUpdate(o,"user",n&&e===n)}}render(){const e=this.props.dialectStrong||this.props.dialectWeak||"american";return o.createElement(s.k,{align:"center",justify:"space-between"},o.createElement(c.x,{as:"p",variant:"text-small",weight:"medium",color:"base-default"},"I write in"),o.createElement(ee,{dialect:e,dialects:this.props.dialects,onSetDialect:this.setDialect,dropdownOnTop:!!this.props.dropdownOnTop,lock:this.props.lock}))}}var se=n(78021);const le=({currentOpenShortcut:e,currentCloseShortcut:t,currentVBarsShortcut:n,onSetShortcut:a,showVBarsShortcut:i,isMac:r,isSuperhumanGoBrandingEnabled:u,hideDescriptionText:d=!1,condensed:p=!1})=>{const g="keyboard-shortcut-setting-description",m=u?"Open new chat":"Open Grammarly";return o.createElement(s.k,{direction:"column",gap:d?2:0},o.createElement(l.X,{variant:"heading-xsmall",as:"h2",color:"base-default"},"Shortcuts"),!d&&o.createElement(c.x,{as:"p",variant:"text-xsmall",color:"base-subdued",id:g},"Use any keys in shortcuts, except for tab, enter, caps lock, home, end, page up, page down, delete, backspace, insert, and arrow keys."),o.createElement(s.k,{gap:p?0:1,direction:"column",color:"base-default",paddingLeft:d?L._r:L.EZ},o.createElement(se.Z,{label:m,isMac:r,currentShortcut:e,onSetShortcut:e=>{a("openAssistant",e),M.J.keyboardShortcutShortcutKeysChanged("openAssistant")},ariaDescribedBy:d?void 0:g,condensed:p,disableLegacyLayout:p}),o.createElement(se.Z,{label:"Close Grammarly",isMac:r,currentShortcut:t,onSetShortcut:e=>{a("closeAssistant",e),M.J.keyboardShortcutShortcutKeysChanged("closeAssistant")},ariaDescribedBy:d?void 0:g,condensed:p,disableLegacyLayout:p}),i&&o.createElement(se.Z,{label:"Open sidecard",isMac:r,currentShortcut:n,onSetShortcut:e=>{a("openVBar",e),M.J.keyboardShortcutShortcutKeysChanged("openVBar")},ariaDescribedBy:d?void 0:g,condensed:p,disableLegacyLayout:p})))};var ce=n(62162),ue=n(16381),de=n(20851),pe=n(16415);function ge(e,t,n,o){return(0,de.Td)(e,t,n,o)}function me(e,t){var n,o,a;return e&&!1!==(null===(a=null===(o=null===(n=t.cheetah)||void 0===n?void 0:n.status)||void 0===o?void 0:o.entryPointsConfig)||void 0===a?void 0:a.inlineRewriteEnabled)}function he(e,t){var n,o,a;return e&&!1!==(null===(a=null===(o=null===(n=t.cheetah)||void 0===n?void 0:n.status)||void 0===o?void 0:o.entryPointsConfig)||void 0===a?void 0:a.inlineQuickReplyEnabled)}const be=e=>o.createElement(i.r,{label:"Show Knowledge Share",isSelected:e.enabled,onChange:e.toggle}),ve=e=>o.createElement(i.r,{label:e.isAutoApplySupported?"Correct text automatically":"Correct spelling automatically",isSelected:e.enabled,onChange:e.toggle,"data-grammarly-part":"settings-toggle-autocorrect"}),fe=e=>o.createElement(i.r,{label:`Show "Get citation" button on ${e.domain}`,isSelected:e.enabled,onChange:e.toggle}),Se=e=>o.createElement(i.r,{label:"Show emoji for detected tones",isSelected:e.enabled,onChange:e.toggle,"data-grammarly-part":"settings-toggle-show-emoji-for-detected-tones"});function ye(e){var t,n,a,r,c,u,d,p,g,m,h,b,v;const f=function(e){var t,n;return!1!==(null===(n=null===(t=e.cheetah)||void 0===t?void 0:t.status)||void 0===n?void 0:n.cheetahEnabled)}(e.settings),S=(y=e.dapi,E=e.settings,x=e.dynamicConfig,T=null===(t=e.activeTab)||void 0===t?void 0:t.url,pe.q.showSettingPopupToggle(y,E,x,T));var y,E,x,T;const A=function(e,t,n,o){return e&&(0,de.r4)(t,n,o)}(e.showCitationBuilderToggle,e.config.domain,e.dynamicConfig,e.isCitationBuilderManualInvocationEnabled),B=function(e,t){var n,o;return!e||!1===(null===(o=null===(n=t.cheetah)||void 0===n?void 0:n.status)||void 0===o?void 0:o.cheetahEnabled)}(e.isCheetahSupported,e.settings);return o.createElement(o.Fragment,null,o.createElement(s.k,{direction:"column",gap:2},o.createElement(l.X,{as:"h3",variant:"heading-xsmall",color:"base-default"},"Writing suggestions"),o.createElement(s.k,{direction:"column",gap:2,paddingLeft:L._r},S&&o.createElement(st,{toggle:t=>{e.actions.setDesktopIntegration(t),M.J.desktopIntegrationToggleClick(t?"on":"off")},enabled:e.settings.isDesktopIntegrationEnabled}),o.createElement(ce.w,{domain:e.config.domain,enabledInConfig:null!==(n=e.config.enabled)&&void 0!==n&&n,siteSwitcherChecked:e.siteSwitcherChecked,favicon:null===(a=e.activeTab)||void 0===a?void 0:a.favIconUrl,siteCategory:e.siteCategory}),o.createElement(re,{dialects:e.dialects,changeStrongDialect:e.actions.changeStrongDialect,dialectStrong:e.dialectStrong,dialectWeak:e.dapi.dialectWeak,dropdownOnTop:!0,disabled:e.anonymous,lock:{isLocked:e.anonymous||Boolean(null===(r=e.dialectSettings)||void 0===r?void 0:r.dialectLockedByInstitution),message:e.anonymous?"Sign in to use this feature":"Locked by your organization"}}))),e.showKeyboardShortcuts&&o.createElement(le,{isMac:(0,w.nD)(),isSuperhumanGoBrandingEnabled:e.showSuperhumanGoBranding,showVBarsShortcut:(0,ue.i7)(),currentOpenShortcut:null!==(u=null===(c=e.settings.keyboardShortcuts)||void 0===c?void 0:c.openAssistant)&&void 0!==u?u:(0,_.e)("openAssistant"),currentCloseShortcut:null!==(p=null===(d=e.settings.keyboardShortcuts)||void 0===d?void 0:d.closeAssistant)&&void 0!==p?p:(0,_.e)("closeAssistant"),currentVBarsShortcut:null!==(m=null===(g=e.settings.keyboardShortcuts)||void 0===g?void 0:g.openVBar)&&void 0!==m?m:(0,_.e)("openVBar"),onSetShortcut:(t,n)=>{e.actions.setKeyboardShortcut(t,n)},hideDescriptionText:!0,condensed:!0}),o.createElement(s.k,{direction:"column",gap:2},o.createElement(l.X,{as:"h3",variant:"heading-xsmall",color:"base-default"},"Features"),o.createElement(s.k,{direction:"column",gap:2,paddingLeft:L._r},e.isCheetahSupported&&o.createElement(o.Fragment,null,o.createElement(i.r,{label:"Show on text selection",isSelected:me(f,e.settings),isDisabled:!f,onChange:e.actions.cheetahToggleInlineRewrite}),o.createElement(i.r,{label:"Show for quick replies",isSelected:he(f,e.settings),isDisabled:!f,onChange:e.actions.cheetahToggleInlineQuickReply})),e.isKnowledgeHubSupported&&o.createElement(be,{enabled:null===(b=null===(h=e.settings.knowledgeHubSettings)||void 0===h?void 0:h.enabled)||void 0===b||b,toggle:t=>{e.actions.toggleKnowledgeHub(t),M.J.knowledgeHubFeatureToggleClick("popup",C.JJ.fromDomain(e.config.domain),t?C.L5.on:C.L5.off),(0,U.Tb)().knowledgeHub.featureToggleClick(C.JJ.fromDomain(e.config.domain),t?C.L5.on:C.L5.off)}}),o.createElement(H,{disabled:e.anonymous,enabledDefs:e.settings.enabledDefs,toggleDefs:e.actions.toggleDefs}),(0,k.c)()&&o.createElement(ve,{enabled:e.settings.autocorrectEnabled||!1,isAutoApplySupported:e.isAutoApplySupported,toggle:t=>{e.actions.toggleAutocorrect(t);const n=t?"on":"off";M.J.autocorrectToggleClick("popup",n),(0,U.Tb)().autoFix.featureToggleClick(n,"popup")}}),e.isTouchTypistSupported&&o.createElement(G,{userId:e.user.id,settings:e.settings.touchTypistSettings,isMac:(0,w.nD)(),actions:e.actions,gnar:M.J}),A&&o.createElement(fe,{enabled:ge(e.config.domain,e.dynamicConfig,e.isCitationBuilderManualInvocationEnabled,e.settings),domain:e.config.domain,toggle:e.toggleCitationBuilder}),B&&o.createElement(Se,{enabled:"hide"!==e.dapi.emogenieEmojiState,toggle:t=>{e.actions.setEmogenieEmojiState(!0===t?"show":"hide"),M.J.settingsShowEmojiForDetectedTonesToggleClick(e.config.domain,!0===t?"on":"off")}}),e.isHumanWritingReportSupported&&o.createElement(pt,{label:"Grammarly Authorship",enabled:"enabled"===(null===(v=e.settings.humanWritingReport)||void 0===v?void 0:v.kind),disabled:!1,toggle:t=>e.actions.hwrSetEnabled(t),helperMessage:"In Google Docs and Microsoft Word, you can choose to track your writing to prove what you type, copy, or create with AI."}))))}var Ee=n(27982);function we(e){const{handleToggle:t}=function(e){const{enabled:t,onEnabled:n}=e,a=o.useRef(t);return o.useEffect((()=>{a.current=t}),[t]),{handleToggle:o.useCallback((e=>{var t;!a.current&&e&&n&&(null===(t=(0,f.O)().experimentClient)||void 0===t?void 0:t.isGateEnabled(Ee.K.SuperhumanWelcomePageOnOptIn))&&setTimeout((()=>{n()}),1e3),a.current=e}),[n])}}({enabled:e.superhumanGoEnabled,onEnabled:e.onSuperhumanGoEnabled}),n=o.useCallback((n=>{e.superhumanGoToggle(n),t(n)}),[e.superhumanGoToggle,t]);return o.createElement(s.k,{direction:"column",gap:e.isCondensedLayout?2:4},o.createElement(s.k,{direction:"row",justify:"space-between",align:"center"},o.createElement(s.k,{direction:"row",gap:2},o.createElement(l.X,{variant:"heading-xsmall",as:"h3",color:"base-default"},e.isCondensedLayout?"Our new experience":o.createElement(c.x,{as:"span",weight:"bold"},"Our new experience")),o.createElement(p.V,{label:"Beta",variant:"success"})),e.isAllSettingsInSuperhumanGoSection&&o.createElement(a.r,{href:"#",underline:"hover",weight:"bold",onClick:()=>{e.onAllSettingsClick()}},o.createElement(s.k,{className:e.settingsContentStyles.allSettings},o.createElement(c.x,{as:"span",variant:"text-small"},"All Settings")))),o.createElement(s.k,{direction:"column",gap:4,paddingLeft:e.isCondensedLayout?L._r:L.EZ},o.createElement(i.r,{label:"Use Superhuman Go",helperMessage:"Switch to Go, an upgraded product powered by helpful AI agents, including Grammarly.",isSelected:e.superhumanGoEnabled,onChange:n,"data-grammarly-part":"settings-toggle-superhuman-go"}),e.showNotchToggleEnabled&&e.superhumanGoEnabled&&o.createElement(i.r,{label:"Show Go tab",isSelected:e.showNotch,onChange:e.onShowNotchToggle,"data-grammarly-part":"settings-toggle-show-go-tab"})))}var ke,Ce=n(36526),xe=n(39575),Te=n(56863),Ae=n(6266),Be=n(62067),De=n(70708);!function(e){e.isGranted=function(e,t=(0,f.O)().browserApi.permissions){return t?t.contains({permissions:[e]}):Promise.resolve(!1)},e.request=function(e,t=(0,f.O)().browserApi.permissions){return t?t.request({permissions:[e]}):Promise.resolve(!1)}}(ke||(ke={}));var Ie=n(39565),Oe=n(1182),Re=n(53768),Pe=n(1527);const Ge=e=>o.createElement(s.k,{direction:"row",style:{gap:"12px",width:"100%",backgroundColor:Re.Gold0,borderBottom:`1px solid ${Re.Gold10}`},padding:"8px 16px 10px 16px"},o.createElement(s.k,{width:"36px"},o.createElement(Pe.u,null)),o.createElement(s.k,{direction:"column",style:{gap:"8px"}},o.createElement(s.k,{direction:"column",style:{gap:"2px"}},o.createElement(l.X,{as:"h1",variant:"heading-xxsmall",style:{marginTop:"4px"}},"Boost Grammarly’s Performance"),o.createElement(c.x,{as:"p",variant:"text-xsmall"},"Allow the Grammarly Chrome extension to connect with the desktop app to provide suggestions faster.")),o.createElement(d.z,{variant:"ghost",onClick:e.onClick,text:"Continue",size:"small",style:{position:"relative",left:"-8px"}}))),_e=o.memo((function(e){const[t,n]=o.useState(!1),a=o.useCallback((()=>{const{connector:e}=(0,U.Tb)();e.permissionViewClicked("settingPopup"),(0,w.OB)().bgRpc.api.requestGrantPermissionAndReloadExtOnAccept(Ie.d.nativeMessaging)}),[]);return o.useEffect((()=>{e.url&&Promise.all([(0,w.OB)().bgRpc.api.getSystemInfo().then((({os:t})=>De.R.shouldEnableFieldIntegration(t,(0,w.OB)(),e.url,e.domain))),ke.isGranted(Ie.d.nativeMessaging)]).then((([e,t])=>{n(e&&!t)}))}),[]),o.useEffect((()=>{t&&(0,U.Tb)().connector.permissionViewShow("settingPopup")}),[t]),t?o.createElement(Oe.w,null,o.createElement(Ge,{onClick:a})):null}));var Le=n(15329),Ue=n(4026),Me=n(35248),He=n(95404),Ne=n(19724),Fe=n(91957),ze=n(74316),Ke=n(40224),Ve=n(19523),We=n(43795),je=n(33851);function Je(){const e=o.useCallback((()=>{chrome.storage.local.set({[je.jG]:!1})}),[]);return o.createElement(u.x,{marginBottom:3,padding:3},o.createElement(s.k,{align:"center",gap:3,justify:"space-between",direction:"column"},o.createElement(c.x,{as:"span",variant:"text-small"},"We see you are using Superhuman Go Extension!"),o.createElement(d.z,{size:"medium",variant:"secondary",onClick:e},"Turn Grammarly Classic back on")))}var qe=n(7889);const $e="https://gateway.grammarly.com/api/jira/tickets/create";class Xe{constructor(e,t){this.getAuthToken=e,this.getCSRFToken=t,this.apiEndpoint=$e}async submitBugReport(e){try{const[t,n]=await Promise.all([this.getAuthToken(),this.getCSRFToken()]),o={Authorization:`Bearer ${t}`,"X-Requested-With":"XMLHttpRequest","X-Client-Type":"browser-extension","Content-Type":e.contentType};n&&(o["X-CSRF-Token"]=n);const a=await fetch(this.apiEndpoint,{method:"POST",headers:o,body:e.body,mode:"cors",credentials:"omit",referrerPolicy:"no-referrer"});if(!a.ok){const e=await a.text();throw new Error(`HTTP error! status: ${a.status}, body: ${e}`)}const i=await a.json();if(!i.success)throw new Error(i.message||"Failed to submit bug report");return i}catch(e){throw new Error(`Failed to submit bug report: ${e instanceof Error?e.message:"Unknown error"}`)}}}class Ye{constructor(e,t){this.user=e,this.config=t}createDetailedDescription(e){var t;const n=v.Rd().systemInfo;return`\nDescription:\n${e}\n\n\n*Environment Details:\n- Domain: ${this.config.domain}\n- User Agent: ${(null===(t=null==n?void 0:n.browser)||void 0===t?void 0:t.userAgent)||navigator.userAgent}\n\nSubmitted via: Extension Bug Report Form\n    `.trim()}createReporterName(){return`${this.user.firstName} ${this.user.lastName||""}`.trim()}createFormData(e){var t,n;const o=v.Rd().systemInfo;return{project:"PBUG",summary:e.title.trim(),description:this.createDetailedDescription(e.description),reporterEmail:this.user.email,reporterName:this.createReporterName(),source:"Internal",userType:Ve.Ng(this.user),browser:(null===(t=null==o?void 0:o.browser)||void 0===t?void 0:t.name)||"Unknown",operatingSystem:(null===(n=null==o?void 0:o.os)||void 0===n?void 0:n.name)||"Unknown",clientVersion:(0,ue.bo)(),team:"Browser extensions",issueType:"Bug",priority:"Major",assignee:"extension-team@grammarly.com",labels:`extension,bug-report,${this.config.domain},auto-submitted`}}buildFormDataForSubmission(e,t){const n=new FormData;return Object.entries(t).forEach((([e,t])=>{n.append(e,t)})),e.attachments.forEach((e=>{n.append("attachments",e,e.name)})),n.append("attachments",e.debugLogs,e.debugLogs.name),n}async buildCustomFormDataForSubmission(e,t){const n=`----formdata-${Date.now()}-${Math.random().toString(16).substring(2)}`,o="\r\n",a=new TextEncoder,i=[],r=(e,t)=>{i.push(a.encode(`--${n}\r\n`)),i.push(a.encode(`Content-Disposition: form-data; name="${e}"\r\n\r\n`)),i.push(a.encode(`${t}\r\n`))},s=async(e,t)=>{const r=await t.arrayBuffer();i.push(a.encode(`--${n}\r\n`)),i.push(a.encode(`Content-Disposition: form-data; name="${e}"; filename="${t.name}"\r\n`)),i.push(a.encode(`Content-Type: ${t.type}\r\n\r\n`)),i.push(new Uint8Array(r)),i.push(a.encode(o))};for(const[e,n]of Object.entries(t))r(e,n);for(const t of e.attachments)await s("attachments",t);await s("attachments",e.debugLogs),i.push(a.encode(`--${n}--\r\n`));const l=i.reduce(((e,t)=>e+t.length),0),c=new Uint8Array(l);let u=0;for(const e of i)c.set(e,u),u+=e.length;return{body:c,contentType:`multipart/form-data; boundary=${n}`}}}var Qe=n(21553);const Ze=e=>o.createElement(p.V,{label:e.label||"Beta",variant:"addition",inline:!0}),et=({label:e,betaLabel:t,...n})=>o.createElement(qe.Z,{label:`${e} (${t||"Beta"})`,...n},e," ",o.createElement(Ze,{label:t}));function tt(e){var t,n,a,r,u,p,g,m;const h=!1!==(null===(n=null===(t=e.cheetahSettings)||void 0===t?void 0:t.status)||void 0===n?void 0:n.cheetahEnabled);return o.createElement(s.k,{direction:"column",gap:2},o.createElement(s.k,{direction:"column"},o.createElement(s.k,{justify:"space-between",align:"center"},o.createElement(l.X,{variant:"heading-xsmall",as:"h2",color:"base-default"},"Generative AI"),o.createElement(d.z,{variant:"ghost",text:"Manage","data-grammarly-part":"cheetahManageBtn",onClick:()=>{e.openCheetahSettings()}})),o.createElement(c.x,{as:"p",variant:"text-xsmall",color:"base-subdued"},"Brainstorm, write, and rewrite with Grammarly's generative AI assistance.")),o.createElement(i.r,{label:"Show on text selection",isSelected:h&&!1!==(null===(u=null===(r=null===(a=e.cheetahSettings)||void 0===a?void 0:a.status)||void 0===r?void 0:r.entryPointsConfig)||void 0===u?void 0:u.inlineRewriteEnabled),isDisabled:!h,onChange:t=>e.cheetahToggleInlineRewrite(t)}),o.createElement(i.r,{label:"Show for quick replies",isSelected:h&&!1!==(null===(m=null===(g=null===(p=e.cheetahSettings)||void 0===p?void 0:p.status)||void 0===g?void 0:g.entryPointsConfig)||void 0===m?void 0:m.inlineQuickReplyEnabled),isDisabled:!h,onChange:t=>e.cheetahToggleInlineQuickReply(t)}),e.showSerengetiFeatureToggle&&o.createElement(et,{label:"Use organizational context",isSelected:e.serengetiEnabled,onChange:e.serengetiToggle,betaLabel:"Internal"}))}var nt=n(46577),ot=n(78703);const at=()=>o.createElement("div",{className:nt.separator}),it=e=>{const t={source:"authHook",slot:Be.G0.Toolbar,name:Be.Vi.SessionTimeout,lastKnownUserType:(0,Ae.qf)(e.authUserDetails),experience:Be.VP.SignIn};return o.createElement("div",{className:ot.sessionTimeoutWrapper},o.createElement("div",{className:ot.sessionTimeoutDiv},o.createElement("div",{className:ot.sessionTimeoutTextAndIcon},o.createElement("div",null,o.createElement(ze.K,{className:ot.sessionTimeoutPopupIcon,width:"32",height:"32"})),o.createElement("div",{className:ot.sessionTimeoutText},o.createElement("span",null,"Company policy expires your session in 1 hour."," ",o.createElement(a.r,{href:"#",onClick:()=>{const n={utmCampaign:"toolbarMenu",utmSource:"signinHook"};(0,Me.B)((0,w.OB)().experimentClient)?(0,w.OB)().bgRpc.api.launchAuthFlow(!1,{...(0,Te.xW)(t),...(0,He.OC)((0,He.g7)(n))}):e.openUrl((0,He.s7)(t,n,!0))},variant:"secondary",weight:"bold"},o.createElement("span",{className:ot.signinLink},"Sign in"))," ","to avoid interruption.")))),o.createElement(at,null))},rt=e=>o.createElement(i.r,{label:e.isAutoApplySupported?"Correct text automatically":"Correct spelling automatically",isSelected:e.enabled,onChange:e.toggle,"data-grammarly-part":"settings-toggle-autocorrect"}),st=e=>o.createElement(i.r,{isSelected:!e.enabled,label:"Check text with browser extension",helperMessage:e.enabled?"Grammarly's browser extension was deactivated since you're using Grammarly's desktop application":void 0,onChange:t=>{e.toggle(!t),r.E.announce(t?"Grammarly's browser extension was activated. It will start checking text and suggesting changes. If you're using the desktop application, it will stop checking text in the browser.":"Grammarly's browser extension was deactivated. It has stopped checking text and its suggestions have been removed. If you're using the desktop application, it will start checking text in the browser.","assertive")},"data-grammarly-part":"disableDesktopIntegrationToggle"}),lt=e=>o.createElement(i.r,{label:"Show emoji for detected tones",isSelected:e.enabled,onChange:e.toggle,"data-grammarly-part":"settings-toggle-show-emoji-for-detected-tones"}),ct=e=>o.createElement(i.r,{label:"Show Knowledge Share",isSelected:e.enabled,onChange:e.toggle}),ut=e=>o.createElement(s.k,{direction:"column",gap:2,className:nt.section},o.createElement(l.X,{as:"h3",className:nt.heading,color:"base-default"},o.createElement(s.k,{gap:2,justify:"start",align:"center"},"Accessibility")),o.createElement(i.r,{label:"Turn on enhanced screen reader support",isSelected:e.enabled,onChange:e.toggle})),dt=e=>o.createElement(qe.Z,{label:`Show “Get citation” button on ${e.domain}`,isSelected:e.enabled,onChange:e.toggle},"Show “Get citation” button on"," ",o.createElement(c.x,{as:"span",variant:"text-small",weight:"semibold",color:"base-default",style:{display:"block",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",maxWidth:250}},e.domain)),pt=e=>o.createElement(i.r,{label:e.label,isSelected:e.enabled,isDisabled:e.disabled,onChange:e.toggle,helperMessage:e.helperMessage}),gt=({showReportBugButton:e,...t})=>{var n,r,v;const f=t.advancedHistoryLoggerEnabledUntil?Math.ceil((t.advancedHistoryLoggerEnabledUntil-Date.now())/6e4):0;return o.createElement(u.x,{"data-grammarly-part":"debugMenu"},o.createElement(at,null),o.createElement(u.x,{className:nt.debugMenu},o.createElement(s.k,{direction:"column",gap:3},o.createElement(l.X,{as:"h3",className:nt.heading},o.createElement(c.x,{as:"span",color:"base-default"},"Debug Menu"),t.showHideButton&&o.createElement(d.z,{variant:"ghost",text:"Hide","data-grammarly-part":"debugMenuHideBtn",onClick:()=>{(0,w.OB)().bgRpc.api.toggleDebugMenu(!1)}})),o.createElement(i.r,{label:"Logging",onChange:e=>{e?(0,w.OB)().bgRpc.api.enableHistoryLoggerUntil(-1):(0,w.OB)().bgRpc.api.disableHistoryLogger()},"data-grammarly-part":"debugMenuLoggingToggle",isSelected:t.isEnabled}),o.createElement(at,null),o.createElement(qe.Z,{label:`Advanced Logging (${f} minutes left)`,isSelected:t.isAdvancedEnabled,isDisabled:!t.isEnabled,onChange:()=>{t.isAdvancedEnabled?(0,w.OB)().bgRpc.api.disableAdvancedHistoryLogger():(0,w.OB)().bgRpc.api.enableAdvancedHistoryLoggerUntil(Date.now()+36e5)}},"Advanced Logging"," ",t.isAdvancedEnabled&&null!==t.advancedHistoryLoggerEnabledUntil&&t.advancedHistoryLoggerEnabledUntil>0&&o.createElement(p.V,{label:`${f} mins left`,inline:!0})),o.createElement(at,null)),o.createElement(l.X,{as:"h4",className:nt.heading},o.createElement(d.z,{variant:"ghost",text:"Download Logs",className:nt.downloadBtn,isDisabled:!t.isEnabled,onClick:t.downloadDebugReports,"data-grammarly-part":"debugMenuDownloadLogBtn"}),!0===e.enabled&&o.createElement(a.r,{href:"#",underline:"hover",weight:"bold",className:nt.downloadBtn,"data-grammarly-part":"debugMenuReportBugBtn",onClick:()=>{e.onClick()}},o.createElement(s.k,null,o.createElement(c.x,{as:"span",variant:"text-small"},"Report a bug"),o.createElement(g.J,{icon:m.n,accessibilityLabel:"",size:"small",variant:"inherit"})))),t.showDebugPage&&o.createElement(o.Fragment,null,o.createElement(at,null),o.createElement(l.X,{as:"h4",className:nt.heading},o.createElement(a.r,{href:"#",underline:"hover",weight:"bold",className:nt.downloadBtn,"data-grammarly-part":"debugMenuDebugPageBtn",onClick:t.openDebugPage},o.createElement(s.k,null,o.createElement(c.x,{as:"span",variant:"text-small"},"View debug page"),o.createElement(g.J,{icon:m.n,accessibilityLabel:"",size:"small",variant:"inherit"}))))),null!=t.gOSDebugSettings?o.createElement(o.Fragment,null,o.createElement(at,null),o.createElement(u.x,{className:nt.gOSMenu},o.createElement(s.k,{direction:"column",gap:3},o.createElement(l.X,{as:"h3",className:nt.heading,color:"base-default"},"gOS Developer Settings"),o.createElement(i.r,{label:"Debugger",isSelected:t.gOSDebugSettings.debuggerEnabled,onChange:null===(n=t.gOSDebugSettings)||void 0===n?void 0:n.toggleDebugger,"data-grammarly-part":"gOSDebuggerToggle"}),o.createElement(at,null)),o.createElement(s.k,{className:nt.menuItem,justify:"space-between"},o.createElement(c.x,{as:"p",variant:"text-small",weight:"medium",color:"base-default",marginTop:2},"Applet Channel"),o.createElement("div",{style:{width:"106px"}},o.createElement(h.P,{id:"gos-applet-channel",value:null!==(r=t.gOSDebugSettings.appletChannel)&&void 0!==r?r:"stable",onChange:e=>{var n;null===(n=t.gOSDebugSettings)||void 0===n||n.setAppletChannel(e)},label:"Applet Channel",labelDisplay:"hidden"},o.createElement(h.P.Option,{value:"dev",label:"dev"}),o.createElement(h.P.Option,{value:"preview",label:"preview"}),o.createElement(h.P.Option,{value:"stable",label:"stable"}),o.createElement(h.P.Option,{value:"qa",label:"qa"})))),o.createElement(at,null),o.createElement(s.k,{className:nt.menuItem,justify:"space-between"},o.createElement(c.x,{as:"p",variant:"text-small",weight:"medium",color:"base-default",marginTop:2},"Assistant URL"),o.createElement("div",{style:{width:"190px"}},o.createElement(b.n,{labelDisplay:"hidden",label:"Assistant URL",id:"gos-assistant-applet-url",type:"url",placeholder:"e.g. http://localhost:3000/",value:null!==(v=t.gOSDebugSettings.assistantAppletUrl)&&void 0!==v?v:"",onChange:e=>{var n;null===(n=t.gOSDebugSettings)||void 0===n||n.setAssistantAppletUrl(e)}}))))):null))},mt=e=>{var t,i,r,d,p,h;const{actions:b,activeTab:x,config:T,settings:A,dapi:B,user:D,sessionTimeoutValue:I,siteCategory:O,placement:R,dynamicConfig:P,enableRenderingHack:L=!1,showCitationBuilderToggle:N=!0,citationBuilderSessionId:F,assistantSessionId:z,isCitationBuilderManualInvocationEnabled:K=!1,isKnowledgeHubSupported:V=!1,isTouchTypistSupported:W=!1,isIndianEnglishDialectSupported:j=!1,isCheetahSupported:J=!1,showSerengetiFeatureToggle:q=!1,isReportBugFeatureAllowed:$,isAutoApplySupported:X=!1,className:Y,downloadDebugReports:Q,isHumanWritingReportSupported:Z=!1,bgRpc:ee,gOSDebugSettings:te}=e,{isGoEnabledForInstitution:ne,isInstitutionManaged:oe}=(0,E.q)(),ae=(0,w.OB)().experimentClient,ie=null!=ne?ne:(0,Ke.i)(),se=function(){const[e,t]=o.useState(!1);return o.useEffect((()=>{(0,w.OB)().experimentClient.isGateEnabled(S.K.AssistantInSidePanel)&&(0,w.OB)().bgRpc.api.isSidePanelSupported().then(t)}),[]),e}()&&ie&&!oe,ge=(0,Ae.no)(A),{isBugReportFormOpen:me,BugReportForm:he,showReportBugButton:be,openBugReportForm:ve,closeBugReportForm:fe,handleBugReportSubmit:Se}=function(e,t,a,i){const[r,s]=o.useState(!1),[l,c]=o.useState(null),u=o.useMemo((()=>new Ye(e,t)),[e,t]),d=o.useMemo((()=>new Xe((async()=>await i.api.getAccessToken()),(async()=>await i.api.getCSRFToken()))),[i]),p=(0,Qe.G)(),g=o.useMemo((()=>(Ne.n.isGrammarlyEmployee(e)||Ne.n.isTestUser(e))&&a),[e,a]);o.useEffect((()=>{g&&!l&&n.e(6111).then(n.bind(n,16111)).then((e=>{c((()=>e.BugReportForm))}))}),[g,l]);const m=o.useCallback((async e=>{const t=u.createFormData(e),n=await u.buildCustomFormDataForSubmission(e,t);return await d.submitBugReport(n)}),[u,d]),h=o.useCallback((()=>{p.trackReportBugButtonClick(),s(!0)}),[p]),b=o.useCallback((()=>{s(!1)}),[]);return{isBugReportFormOpen:r,BugReportForm:l,showReportBugButton:g,openBugReportForm:h,closeBugReportForm:b,handleBugReportSubmit:m}}(D,T,$,ee);L&&o.useEffect((()=>{(0,ue.CB)()&&(self.screenLeft<0||self.screenTop<0||self.screenLeft>self.screen.width||self.screenTop>self.screen.height)&&chrome.runtime.getPlatformInfo((e=>{if("mac"===e.os){const e=new CSSStyleSheet;e.insertRule("\n            @keyframes redraw {\n              0% {\n                opacity: 1;\n              }\n              100% {\n                opacity: .99;\n              }\n            }\n          "),e.insertRule("\n            html {\n              animation: redraw 1s linear infinite;\n            }\n          "),document.adoptedStyleSheets=[...document.adoptedStyleSheets,e]}}))}),[]);const{anonymous:Ee}=D,ke=ae.isGateEnabled(S.K.ExtensionBugSubmissionForm),Te=(0,ue.i7)()&&Ne.n.isGrammarlyEmployee(D),Be=Ne.n.isGrammarlyEmployee(D)&&(0,Le.V)(ae),De=ae.isGateEnabled(S.K.KeyboardShortcut),{dialectSettings:Ie}=A,Oe=(null==Ie?void 0:Ie.dialect)||B.dialectStrong,Re=["british","american","australian","canadian",...j?["indian"]:[]],Pe=e.siteSwitcherChecked||{checked:!!A.enabled,update:t=>{const{siteCategory:n}=e;b.toggleSite(t,T.domain),M.J.checkingToggleClick("toolbar",n,t?"on":"off",T.domain),(0,U.Tb)().toggleExtension(t,"toolbar",(0,Fe.Cg)(T.domain))}},Ge=o.useCallback((e=>{const t=x&&new URL(x.url).pathname;b.toggleCitationBuilderForDomain({domain:T.domain,enabled:e,pathName:t,inAllowList:x&&(0,de.eC)(new URL(x.url),P)}),e||M.J.citePopupButtonDisable(T.domain,"permanent",F||"","toolbar",K&&!0===(0,de.gO)(T.domain,A))}),[null==x?void 0:x.url,T.domain,F]),Me=o.useCallback((e=>{var t;b.toggleAlwaysAvailableAssistant(e),function(e,t,n){var o;(null===(o=(0,f.O)().experimentClient)||void 0===o?void 0:o.isGateEnabled(S.K.LogAssistantNotchStatus))&&e.alwaysOnAssistantNotchToggle(y(n),!!t,y(t))}(M.J,e,null===(t=A.alwaysAvailableAssistantSettings)||void 0===t?void 0:t.enabled)}),[b,null===(t=A.alwaysAvailableAssistantSettings)||void 0===t?void 0:t.enabled]),He=(0,xe.Y)(A,ne),ze=function(){const[e,t]=(0,o.useState)(!1);return(0,o.useEffect)((()=>{if("undefined"==typeof chrome||!chrome.storage||!chrome.storage.onChanged)return;chrome.storage.local.get([je.jG],(e=>{t(!!e[je.jG])}));const e=(e,n)=>{"local"===n&&e[je.jG]&&t(!!e[je.jG].newValue)};return chrome.storage.onChanged.addListener(e),()=>{var t,n;"undefined"!=typeof chrome&&(null===(n=null===(t=null===chrome||void 0===chrome?void 0:chrome.storage)||void 0===t?void 0:t.onChanged)||void 0===n?void 0:n.removeListener)&&chrome.storage.onChanged.removeListener(e)}}),[]),e}(),qe=(0,Ce.s)(ae),$e=qe&&se,Ze=qe,et=null===(r=null===(i=A.alwaysAvailableAssistantSettings)||void 0===i?void 0:i.showNotch)||void 0===r||r,mt=o.useCallback((e=>{b.toggleShowNotch(e),z&&M.J.alwaysOnAssistantNotchEnabledChanged(z,e,"settings")}),[b,z]);if(ze)return o.createElement(u.x,{className:(0,Ue.cs)(nt.settingsContent,Y),"data-grammarly-part":"settings"},o.createElement(u.x,{className:ot.popupSettings},o.createElement(Je,null)));return o.createElement(u.x,{className:(0,Ue.cs)(nt.settingsContent,qe&&ot.superhumanSettingsContent,He&&qe&&nt.settingsContentSuperhumanGo,Y),"data-grammarly-part":"settings"},(()=>{const{customSessionTimeoutInfo:e}=D;return!!(0,We.Xv)(e,ae)&&(0,We.dU)(I)})()&&o.createElement(it,{openUrl:e.openUrl,authUserDetails:ge}),o.createElement(_e,{url:null==x?void 0:x.url,domain:T.domain}),o.createElement(u.x,{className:ot.popupSettings},o.createElement(s.k,{direction:"column",gap:qe&&He?6:3,marginBottom:A.isDebugMenuVisible||be?3:void 0},se&&o.createElement(we,{superhumanGoToggle:Me,superhumanGoEnabled:He,onSuperhumanGoEnabled:()=>{(0,w.OB)().bgRpc.api.openSuperhumanGoWelcomePage().catch((()=>{}))},settingsContentStyles:nt,isAllSettingsInSuperhumanGoSection:$e,onAllSettingsClick:()=>{e.openUrl((0,ue.Um)().allSettings),M.J.allSettingsButtonClick(R)},showNotchToggleEnabled:Ze,showNotch:et,onShowNotchToggle:mt,assistantSessionId:z,isCondensedLayout:qe&&He}),qe&&He?o.createElement(ye,{settings:A,dapi:B,config:T,dynamicConfig:P,user:D,actions:b,isCheetahSupported:null!=J&&J,isKnowledgeHubSupported:null!=V&&V,isTouchTypistSupported:null!=W&&W,isAutoApplySupported:null!=X&&X,isHumanWritingReportSupported:null!=Z&&Z,showCitationBuilderToggle:null!=N&&N,isCitationBuilderManualInvocationEnabled:null!=K&&K,showKeyboardShortcuts:De,activeTab:x,siteSwitcherChecked:Pe,siteCategory:O,anonymous:Ee,showSuperhumanGoBranding:ie,dialects:Re,dialectStrong:Oe,dialectSettings:Ie,toggleCitationBuilder:Ge}):(()=>{var t,n,i,r,u,d,p,h,v,f,S,y;return o.createElement(o.Fragment,null,o.createElement(l.X,{as:"h4",variant:"heading-large",className:nt.heading},o.createElement(c.x,{as:"span",color:"base-default"},"Quick Settings"),!$e&&o.createElement(a.r,{href:"#",underline:"hover",weight:"bold",onClick:()=>{e.openUrl((0,ue.Um)().allSettings),M.J.allSettingsButtonClick(R)}},o.createElement(s.k,{className:nt.allSettings},o.createElement(c.x,{as:"span",variant:"text-small"},"All Settings"),o.createElement(g.J,{icon:m.n,accessibilityLabel:"",size:"small",variant:"inherit"})))),pe.q.showSettingPopupToggle(B,A,P,null==x?void 0:x.url)&&o.createElement(o.Fragment,null,o.createElement(st,{toggle:e=>{b.setDesktopIntegration(e),M.J.desktopIntegrationToggleClick(e?"on":"off")},enabled:A.isDesktopIntegrationEnabled}),o.createElement(at,null)),o.createElement(ce.w,{domain:T.domain,enabledInConfig:null!==(t=T.enabled)&&void 0!==t&&t,siteSwitcherChecked:Pe,favicon:null==x?void 0:x.favIconUrl,siteCategory:O}),W&&o.createElement(o.Fragment,null,o.createElement(at,null),o.createElement(G,{userId:D.id,settings:A.touchTypistSettings,isMac:(0,w.nD)(),actions:b,gnar:M.J})),o.createElement(at,null),De&&o.createElement(o.Fragment,null,o.createElement(le,{isMac:(0,w.nD)(),isSuperhumanGoBrandingEnabled:ie,showVBarsShortcut:(0,ue.i7)(),currentOpenShortcut:null!==(i=null===(n=A.keyboardShortcuts)||void 0===n?void 0:n.openAssistant)&&void 0!==i?i:(0,_.e)("openAssistant"),currentCloseShortcut:null!==(u=null===(r=A.keyboardShortcuts)||void 0===r?void 0:r.closeAssistant)&&void 0!==u?u:(0,_.e)("closeAssistant"),currentVBarsShortcut:null!==(p=null===(d=A.keyboardShortcuts)||void 0===d?void 0:d.openVBar)&&void 0!==p?p:(0,_.e)("openVBar"),onSetShortcut:(e,t)=>{b.setKeyboardShortcut(e,t)}}),o.createElement(at,null)),J&&o.createElement(o.Fragment,null,o.createElement(tt,{openCheetahSettings:()=>e.openUrl((0,ue.Um)().featuresSettings),cheetahSettings:A.cheetah,cheetahToggleInlineQuickReply:b.cheetahToggleInlineQuickReply,cheetahToggleInlineRewrite:b.cheetahToggleInlineRewrite,showSerengetiFeatureToggle:q,serengetiEnabled:"disabled"!==B.serengetiState,serengetiToggle:e=>{b.setSerengetiState(!0===e?"enabled":"disabled")}}),o.createElement(at,null)),N&&(0,de.r4)(T.domain,P,K)&&o.createElement(o.Fragment,null,o.createElement(dt,{enabled:(0,de.Td)(T.domain,P,K,A),domain:T.domain,toggle:Ge}),o.createElement(at,null)),V&&o.createElement(o.Fragment,null,o.createElement(ct,{enabled:null===(v=null===(h=A.knowledgeHubSettings)||void 0===h?void 0:h.enabled)||void 0===v||v,toggle:e=>{b.toggleKnowledgeHub(e),M.J.knowledgeHubFeatureToggleClick("popup",C.JJ.fromDomain(T.domain),e?C.L5.on:C.L5.off),(0,U.Tb)().knowledgeHub.featureToggleClick(C.JJ.fromDomain(T.domain),e?C.L5.on:C.L5.off)}}),o.createElement(at,null)),o.createElement(H,{disabled:Ee,enabledDefs:A.enabledDefs,toggleDefs:b.toggleDefs}),(0,k.c)()&&o.createElement(o.Fragment,null,o.createElement(at,null),o.createElement(rt,{enabled:A.autocorrectEnabled||!1,isAutoApplySupported:X,toggle:e=>{b.toggleAutocorrect(e);const t=e?"on":"off";M.J.autocorrectToggleClick("popup",t),(0,U.Tb)().autoFix.featureToggleClick(t,"popup")}})),(!J||!1===(null===(S=null===(f=A.cheetah)||void 0===f?void 0:f.status)||void 0===S?void 0:S.cheetahEnabled))&&o.createElement(o.Fragment,null,o.createElement(at,null),o.createElement(lt,{enabled:"hide"!==B.emogenieEmojiState,toggle:e=>{b.setEmogenieEmojiState(!0===e?"show":"hide"),M.J.settingsShowEmojiForDetectedTonesToggleClick(T.domain,!0===e?"on":"off")}})),Z&&o.createElement(o.Fragment,null,o.createElement(at,null),o.createElement(pt,{label:"Grammarly Authorship",enabled:"enabled"===(null===(y=A.humanWritingReport)||void 0===y?void 0:y.kind),disabled:!1,toggle:e=>b.hwrSetEnabled(e),helperMessage:"Prove where your words come from by recording what you type and which sources you use. You choose how to share your information."})),o.createElement(at,null),o.createElement(re,{dialects:Re,changeStrongDialect:b.changeStrongDialect,dialectStrong:Oe,dialectWeak:B.dialectWeak,dropdownOnTop:!0,disabled:Ee,lock:{isLocked:Ee||Boolean(null==Ie?void 0:Ie.dialectLockedByInstitution),message:Ee?"Sign in to use this feature":"Locked by your organization"}}),o.createElement(at,null))})()),W&&o.createElement(ut,{enabled:A.isEnhancedScreenReaderUXSupported,toggle:b.toggleEnhancedScreenReaderUXSupport}),(A.isDebugMenuVisible||be)&&o.createElement(gt,{isAdvancedEnabled:A.advancedHistoryLoggerEnabled,isEnabled:A.historyLoggerEnabled,advancedHistoryLoggerEnabledUntil:A.advancedHistoryLoggerEnabledUntil,showDebugPage:Te,openDebugPage:e.openDebugPage,showReportBugButton:be?{enabled:!0,onClick:()=>{ke?ve():e.openReportBugForm(Ve.ZD({domain:T.domain,userType:Ve.Ng(D),version:(0,ue.bo)(),systemInfo:v.Rd().systemInfo}))}}:{enabled:!1},showHideButton:!be,downloadDebugReports:Q,gOSDebugSettings:null!=te?te:Be?{debuggerEnabled:null!==(d=A.gOSDebuggerEnabled)&&void 0!==d&&d,toggleDebugger:b.toggleGOSDebugger,appletChannel:null!==(p=A.gOSAppletChannel)&&void 0!==p?p:null,setAppletChannel:b.setGOSAppletChannel,assistantAppletUrl:null!==(h=A.gOSAssistantAppletUrl)&&void 0!==h?h:null,setAssistantAppletUrl:b.setGOSAssistantAppletUrl}:void 0})),he&&o.createElement(he,{isOpen:me,onClose:fe,onSubmit:Se}))}},78021:(e,t,n)=>{n.d(t,{Z:()=>E});var o=n(92379),a=n(61189),i=n(83542),r=n(50635),s=n(31702),l=n(52348),c=n(11163),u=n(4765),d=n(12712),p=n(1087),g=n(64803),m=n(13118);const h=["Control","Alt","Shift","Meta","CapsLock","NumLock","ScrollLock","AltGraph"],b=/^Digit\d$/,v=/^Key[A-Z]$/;function f(e,t,n=" "){const o=h.filter((t=>e.modifiers.includes(t))).map((e=>function(e,t){if(t){if("Meta"===e)return"Command";if("Alt"===e)return"Option"}return e}(e,t)));return e.key&&o.push(function(e){if(b.test(e)||v.test(e))return e.slice(-1);return e}(e.key)),o.join(n)}const S=({label:e,isMac:t,currentShortcut:n,onEdit:a,shouldAutofocusEditButton:i,shortcutSeparator:c=" ",editButton:u})=>{const d={onClick:a,autoFocus:i,"aria-label":`Edit ${e} shortcut`};return o.createElement(r.k,{justify:"space-between",align:"center",flex:"2",height:32,gap:1},o.createElement(s.x,{as:"p",variant:"text-small"},f(n,t,c)),o.createElement(r.k,null,u?o.cloneElement(u,d):o.createElement(l.z,{text:"Edit",variant:"ghost",...d})))},y=({label:e,isMac:t,currentShortcut:n,onSetShortcut:a,ariaDescribedBy:i,onExit:s,shortcutSeparator:l=" "})=>{const[h,b]=o.useState(n),[v,S]=o.useState(!0),[y,E]=o.useState(void 0),w=`${e.replace(/ /g,"-").toLowerCase()}-shortcut-description-id`;return o.createElement(o.Fragment,null,o.createElement(c.u,{id:w},"Type a shortcut to configure the ",e," shortcut. Press tab for actions."),o.createElement(u.n,{label:`${e} shortcut`,value:f(h,t,l),labelDisplay:"hidden",errorMessage:y,onKeyDown:e=>{if(["Tab","Enter","CapsLock","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","PageUp","PageDown","Home","End","Insert","Delete","Backspace"].includes(e.code))S(!0);else{if(e.preventDefault(),m.uU.includes(e.key))if(v)b({key:void 0,modifiers:[e.key]});else{const t=h.modifiers;t.includes(e.key)||b({key:h.key,modifiers:[...t,e.key]})}else b(v?{key:e.code,modifiers:[]}:{key:e.code,modifiers:h.modifiers});S(!1)}},onKeyUp:()=>{S(!0)},autoFocus:!0,"aria-describedby":i?`${w} ${i}`:w}),o.createElement(r.k,{gap:1},o.createElement(d.h,{icon:p.L,accessibilityLabel:`Save ${f(h,t)} as ${e} shortcut`,tooltipContentProps:{children:"Save shortcut"},onClick:()=>{!function(e){return void 0!==e.key}(h)?E("Invalid shortcut. Must use at least one non-modifier key."):(a(h),s())}}),o.createElement(d.h,{icon:g.V,accessibilityLabel:"Cancel edits",onClick:s,variant:"tertiary"})))};const E=({label:e,isMac:t,currentShortcut:n,onSetShortcut:l,ariaDescribedBy:c,disableLegacyLayout:u=!1,shortcutSeparator:d=" ",showLabel:p=!0,editButton:g,condensed:m=!1})=>{const[h,b]=o.useState(!1),[v,E]=o.useState(!1);o.useEffect((()=>{h&&E(!0)}),[h]);const w=h?o.createElement(y,{label:e,isMac:t,currentShortcut:n,onSetShortcut:n=>{l(n),a.E.announce(`Shortcut to ${e} is ${f(n,t)}`)},onExit:()=>b(!1),ariaDescribedBy:c,shortcutSeparator:d}):o.createElement(S,{label:e,isMac:t,currentShortcut:n,onEdit:()=>b(!0),shouldAutofocusEditButton:v,shortcutSeparator:d,editButton:g}),k=u?{}:{marginLeft:-2,marginRight:-2,borderRadius:3};return o.createElement(i.x,{bgColor:h&&!u?"background-base-subdued":"background-base-default",padding:m?0:2,...k},o.createElement(r.k,{gap:1,direction:"column"},p&&o.createElement(s.x,{as:"p",weight:"semibold",variant:"text-small"},e),o.createElement(r.k,{gap:3,flex:"2"},w)))}},7889:(e,t,n)=>{n.d(t,{Z:()=>s});var o=n(92379),a=n(50635),i=n(31702),r=n(76282);const s=({label:e,children:t,onChange:n,alignCenter:s,labelDisplay:l,...c})=>o.createElement(a.k,{justify:"space-between",align:s?"center":void 0},o.createElement(a.k,{direction:"column",gap:1},o.createElement(i.x,{as:"span",onClick:()=>{c.isDisabled||n(!c.isSelected)},variant:"text-small",weight:"medium",color:"base-default",style:{cursor:c.isDisabled?"not-allowed":"pointer"},"aria-hidden":!0},t),c.helperMessage&&o.createElement(i.x,{as:"p",variant:"text-xsmall",color:"base-subdued"},c.helperMessage)),o.createElement(r.r,{label:e,labelDisplay:"hidden",onChange:n,...c}))},67505:(e,t,n)=>{n.d(t,{R:()=>l,f:()=>c});var o=n(92379),a=n(50635),i=n(31702),r=n(62067),s=n(42496);const l=e=>o.createElement(a.k,{direction:"column",gap:2},o.createElement(s.z,{onClick:e.onSignUp,width:"full"},"Sign up"),o.createElement(a.k,{align:"center",justify:"center",gap:1},o.createElement(i.x,{as:"span",variant:"text-xsmall",color:"base-subdued"},"Already have an account?"),o.createElement(s.z,{onClick:e.onSignIn,variant:"ghost",size:"small","data-grammarly-part":"sign-in-button"},"Log in"))),c=e=>o.createElement(a.k,{direction:"column",gap:2},o.createElement(s.z,{onClick:()=>e.handleClick(r.VP.SignIn),width:"full"},"Sign in"),o.createElement(a.k,{align:"center",justify:"center",gap:1},o.createElement(i.x,{as:"span",variant:"text-xsmall",color:"base-subdued"},"Don't have an account?"),o.createElement(s.z,{onClick:()=>e.handleClick(r.VP.SignUp),variant:"ghost",size:"small"},"Sign up for free")))},98555:(e,t,n)=>{n.d(t,{EZ:()=>s,M8:()=>a,_r:()=>r,lY:()=>o,wU:()=>i});const o=348,a=24,i=o-2*a,r=4,s=0},21553:(e,t,n)=>{n.d(t,{G:()=>h});var o=n(92379),a=n(51109),i=n(29483),r=n(37435),s=n(16381);const l=n(40594).Y.create("BugReportTracking"),c="bug_report/report_bug_button_click",u="bug_report/form_open",d="bug_report/form_cancel",p="bug_report/form_submit",g="bug_report/success_popup_show";class m{constructor(e){this._productMetricsClient=e}createEvent(e){return{event_name:e,dataset_name:"client_ui_interaction",event_ts:Date.now(),client:"chromeExt",client_version:(0,s.bo)()}}async trackReportBugButtonClick(){const e=this.createEvent(c);l.debug("Tracking: Report Bug button click",e);try{await this._productMetricsClient.send(e,{additionalProps:[...r.m,...r.y]})}catch(e){l.error("Failed to track Report Bug button click",e)}}async trackFormOpen(){const e=this.createEvent(u);l.debug("Tracking: Form open",e);try{await this._productMetricsClient.send(e,{additionalProps:[...r.m,...r.y]})}catch(e){l.error("Failed to track form open",e)}}async trackFormCancel(){const e=this.createEvent(d);l.debug("Tracking: Form cancel",e);try{await this._productMetricsClient.send(e,{additionalProps:[...r.m,...r.y]})}catch(e){l.error("Failed to track form cancel",e)}}async trackFormSubmit(){const e=this.createEvent(p);l.debug("Tracking: Form submit",e);try{await this._productMetricsClient.send(e,{additionalProps:[...r.m,...r.y]})}catch(e){l.error("Failed to track form submit",e)}}async trackSuccessPopupShow(){const e=this.createEvent(g);l.debug("Tracking: Success popup show",e);try{await this._productMetricsClient.send(e,{additionalProps:[...r.m,...r.y]})}catch(e){l.error("Failed to track success popup show",e)}}}function h(){return o.useMemo((()=>{const e=a.Xb&&void 0!==a.Xb.isInited&&a.Xb.isInited?a.Xb.getInstance().productMetricsCSClient:(0,i.OB)().productMetricsCSClient;return new m(e)}),[])}},62162:(e,t,n)=>{n.d(t,{w:()=>p});var o=n(92379),a=n(31702),i=n(83542),r=n(7889),s=n(63349),l=n(8842);const c={position:"relative",display:"inline",top:s.ux.px(2),marginRight:s.ux.rem(l.F2)},u={display:"block",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",maxWidth:s.ux.px(250)},d=s.ux.stylesheet({favicon:[c],domainText:[u]}),p=e=>{const t="docs.google.com"===e.domain?"Google Docs":e.domain,{enabledInConfig:n,siteSwitcherChecked:s,favicon:l}=e,c=s.checked&&n,u=n?"Check for writing suggestions":"Checking is not supported";return o.createElement(r.Z,{label:`${u} on ${t}`,isSelected:c,isDisabled:!n,onChange:()=>{s.update(!c)},alignCenter:e.centeredToggle,"data-grammarly-part":"siteSwitcher"},o.createElement(a.x,{as:"span",variant:"text-small","data-test-attr":"siteControlsLabelText"},u," ",o.createElement("br",null),o.createElement(a.x,{as:"span",variant:"text-small",className:d.domainText},"on"," ",o.createElement(a.x,{as:"span",variant:"text-small",weight:"semibold"},l&&o.createElement(i.x,{className:d.favicon},o.createElement("img",{width:"16px",height:"16px",src:l,alt:""})),t))))}},58526:(e,t,n)=>{n.d(t,{Z:()=>T});var o=n(58303),a=n(90023),i=n(92379),r=n(44071),s=n(90572),l=n(14969),c=n(63349),u=n(31702),d=n(50635),p=n(39963),g=n(38364),m=n(62805),h=n(33839),b=n(16381),v=n(74609),f=n(8842),S=n(61483),y=n(98555);const E={paddingBlock:c.ux.rem(f.qp),maxWidth:c.ux.px(y.wU),margin:"auto",textAlign:"center",userSelect:"none"},w={borderTopWidth:1,borderTopStyle:"solid",borderTopColor:S.I.Border.Base.Subdued},k={borderBottomWidth:1,borderBottomStyle:"solid",borderBottomColor:S.I.Border.Base.Subdued},C={marginBlock:c.ux.rem(f.x)},x=c.ux.stylesheet({content:[E],borderTop:[w],borderBottom:[k],premiumButton:[C]}),T=({user:e,isAssistant:t,openSubscriptionDialog:n,hasInProductDiscountSpecialOffer:f,uphookConfiguration:S,trackUphookHubEvent:y,experimentClient:E})=>{const{registrationDate:w,anonymous:k,premium:C}=e,T=(0,g.p6)(w);if(k||C)return null;const A=(0,i.useMemo)((()=>(0,a.zG)(f,o.tS((e=>e?o.G("discountPro"):o.G("pro"))),o.wp((()=>o.G("pro"))))),[f]),B=()=>{y("show",S),(0,a.zG)(A,o.UI((e=>{(0,m.nE)(v.J,{placement:t?"assistantSettings":"settingsToolbar",bannerType:"GoPremiumToEnableAdvancedFixes",upgradeHookName:"extensionSettings",upgradeHookSlot:t?"assistantSettingsPopup":"browserToolbar",upgradeHookVariant:e,experimentClient:E}),(0,p.Tb)().upgradeHooks.showUpgradeHook("extensionSettings",t?"assistantSettingsPopup":"browserToolbar",e)})))};i.useEffect((()=>{(0,a.zG)(A,o.UI((()=>{if((0,b.G6)()){const e=(0,r.R)(document,"visibilitychange").pipe((0,s.h)((()=>"visible"===document.visibilityState))).subscribe((()=>{B()}));return()=>e.unsubscribe()}return B(),()=>{}})))}),[A]);const D=i.useCallback((()=>{S.pipe((0,s.h)(o.pC),(0,l.P)()).subscribe((e=>{n({overrideUrl:e.value.content.ctaUrl,utmCampaign:"extensionSettingsToolbar"})})),y("click",S),(0,a.zG)(A,o.UI((e=>{(0,m.Qi)(v.J,{placement:t?"assistantSettings":"settingsToolbar",bannerType:"GoPremiumToEnableAdvancedFixes",upgradeHookName:"extensionSettings",upgradeHookSlot:t?"assistantSettingsPopup":"browserToolbar",upgradeHookVariant:e,experimentClient:E}),(0,p.Tb)().upgradeHooks.clickUpgradeHook("extensionSettings",t?"assistantSettingsPopup":"browserToolbar",e)}))),(0,p.Tb)().userUpgradeClick("settingsToolbar")}),[A]),I=T?i.createElement(u.x,{as:"span",variant:"text-small","data-test-attr":"checked_since",color:"base-default"},"Grammarly has been correcting your text since ",T,"."):null;return i.createElement("div",{className:t?x.borderTop:void 0},i.createElement(d.k,{className:c.ux.joinClasses([x.content,t?void 0:x.borderBottom]),direction:"column",align:"center"},I,i.createElement(h.Y,{onClick:D,className:x.premiumButton,dataGrammarlyPart:"settings-upgrade-button",cta:(0,a.zG)(S.get(),o.UI((e=>e.content.ctaCopy)),o.wp((()=>(0,a.zG)(f,o.tS((e=>e?o.G("Get 50% off Pro"):o.YP))))),o.fS((()=>"Get Pro")))})))}},62531:(e,t,n)=>{n.d(t,{I:()=>c});var o=n(92379),a=n(6882),i=n(6188),r=n(32295),s=n(47052),l=n(44402);const c=e=>{var t,n,c;return o.useEffect((()=>{e.trackPopupShow()}),[]),o.createElement("div",{className:l.wrapper},o.createElement(s.h,null),o.createElement("div",{className:l.content},o.createElement(a.h4,{sanitizedTitle:i.c.sanitizeSuspendTitle(null===(t=e.popupDynamicConfig)||void 0===t?void 0:t.popupTitleHTML)}),o.createElement(a.uT,{sanitizedBody:i.c.sanitizeSuspendBody(null===(n=e.popupDynamicConfig)||void 0===n?void 0:n.popupBodyHTML)}),o.createElement(r.StandWithUkraineSuspendFooter,{onLearnMore:e.onLearnMore,sanitizedLearnMoreButtonLabelHTML:i.c.sanitizeSuspendLearnMoreLabel(null===(c=e.popupDynamicConfig)||void 0===c?void 0:c.popupLearnMoreButtonLabelHTML)})))}},79477:(e,t,n)=>{n.d(t,{X:()=>p});var o=n(20161),a=n(50750),i=n(59179),r=n(87846),s=n(25693),l=n(15362),c=n(19724),u=n(86130),d=n(43795);const p=(e,t)=>e.view().pipe(o.w((e=>{var n;const o=null!==(n=e.activeTab)&&void 0!==n?n:l.pN,p=(0,s.KK)(o.url);return a.D((async()=>({pageConfig:await t.api.getPageConfig(p,o.url)}))()).pipe(i.U((({pageConfig:t})=>{var n,a,i,s,m,h,b,v,f;const S=null!==(n=e.extensionSettings)&&void 0!==n?n:l.he;return{user:null!==(a=e.user)&&void 0!==a?a:c.n.defaultUser,tabs:{active:o},dynamicConfig:null!==(i=e.dynamicConfig)&&void 0!==i?i:u.cS,config:{...t,domain:p},settings:g(S,p),dapi:null!==(s=e.dapi)&&void 0!==s?s:{},connection:null!==(m=e.connection)&&void 0!==m?m:{},activeTab:o,installSource:null!==(h=e.extensionInstallSource)&&void 0!==h?h:"unknown",growth:null!==(b=e.growthSettings)&&void 0!==b?b:{},extensionFSM:null!==(v=e.extensionFSM)&&void 0!==v?v:l.uS,sessionTimeoutValue:(0,d.GH)(e[r.N]),passport:null!==(f=e.passport)&&void 0!==f?f:{}}})))})));function g(e,t){var n;const o=e[t],a=null===(n=null==o?void 0:o.enabled)||void 0===n||n;return{...e.common,...o,enabled:a}}},74609:(e,t,n)=>{n.d(t,{J:()=>a});var o=n(29483);const a=new Proxy({},{get:(e,t)=>(...e)=>(0,o.OB)().bgRpc.api.trackGnar(t,e)})},72526:(e,t,n)=>{n.d(t,{yw:()=>g});var o=n(56863),a=n(62067),i=n(51109),r=n(74609),s=n(35248),l=n(16381);let c;function u(){return null!=c?c:c={permissions:["cookies"],origins:[(0,l.Vi)()]}}var d=n(95404),p=n(72965);function g({dynamicConfig:e,checkPermissions:t=(()=>async function(e){var t;if(!0!==(null==e?void 0:e.requireAuthCookieAccess))return!0;const n=null===(t=(0,i.OB)().browserApi.permissions)||void 0===t?void 0:t.contains;if(!n)return!0;return await n(u())}(e)),requestPermissions:n=(()=>async function(e){var t;if(!0!==(null==e?void 0:e.requireAuthCookieAccess))return!0;const n=null===(t=(0,i.OB)().browserApi.permissions)||void 0===t?void 0:t.request;if(!n)return!0;return await n(u())}(e)),actions:l}={}){const{bindSignIn:c,...g}=(0,p.z)({checkPermissions:t,requestPermissions:n});return{...g,bindSignIn:c,onSignIn:c((e=>{const t={utmCampaign:"toolbarMenu",utmSource:"signinHook"};if((0,s.B)((0,i.OB)().experimentClient)){(0,i.OB)().bgRpc.api.launchAuthFlow(!1,{...(0,o.xW)(e),...(0,d.OC)((0,d.g7)(t))})}else{const n=(0,i.OB)().browserApi;n.beginOAuth?n.beginOAuth():n.openUrl((0,d.s7)({...e,action:a.VP.SignIn},t))}null==l||l.beginAuth(),r.J.signInButtonClick("toolbar")})),onSignUp:c(((e,t)=>{const n={utmCampaign:"toolbarMenu",utmSource:"signupHook"};if((0,s.B)((0,i.OB)().experimentClient)){(0,i.OB)().bgRpc.api.launchAuthFlow(!0,{...(0,o.xW)(e),...(0,d.OC)((0,d.g7)(n))})}else{const o=(0,i.OB)().browserApi;if(o.beginOAuth)o.beginOAuth();else{const i=(0,d.Xc)({...e,action:a.VP.SignUp},n),r="webstore"===t?(0,d.My)(i,t):i;o.openUrl(r)}null==l||l.beginAuth(),r.J.signUpButtonClick("toolbar")}}))}}},32626:(e,t,n)=>{n.d(t,{z:()=>o});const o=e=>{const{setDAPIProp:t,fetchAllDAPIPropsRateLimited:n}=e.api;return{reloadPropsRateLimited:async()=>{await n()},modifyCheetahOnboardingState:async e=>{const o=(await n())["cheetah:onboardingState"]||"";await t("cheetah:onboardingState",e(o))},changeStrongDialect:async e=>{await t("dialectStrong",e)},setEmogenieEmojiState:async e=>{await t("emogenieEmojiState",e)},setSerengetiState:async e=>{await t("serengetiState",e)},setGetStartedChecklistState:async e=>{await t("DN:getStartedChecklistSettings",e)},setPersonalizedInsightsConsentState:async e=>{await t("personalizedInsightsConsent:onboardingState:extension",e)}}}},35248:(e,t,n)=>{n.d(t,{B:()=>a});var o=n(70843);const a=e=>"test"===(null==e?void 0:e.getTreatment(o.p.OAuth2Phase2Interactive))},60508:(e,t,n)=>{n.d(t,{Z:()=>c});var o=n(92379),a=n(63349),i=n(50635),r=n(36279),s=n(69554),l=n(52348);const c=({title:e,titleIcon:t,headerImage:n,centerContent:l,contentGap:c=3,children:d})=>{if(u(d))throw new Error("GDS Button components are not allowed as children because they currently do not work with keyboard navigation in Shadow DOM. Please use universal/cs/ui/components/popups/button/Button instead.");return o.createElement(i.k,{align:l?"center":void 0,direction:"column",gap:c,className:p.maxWidthContainer},n,o.createElement(i.k,{gap:2,className:p.maxWidthContainer},t&&o.createElement(r.J,{icon:t,size:"large",accessibilityLabel:"",className:p.titleIcon}),o.createElement(s.X,{as:"h2",variant:"heading-xsmall",className:a.ux.joinClasses([p.titleHeading,l?p.titleCentered:void 0])},e)),d)};function u(e){return!!e&&(Array.isArray(e)?e.some(u):!!o.isValidElement(e)&&(e.type===l.z||u(e.props.children)))}const d={textAlign:a.ux.important("center")},p=a.ux.stylesheet({maxWidthContainer:[{maxWidth:"100%"}],titleIcon:[{minWidth:24}],titleHeading:[{overflow:"hidden",textOverflow:"ellipsis"}],titleCentered:[d]})},46599:(e,t,n)=>{n.d(t,{DataControlPopupDefault:()=>u});var o=n(92379),a=n(36279),i=n(16475),r=n(50635),s=n(19347),l=n(42496),c=n(60508);const u=e=>o.createElement(c.Z,{title:"Grammarly isn't active yet!",headerImage:o.createElement(a.J,{icon:i.F,size:"large",accessibilityLabel:""}),centerContent:!0},o.createElement(l.z,{onClick:e.openAcceptPage,width:"full"},o.createElement(r.k,{gap:2,align:"center"},o.createElement("span",null,"Activate Grammarly"),o.createElement(a.J,{icon:s.n,size:"small",variant:"inverse",accessibilityLabel:""}))));class d extends o.Component{constructor(){super(...arguments),this.openAcceptPage=()=>{env().bgRpc.api.openDataControl()}}render(){return React.createElement(PopupContainer,{onClose:this.props.remove,arrowPosition:this.props.isFlipped?"top-right":"bottom-right",animateIn:!0},React.createElement(u,{openAcceptPage:this.openAcceptPage}))}}},28240:(e,t,n)=>{n.d(t,{w:()=>r});var o=n(92379),a=n(4026),i=n(94e3);class r extends o.Component{constructor(e){super(e)}render(){const{institutionName:e,ssoUrl:t}=this.props;return o.createElement("div",{className:(0,a.cs)(i.managedSSOControl,i.settings)},o.createElement("div",{className:i.illustration}),o.createElement("p",{className:i.title},"Grammarly isn’t active yet!"),o.createElement("p",{className:i.text},"To begin using Grammarly, you need to sign in with SSO under the ",o.createElement("b",null,e)," ","organization."),o.createElement("div",{className:i.signInWithSSO},o.createElement("a",{tabIndex:-1,target:"__blank",href:t},"SIGN IN WITH SSO")))}}},4026:(e,t,n)=>{n.d(t,{ZT:()=>l,cn:()=>a,cs:()=>s,on:()=>i});var o=n(31272);function a(e,t){if(e){if(-1===t.indexOf(" "))return e.classList.add(t);{const n=t.split(" ");for(let t=0;t<n.length;t++)e.classList.add(n[t])}}}function i(e,t=null,n){return this.addEventListener(e,t,n),{off:()=>r.apply(this,[e,t,n])}}function r(e,t,n){this.removeEventListener(e,t||null,n)}function s(...e){return e.reduce(((e,t)=>e.concat((0,o.Kn)(t)?Object.keys(t).filter((e=>t[e])):t)),[]).filter((e=>Boolean(e))).join(" ")}function l(e,t={}){const n=document.createEvent("CustomEvent");n.initCustomEvent(e+"-gr",!0,!0,t),document.dispatchEvent(n)}},86837:(e,t,n)=>{n.d(t,{a:()=>a});var o=n(40594);const a=e=>{const t=o.Y.create("AuthActions");return{beginAuth:()=>{t.debug("beginAuth"),e.patch({authenticationStarted:(new Date).toISOString()})}}}},89512:(e,t,n)=>{n.d(t,{j:()=>o});const o=e=>{let t;const n=()=>(t||(t={networkOffline:!self.navigator.onLine,online:!0}),t),o=async()=>{const{connection:t}=await e.get(["connection"]);return null!=t?t:n()};return{initConnection:async()=>{const{connection:t}=await e.get(["connection"]);t||await e.patch({connection:n()})},modifyConnection:async t=>{const n=await o();return e.patch({connection:{...n,...t}})},setOffline:async t=>{const n=await o();if(n.networkOffline!==t)return e.patch({connection:{...n,networkOffline:t}})}}}},24534:(e,t,n)=>{n.d(t,{k:()=>o});const o=e=>({modifyEnvironment:async t=>{const{environmentState:n}=await e.get(["environmentState"]);return e.patch({environmentState:{...n,...t}})}})},15933:(e,t,n)=>{n.d(t,{q:()=>i});var o=n(84674),a=n(15362);const i=e=>({gdocsOptedIn:()=>{return e.patch({extensionSettings:(0,o.J_)(null!==(t=e.view("extensionSettings").get())&&void 0!==t?t:a.he,"docs.google.com",{enabled:!0,disabledDate:void 0})});var t}})},31715:(e,t,n)=>{n.d(t,{R:()=>i});var o=n(13162),a=n(84674);function i(e){const t=()=>e.view("extensionSettings").view((e=>{var t,n;return null!==(n=null===(t=null==e?void 0:e.common)||void 0===t?void 0:t.keyboardShortcuts)&&void 0!==n?n:{openAssistant:(0,o.e)("openAssistant"),closeAssistant:(0,o.e)("closeAssistant"),openVBar:(0,o.e)("openVBar")}}));return{getKeyboardShortcuts:t,setKeyboardShortcut:n=>{const o=(0,a.gC)(e),i=t().get();return e.patch({extensionSettings:(0,a.k1)(o(),{keyboardShortcuts:{...i,...n}})})}}}},42900:(e,t,n)=>{n.d(t,{QP:()=>d});var o=n(27982),a=n(11816),i=n(28898),r=n(84674),s=n(33976),l=n(20905),c=n(31715);function u(e){var t;return null!==(t=e.common.alwaysAvailableAssistantSettings)&&void 0!==t?t:s.Nr}const d=e=>{const t=(0,r.gC)(e);return{toggleDefs:n=>e.patch({extensionSettings:(0,r.k1)(t(),{enabledDefs:n})}),toggleAutocorrect:n=>e.patch({extensionSettings:(0,r.k1)(t(),{autocorrectEnabled:n})}),toggleAlwaysAvailableAssistant:n=>function(e,t,n,a){var s;void 0===n&&(n=(0,r.gC)(e)),void 0===a&&(a=null===(s=(0,i.O)().experimentClient)||void 0===s?void 0:s.isGateEnabled(o.K.CheckTextWhenTurnOnAAA));const l=n(),c=u(l);return e.patch({extensionSettings:(0,r.k1)(l,{alwaysAvailableAssistantSettings:{...c,enabled:t},...a&&{isDesktopIntegrationEnabled:!t&&l.common.isDesktopIntegrationEnabled}})})}(e,n,t),toggleShowNotch:n=>{const o=t(),a=u(o);return e.patch({extensionSettings:(0,r.k1)(o,{alwaysAvailableAssistantSettings:{...a,showNotch:n}})})},toggleTouchTypist:n=>{var o;const i=null!==(o=t().common.touchTypistSettings)&&void 0!==o?o:a.Y;return e.patch({extensionSettings:(0,r.k1)(t(),{touchTypistSettings:{...i,enabled:n,snoozedUntil:null}})})},setTouchTypistToggledByUser:({userId:n,value:o})=>{var i,s,l;const c=null!==(i=t().common.touchTypistState)&&void 0!==i?i:a.c,u=null!==(s=c.autoOptOutExperiment)&&void 0!==s?s:{},d={...null!==(l=u[n])&&void 0!==l?l:{},enabledToggledByUser:o};return e.patch({extensionSettings:(0,r.k1)(t(),{touchTypistState:{...c,autoOptOutExperiment:{...u,[n]:d}}})})},toggleTouchTypistByUser:({enabled:n,userId:o})=>{var i,s,l,c;const u=t(),d=null!==(i=u.common.touchTypistSettings)&&void 0!==i?i:a.Y,p=null!==(s=u.common.touchTypistState)&&void 0!==s?s:a.c,g=null!==(l=p.autoOptOutExperiment)&&void 0!==l?l:{},m={...null!==(c=g[o])&&void 0!==c?c:{},enabledToggledByUser:!0};return e.patch({extensionSettings:(0,r.k1)(u,{touchTypistSettings:{...d,enabled:n,snoozedUntil:null},touchTypistState:{...p,autoOptOutExperiment:{...g,[o]:m}}})})},snoozeTouchTypist:()=>{var n;const o=null!==(n=t().common.touchTypistSettings)&&void 0!==n?n:a.Y;return e.patch({extensionSettings:(0,r.k1)(t(),{touchTypistSettings:{...o,enabled:!1,snoozedUntil:new Date((new Date).getTime()+l.xO).toISOString()}})})},setTouchTypistHotkey:({hotkey:n})=>{var o;const i=null!==(o=t().common.touchTypistSettings)&&void 0!==o?o:a.Y;return e.patch({extensionSettings:(0,r.k1)(t(),{touchTypistSettings:{...i,hotkey:n}})})},incrementAccessibilityOnboardingAlertsCount:()=>{var n;const o=null!==(n=t().common.touchTypistState)&&void 0!==n?n:a.c,{accessibilityOnboardingAlertsCount:i=a.c.accessibilityOnboardingAlertsCount}=o;return e.patch({extensionSettings:(0,r.k1)(t(),{touchTypistState:{...o,accessibilityOnboardingAlertsCount:i+1}})})},incrementTouchTypistUserAcceptedCount:()=>{var n;const o=null!==(n=t().common.touchTypistState)&&void 0!==n?n:a.c;return e.patch({extensionSettings:(0,r.k1)(t(),{touchTypistState:{...o,userAcceptedCount:Math.min(o.userAcceptedCount+1,3),lastUserAcceptedAt:(new Date).toISOString()}})})},setHasBeenAutoOptedOut:({userId:n,hasBeenAutoOptedOut:o})=>{var i,s,l;const c=null!==(i=t().common.touchTypistState)&&void 0!==i?i:a.c,u=null!==(s=c.autoOptOutExperiment)&&void 0!==s?s:{},d={...null!==(l=u[n])&&void 0!==l?l:{},hasBeenAutoOptedOut:o};return e.patch({extensionSettings:(0,r.k1)(t(),{touchTypistState:{...c,autoOptOutExperiment:{...u,[n]:d}}})})},toggleCitationBuilderForDomain:({domain:n,enabled:o,pathName:a,inAllowList:i})=>{var l;const c=null!==(l=t().common.citationBuilder)&&void 0!==l?l:s.KC.empty;return e.patch({extensionSettings:(0,r.k1)(t(),{citationBuilder:{...c,domains:{...c.domains,[n]:{disabled:!o,toggleDate:(new Date).getTime(),togglePathName:a,inAllowList:i}}}})})},toggleTranslateOnboardingForDomain:({domain:n,enabled:o})=>{var a;const i=null!==(a=t().common.translateOnboarding)&&void 0!==a?a:s.aK.empty;return e.patch({extensionSettings:(0,r.k1)(t(),{translateOnboarding:{...i,domains:{...i.domains,[n]:{disabled:!o}}}})})},toggleSite:({enabled:n,domain:o,clickToRunEnabled:a})=>e.patch({extensionSettings:(0,r.J_)(t(),o,{enabled:n,disabledDate:!0===n?void 0:Date.now(),...void 0!==a?{clickToRunEnabled:a}:void 0})}),setKeyboardShortcut:t=>(0,c.R)(e).setKeyboardShortcut(t),toggleEnhancedScreenReaderUXSupport:n=>e.patch({extensionSettings:(0,r.k1)(t(),{isEnhancedScreenReaderUXSupported:n})})}}},55830:(e,t,n)=>{n.d(t,{q:()=>u});var o=n(86837),a=n(89512),i=n(24534),r=n(15933),s=n(44814),l=n(42900),c=n(18428);const u=e=>({quickSettings:(0,l.QP)(e),gdocs:(0,r.q)(e),settings:(0,c.C)(e),connection:(0,a.j)(e),tabs:(0,s.a)(e),environment:(0,i.k)(e),auth:(0,o.a)(e)})},18428:(e,t,n)=>{n.d(t,{C:()=>a});var o=n(84674);const a=e=>{const t=(0,o.gC)(e);let n=Promise.resolve();const a=async a=>{const i=n.then((async()=>{const n=t();Object.keys(a).every((e=>a[e]===n.common[e]))||await e.patch({extensionSettings:(0,o.k1)(n,a)})}));return n=i.catch((()=>{})),i};return{patchCommonSettings:a,setDesktopIntegration:e=>a({isDesktopIntegrationEnabled:e}),enableClickToRunOnAllSites:()=>a({clickToRunOnAllSites:!0}),enableHistoryLoggerUntil:e=>a({historyLoggerEnabledUntil:e}),disableHistoryLogger:()=>a({historyLoggerEnabledUntil:0}),enableAdvancedHistoryLoggerUntil:e=>a({advancedHistoryLoggerEnabledUntil:e}),disableAdvancedHistoryLogger:()=>a({advancedHistoryLoggerEnabledUntil:0}),disableOnTab:n=>e.patch({extensionSettings:(0,o.J_)(t(),n,{enabled:!1,disabledDate:Date.now()})}),toggleDebugMenu:(e=!0)=>a({isDebugMenuVisible:e}),toggleGOSDebugger:e=>a({gOSDebuggerEnabled:e}),setGOSAppletChannel:e=>a({gOSAppletChannel:e}),setGOSAssistantAppletUrl:e=>a({gOSAssistantAppletUrl:e})}}},44814:(e,t,n)=>{n.d(t,{a:()=>a});var o=n(25693);const a=e=>({enableOnceClickToRun:async()=>{const{clickToRunEnabledOnce:t,activeTab:n}=await e.get(["clickToRunEnabledOnce","activeTab"]);return e.patch({clickToRunEnabledOnce:{...null!=t?t:{},...n?{[n.id]:{[(0,o.KK)(n.url)]:!0}}:{}}})},setActiveTab:t=>e.patch({activeTab:t})})},33976:(e,t,n)=>{n.d(t,{KC:()=>a,Nr:()=>l,aK:()=>i});var o,a,i,r=n(12518),s=n(19724);!function(e){e.fromUserType=e=>{switch(e){case s.F.premium:return r.F2("premium");case s.F.registered:return r.F2("free");default:return r.t$("unknownUserType")}}}(o||(o={})),function(e){let t;!function(e){e.apa="apa",e.mla="mla",e.chicago="chicago"}(t=e.Style||(e.Style={})),e.empty={domains:{},onboardingVersionSeen:-1,style:t.apa}}(a||(a={})),function(e){e.empty={domains:{}}}(i||(i={}));const l={showNotch:!0};var c;!function(e){let t;!function(e){e.SUGGESTED_TERM="suggestedTermOnboardingSeen",e.TERM_DETAILS="onboardingSeen"}(t=e.OnboardingSeenFor||(e.OnboardingSeenFor={})),e.empty={enabled:!0,[t.SUGGESTED_TERM]:!1,[t.TERM_DETAILS]:!1},e.get=t=>({...e.empty,...t})}(c||(c={}))},4972:(e,t,n)=>{var o;n.d(t,{y:()=>o}),function(e){e.gdocs="gdocs",e.other="other"}(o||(o={}))},72965:(e,t,n)=>{n.d(t,{z:()=>i});var o=n(92379);const a=n(40594).Y.create("Hooks.Auth.useSignIn");function i({checkPermissions:e,requestPermissions:t}){const[n,i]=(0,o.useState)(),r=Boolean(n),[s,l]=(0,o.useState)(!1);return{needPermissions:r,requestingPermissions:s,bindSignIn:t=>(n,o)=>{r||s||e().then((e=>{e?(i(void 0),t(n,o)):i((()=>{t(n,o)}))})).catch((e=>{a.warn(`There was an error during checkPermissions: ${e}`)}))},onRequestPermissions:()=>{s||(l(!0),t().then((e=>{l(!1),e&&(i(void 0),null==n||n())})))}}}},72032:(e,t,n)=>{n.d(t,{T:()=>a});var o=n(18473);function a(e){return(0,o.Y)()?e:"grammarly"}},18473:(e,t,n)=>{n.d(t,{Y:()=>l});var o=n(92379),a=n(49652),i=n(90595),r=n(15380),s=n(29483);function l(){const[e,t]=(0,o.useState)(!1);return(0,o.useEffect)((()=>{var e,n,o,l;const c=async()=>{try{const[e,n,o]=await Promise.all([(0,s.OB)().bgRpc.api.getUserGoExperience(),(0,s.OB)().bgRpc.api.getAlwaysAvailableAssistantSettings(),(0,a.kA)()]);if(void 0!==o)return void t(o);const r=(0,s.OB)().experimentClient.isGateEnabled(i.K.SuperhumanGoBranding),l=null!=e&&e,c=!!(null==n?void 0:n.enabled);t((r||l)&&c)}catch(e){t(!1)}};c();const u=()=>{c()};return(null===(n=null===(e=(0,s.OB)())||void 0===e?void 0:e.message)||void 0===n?void 0:n.on)&&(null===(l=null===(o=(0,s.OB)())||void 0===o?void 0:o.message)||void 0===l||l.on(r.I.Kind.brandingChanged,u)),()=>{var e,t,n,o;(null===(t=null===(e=(0,s.OB)())||void 0===e?void 0:e.message)||void 0===t?void 0:t.off)&&(null===(o=null===(n=(0,s.OB)())||void 0===n?void 0:n.message)||void 0===o||o.off(r.I.Kind.brandingChanged,u))}}),[]),e}},1527:(e,t,n)=>{n.d(t,{u:()=>a});var o=n(92379);const a=()=>o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"none"},o.createElement("g",{clipPath:"url(#a)"},o.createElement("rect",{width:"23.771",height:"21.029",x:"1.829",y:"6.4",fill:"#fff",stroke:"#1C1C1C",rx:"2.667"}),o.createElement("path",{fill:"#fff",stroke:"#1C1C1C",d:"M1.829 9.067A2.667 2.667 0 0 1 4.495 6.4h18.438A2.667 2.667 0 0 1 25.6 9.067v2.361H1.829V9.067Z"}),o.createElement("ellipse",{cx:"4.688",cy:"8.886",fill:"#1C1C1C",rx:".468",ry:".457"}),o.createElement("ellipse",{cx:"6.235",cy:"8.886",fill:"#1C1C1C",rx:".468",ry:".457"}),o.createElement("ellipse",{cx:"7.783",cy:"8.886",fill:"#1C1C1C",rx:".468",ry:".457"}),o.createElement("path",{stroke:"#1C1C1C",d:"M6.61 16.914h14.067M6.61 21.654h14.067"}),o.createElement("path",{fill:"#FFDC85",stroke:"#1C1C1C",d:"M30.814 11.086a8.071 8.071 0 1 1-16.143 0 8.071 8.071 0 0 1 16.143 0Z"}),o.createElement("path",{fill:"#FCFCFC",stroke:"#1C1C1C",d:"M22.546 5.66a.269.269 0 0 1 .465 0l4.811 8.333a.269.269 0 0 1-.233.403h-9.621a.269.269 0 0 1-.233-.403l4.81-8.332Z"}),o.createElement("path",{stroke:"#1C1C1C",d:"M22.888 8.311v3.228M22.888 12.343v.774"})),o.createElement("defs",null,o.createElement("clipPath",{id:"a"},o.createElement("path",{fill:"#fff",d:"M0 0h32v32H0z"}))))},20785:(e,t,n)=>{n.d(t,{T:()=>c});var o=n(92379),a=n(79707),i=n(53278);const r=o.memo((function(e){const t="mini"===e.type?i.Ko:i.$C;return o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:e.width,height:e.height,fill:"none",className:e.className,viewBox:`0 0 ${t} 32`,"data-grammarly-part":e.dataGrammarlyPart,"aria-label":e.ariaLabel,"aria-hidden":e.ariaHidden},o.createElement("g",null,o.createElement("path",{fill:e.backgroundColor,d:"M31.705 8.54a9 9 0 0 0-8.27-8.256A95 95 0 0 0 8.54.3a8.99 8.99 0 0 0-8.256 8.27A95 95 0 0 0 .3 23.46a9 9 0 0 0 8.27 8.254 95 95 0 0 0 14.894-.014 9 9 0 0 0 8.256-8.27c.383-4.957.38-9.934-.014-14.892M16.04 5.1a3.226 3.226 0 0 1 3.23 3.221 3.226 3.226 0 0 1-3.23 3.222 3.226 3.226 0 0 1-3.23-3.222A3.226 3.226 0 0 1 16.04 5.1m6.096 21.226h.003l-5.608-3.071a1.02 1.02 0 0 0-.982 0l-5.608 3.07c-.903.494-1.887-.507-1.367-1.39l6.59-11.163a1.018 1.018 0 0 1 1.75 0l6.59 11.163c.519.883-.462 1.884-1.368 1.39"}),"mini"!==e.type&&o.createElement(o.Fragment,null,o.createElement("path",{d:"M144.444 14.186V8.35h3.674v15.3h-3.674v-6.274h-6.505v6.274h-3.675V8.35h3.675v5.836zM51.68 18.908c.252 1.422 1.368 2.121 3.377 2.121 1.849 0 2.874-.677 2.874-1.835 0-.897-.478-1.31-1.825-1.596l-2.397-.503c-3.901-.83-5.408-2.099-5.408-4.592C48.3 9.771 50.834 8 54.71 8s6.435 1.705 6.594 4.764h-3.652c-.252-1.18-1.255-1.793-2.944-1.793s-2.739.591-2.739 1.618c0 .786.455 1.136 2.055 1.508l2.258.48c3.97.808 5.318 2.01 5.318 4.722 0 2.907-2.487 4.7-6.55 4.7-4.266 0-6.892-1.876-7.052-5.09zM75.414 8.35h3.675v8.81c0 4.633-2.281 6.84-6.982 6.84s-6.982-2.207-6.982-6.84V8.35H68.8v8.895c0 2.493 1.003 3.584 3.31 3.584s3.31-1.093 3.31-3.584V8.35zM112.296 23.65h-12.048V8.35h12.048v3.148h-8.376v2.732h7.11v3.148h-7.11v3.127h8.376v3.148zM162.789 8.35h3.674v8.81c0 4.633-2.281 6.84-6.981 6.84-4.701 0-6.982-2.207-6.982-6.84V8.35h3.675v8.895c0 2.493 1.003 3.584 3.31 3.584s3.31-1.093 3.31-3.584V8.35zM179.059 15.674l3.901-7.324h4.313v15.3h-3.582V13.53l-4.223 8.024h-.821l-4.222-8.023v10.12h-3.582V8.35h4.312l3.901 7.324zM206.229 23.65h-3.65l-.595-3.912h-6.55l-.594 3.912h-3.652l1.461-9.684C193.355 9.594 194.953 8 198.697 8s5.362 1.596 6.046 5.966l1.485 9.684zm-10.29-7.102h5.544l-.342-2.296c-.366-2.318-.959-3.081-2.441-3.081-1.48 0-2.054.766-2.419 3.081zM220.416 18.317V8.35H224v15.3h-3.677l-6.592-9.967v9.967h-3.582V8.35h3.674zM121.653 17.511l3.425-1.242 5.251 7.367h-4.381z",fill:e.backgroundColor}),o.createElement("path",{d:"M116.742 8.314h7.703q1.692 0 2.973.602 1.28.603 1.99 1.73.709 1.129.709 2.663c0 1.022-.237 1.791-.71 2.543-.472.753-1.329 1.381-2.212 1.735-.955.382-8.538 2.577-8.538 2.577l.006-3.525s5.573-1.325 6.48-1.646c.397-.14 1.4-.46 1.4-1.684 0-1.463-1.513-1.6-2.468-1.6h-4.688l1.03-.986V23.65h-3.675zM83.465 8.314h7.703q1.692 0 2.973.602 1.28.603 1.99 1.73.709 1.129.709 2.663c0 1.022-.237 1.791-.71 2.543-.472.753-1.329 1.381-2.212 1.735-.955.382-8.538 2.577-8.538 2.577l.006-3.525s5.573-1.325 6.48-1.646c.397-.14 1.4-.46 1.4-1.684 0-1.463-1.514-1.6-2.468-1.6H86.11l1.03-.986V23.65h-3.675z",fill:e.backgroundColor}))))})),s=o.memo((function(e){const t="mini"===e.type?i.Ko:i.$C;return o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:e.width,height:e.height,fill:"none",className:e.className,viewBox:`0 0 ${t} 32`,"data-grammarly-part":e.dataGrammarlyPart,"aria-label":e.ariaLabel,"aria-hidden":e.ariaHidden},"mini"!==e.type&&o.createElement(o.Fragment,null,o.createElement("path",{d:"M144.444 14.186V8.35h3.674v15.3h-3.674v-6.274h-6.505v6.274h-3.675V8.35h3.675v5.836zM51.68 18.908c.252 1.422 1.368 2.121 3.377 2.121 1.849 0 2.874-.677 2.874-1.835 0-.897-.478-1.31-1.825-1.596l-2.397-.503c-3.901-.83-5.408-2.099-5.408-4.592C48.3 9.771 50.834 8 54.71 8s6.435 1.705 6.594 4.764h-3.652c-.252-1.18-1.255-1.793-2.944-1.793s-2.739.591-2.739 1.618c0 .786.455 1.136 2.055 1.508l2.258.48c3.97.808 5.318 2.01 5.318 4.722 0 2.907-2.487 4.7-6.55 4.7-4.266 0-6.892-1.876-7.052-5.09zM75.414 8.35h3.675v8.81c0 4.633-2.281 6.84-6.982 6.84s-6.982-2.207-6.982-6.84V8.35H68.8v8.895c0 2.493 1.003 3.584 3.31 3.584s3.31-1.093 3.31-3.584V8.35zM112.296 23.65h-12.048V8.35h12.048v3.148h-8.376v2.732h7.11v3.148h-7.11v3.127h8.376v3.148zM162.789 8.35h3.674v8.81c0 4.633-2.281 6.84-6.981 6.84-4.701 0-6.982-2.207-6.982-6.84V8.35h3.675v8.895c0 2.493 1.003 3.584 3.31 3.584s3.31-1.093 3.31-3.584V8.35zM179.059 15.674l3.901-7.324h4.313v15.3h-3.582V13.53l-4.223 8.024h-.821l-4.222-8.023v10.12h-3.582V8.35h4.312l3.901 7.324zM206.229 23.65h-3.65l-.595-3.912h-6.55l-.594 3.912h-3.652l1.461-9.684C193.355 9.594 194.953 8 198.697 8s5.362 1.596 6.046 5.966l1.485 9.684zm-10.29-7.102h5.544l-.342-2.296c-.366-2.318-.959-3.081-2.441-3.081-1.48 0-2.054.766-2.419 3.081zM220.416 18.317V8.35H224v15.3h-3.677l-6.592-9.967v9.967h-3.582V8.35h3.674zM121.653 17.511l3.425-1.242 5.251 7.367h-4.381z",fill:e.backgroundColor}),o.createElement("path",{d:"M116.742 8.314h7.703q1.692 0 2.973.602 1.28.603 1.99 1.73.709 1.129.709 2.663c0 1.022-.237 1.791-.71 2.543-.472.753-1.329 1.381-2.212 1.735-.955.382-8.538 2.577-8.538 2.577l.006-3.525s5.573-1.325 6.48-1.646c.397-.14 1.4-.46 1.4-1.684 0-1.463-1.513-1.6-2.468-1.6h-4.688l1.03-.986V23.65h-3.675zM83.465 8.314h7.703q1.692 0 2.973.602 1.28.603 1.99 1.73.709 1.129.709 2.663c0 1.022-.237 1.791-.71 2.543-.472.753-1.329 1.381-2.212 1.735-.955.382-8.538 2.577-8.538 2.577l.006-3.525s5.573-1.325 6.48-1.646c.397-.14 1.4-.46 1.4-1.684 0-1.463-1.514-1.6-2.468-1.6H86.11l1.03-.986V23.65h-3.675z",fill:e.backgroundColor})),o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.2625 13.1803C16.6996 12.2512 15.2954 12.2512 14.7325 13.1803L5.21017 28.8601C4.45482 30.1036 5.88068 31.5114 7.18364 30.8153L15.289 26.4999C15.7282 26.2684 16.2668 26.2684 16.706 26.4999L24.8113 30.8153C26.1219 31.5111 27.5402 30.1035 26.793 28.8601L17.2625 13.1803ZM15.9975 1C13.4221 1 11.3318 3.03027 11.3318 5.52497C11.3324 8.02727 13.4224 10.0479 15.9975 10.0479C18.5802 10.0479 20.6688 8.02724 20.6693 5.52497C20.6693 3.0303 18.5805 1.00005 15.9975 1Z",fill:e.backgroundColor}))})),l=o.memo((function(e){return o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:e.width,height:e.height,fill:"none",className:e.className,viewBox:`0 0 ${e.viewBoxWidth} 21`,"data-grammarly-part":e.dataGrammarlyPart,"aria-label":e.ariaLabel,"aria-hidden":e.ariaHidden},"mini"!==e.type&&o.createElement("path",{fill:e.textColor,d:"M47.94 7.305v.765a3.23 3.23 0 0 0-2.286-.942c-2.009 0-3.549 1.663-3.549 3.724s1.54 3.695 3.549 3.695c.894 0 1.685-.354 2.286-.942v.765h1.437V7.305zm-.327 4.675c-.686 1.097-1.983 1.426-3.014.777-1.03-.65-1.306-1.953-.62-3.05s1.99-1.44 3.021-.79 1.298 1.966.613 3.063m31.098-4.675v.765a3.23 3.23 0 0 0-2.287-.942c-2.008 0-3.548 1.663-3.548 3.724s1.54 3.695 3.548 3.695c.895 0 1.686-.354 2.287-.942v.765h1.437V7.305zm-.327 4.675c-.686 1.097-1.983 1.426-3.013.777-1.03-.65-1.306-1.953-.62-3.05s1.99-1.44 3.02-.79 1.299 1.966.613 3.063m-23.319-1.823c0-.662-.146-.986-.366-1.222-.22-.235-.557-.368-.924-.368s-.703.133-.924.368c-.22.236-.366.56-.366 1.222v4.21H50.99V7.3h1.407v.5a2.24 2.24 0 0 1 1.627-.676c.806 0 1.525.382 1.979.97a2.7 2.7 0 0 1 2.096-.97c.865 0 1.54.382 2.009 1 .322.442.527 1.001.527 1.9v4.341H59.14v-4.209c0-.662-.147-.986-.367-1.222-.22-.235-.557-.368-.923-.368-.367 0-.704.133-.924.368-.22.236-.367.56-.367 1.222v4.21h-1.495zm11.181 0c0-.662-.147-.986-.367-1.222-.22-.235-.557-.368-.924-.368-.366 0-.703.133-.923.368-.22.236-.367.56-.367 1.222v4.21H62.17V7.3h1.407v.5a2.24 2.24 0 0 1 1.627-.676c.806 0 1.525.382 1.98.97a2.7 2.7 0 0 1 2.096-.97c.865 0 1.54.382 2.008 1 .322.442.527 1.001.527 1.9v4.341H70.32v-4.209c0-.662-.146-.986-.366-1.222-.22-.235-.557-.368-.924-.368s-.704.133-.924.368c-.22.236-.366.56-.366 1.222v4.21h-1.495v-4.21m21.003-7.238h1.495v11.451h-1.495zM33.969 7.305v.765a3.23 3.23 0 0 0-2.287-.942c-2.008 0-3.548 1.634-3.548 3.695s1.54 3.724 3.548 3.724a3.2 3.2 0 0 0 2.257-.913v.736c0 1.208-.749 2.118-1.866 2.267-.873.116-1.832-.135-2.443-.64a2 2 0 0 1-.204-.193l-.785 1.283.057.05c.775.639 1.862 1.001 2.946 1.001q.313 0 .621-.04c1.85-.246 3.14-1.78 3.14-3.728V7.305zm-2.14 5.799c-1.217 0-2.14-.986-2.14-2.281s.923-2.253 2.14-2.253c1.216 0 2.14.971 2.14 2.267s-.924 2.267-2.14 2.267M95.482 7.28l-2.216 5.046-2.043-5.046h-1.5l2.763 6.824-1.743 3.97h1.518l.953-2.171.78-1.777L97 7.28zm-53.892.196c-.518-.23-1.089-.325-1.648-.21a2.6 2.6 0 0 0-1.517.946V7.3h-1.407v7.065h1.495v-3.518c0-.824.206-1.296.542-1.634a1.93 1.93 0 0 1 1.393-.56c.173 0 .62.05 1.103.364l.711-1.162a4 4 0 0 0-.672-.38m43.096-.22a2.6 2.6 0 0 0-1.312.71c-.074.075-.147.148-.206.236v-.913h-1.407v7.065h1.496v-3.518c0-.824.205-1.295.542-1.633a1.93 1.93 0 0 1 1.393-.56c.173 0 .584.004 1.099.205V7.449c-.507-.216-1.061-.307-1.605-.195"}),o.createElement("path",{d:"M0 10.5C0 4.7 4.682 0 10.459 0s10.457 4.7 10.457 10.5c0 5.074-3.583 9.307-8.348 10.287-.681.14-1.387.213-2.107.213H0z",fill:e.backgroundColor}),o.createElement("path",{d:"M17.695 9.505h-4.712l-1.11 1.93h3.886c-.61 3.357-4.328 5.643-8.043 3.71a4.4 4.4 0 0 1-1.87-1.86c-2.138-4.086.782-8.197 4.636-8.197a5.34 5.34 0 0 1 4.002 1.806l.996-1.732A7.23 7.23 0 0 0 9.968 3.18c-3.636.251-6.583 3.277-6.76 6.93-.202 4.195 3.138 7.67 7.271 7.67 4.134 0 7.282-3.28 7.282-7.311 0-.328-.025-.65-.066-.964",fill:e.arrowColor}))})),c=o.memo((function(e){var t,n,c,u,d;const p=(0,a.hj)(e.size)?e.size:i.np,g="mini"===e.type?i.np:i.v5,m="mini"===e.type?p:i.v5*(p/i.np),h=null!==(t=e.backgroundColor)&&void 0!==t?t:i.bd.green,b=null!==(n=e.arrowColor)&&void 0!==n?n:i.bd.white,v=null!==(c=e.textColor)&&void 0!==c?c:i.bd.black,f=null!==(u=e.variant)&&void 0!==u?u:"grammarly",S={type:null!==(d=e.type)&&void 0!==d?d:"full",width:m,height:p,viewBoxWidth:g,backgroundColor:h,arrowColor:b,textColor:v,className:e.className,dataGrammarlyPart:e.dataGrammarlyPart,ariaLabel:e.ariaLabel,ariaHidden:e.ariaHidden};switch(f){case"superhuman":return o.createElement(r,{...S});case"go":return o.createElement(s,{...S});default:return o.createElement(l,{...S})}}))},74316:(e,t,n)=>{n.d(t,{K:()=>a});var o=n(92379);const a=o.memo((function(e){return o.createElement("svg",{className:e.className,width:e.width,height:e.height,viewBox:"0 0 34 33",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.createElement("path",{d:"M20.6126 4.92236H4.92251C2.75616 4.92236 1 6.67852 1 8.84486V27.9672C1 30.1335 2.75616 31.8897 4.92251 31.8897H20.6126C22.779 31.8897 24.5351 30.1335 24.5351 27.9672V8.84486C24.5351 6.67852 22.779 4.92236 20.6126 4.92236Z",fill:"white",stroke:"#1C1C1C",strokeLinecap:"round"}),o.createElement("path",{d:"M5.90625 18.1616H12.7706",stroke:"#1C1C1C",strokeLinecap:"round",strokeLinejoin:"round"}),o.createElement("path",{d:"M5.90625 24.0454H19.6351",stroke:"#1C1C1C",strokeLinecap:"round",strokeLinejoin:"round"}),o.createElement("path",{d:"M32.8704 10.8248C32.8704 16.2173 28.4585 20.6126 23.0456 20.6126C21.0065 20.6126 19.1898 20.0216 17.6327 18.9505C15.0004 17.2146 13.2578 14.1859 13.2578 10.7878C13.2578 5.39529 17.6698 1 23.0827 1C28.4956 1 32.8704 5.3953 32.8704 10.8248Z",fill:"#FFDC85",stroke:"#1C1C1C",strokeMiterlimit:"10"}),o.createElement("path",{d:"M23.0625 5.16846V10.8071H27.2302",stroke:"#1C1C1C",strokeLinecap:"round"}))}))},53278:(e,t,n)=>{n.d(t,{$C:()=>s,Kj:()=>c,Ko:()=>r,bd:()=>a,lk:()=>d,np:()=>i,nu:()=>u,uu:()=>p,v5:()=>l});var o=n(53768);const a={green:o.Green60,white:o.White,grey:o.BlueGray60,red:o.Red60,yellow:o.Gold60,black:"#1C1C1C"},i=21,r=32,s=224,l=97,c=34,u=33,d=27,p=26;a.green,a.white,a.grey,a.black,a.white,a.black,a.white,a.black},13736:(e,t,n)=>{n.d(t,{E:()=>o});var o,a=n(44071),i=n(90572),r=n(44675),s=n(20905),l=n(40594),c=n(24183),u=n(29483);!function(e){const t=l.Y.create("Reports");function n(e){var t;const n=null===(t=self.document)||void 0===t?void 0:t.createElement("a");n.href="data:application/octet-stream,"+encodeURIComponent(function(e){const t=e=>{try{return JSON.stringify(e)}catch(t){return String(e)}};return[["Level","Logger","Timestamp","Message"].join("\t"),...e.map((e=>{const n=[e.level,e.loggerName,new Date(e.timestamp).toISOString(),e.message];return e.data&&n.push(t(e.data)),e.exception&&n.push(t(e.exception)),n.join("\t")}))].join("\n")}(e)),n.target="_blank",n.download="grammarly-logs.tsv",n.click()}async function o(e){if(t.debug("start download debug reports"),!(0,u.OB)().historyLogsService.isHistoryEnabled())return t.debug("debug reports feature is not enabled"),alert("Logging is not enabled");if(!self.confirm(c.o1))return;t.debug("confirm download debug reports");const o=[];e.sort((e=>e.envName===(0,u.OB)().context?1:-1));try{await(0,r.Fb)(s.E0,d())}catch(e){t.warn("cannot get latest app state",e)}for(const t of e){const e=await t.getLogs();o.push(...null!=e?e:[])}o.sort(((e,t)=>e.timestamp-t.timestamp)),n(o)}async function d(){t.info("latest experiments state",await(0,u.OB)().bgRpc.api.getExperimentTreatment()),t.info("latest storage state",await(0,u.OB)().browserApi.preferences.getAll()),t.info("browser info",(0,u.OB)().browserApi.getBrowserInfo())}e.download=o,e.initKeyboardShortcutHandler=function(e){return(0,a.R)(self,"keydown").pipe((0,i.h)((e=>e.altKey&&e.shiftKey&&(e.ctrlKey||e.metaKey)))).subscribe((t=>{["Semicolon","KeyD"].includes(t.code)?(0,u.OB)().bgRpc.api.toggleDebugMenu(!0):"KeyS"===t.code&&o(e)}))},e.logLatestState=d}(o||(o={}))},19523:(e,t,n)=>{n.d(t,{Ng:()=>i,WY:()=>s,ZD:()=>r});var o=n(16381),a=n(19724);const i=e=>{const t=a.n.getType(e);return"registered"===t?"free":t},r=e=>{return{clientVersion:e.version,platformVersion:"",application:e.domain,browser:e.systemInfo.browser.name,os:(t=e.systemInfo.os,t.isWindows?"windows":t.isMac?"mac":t.isChromeOS?"chromeos":"other"),userType:e.userType,team:"browserextensions"};var t},s=e=>{const t=new URL((0,o.Um)().grammarlyEmployeesBugReportsUrl);return Object.entries(e).forEach((([e,n])=>{n&&t.searchParams.set(e,n)})),t.toString()}},35159:(e,t,n)=>{n.d(t,{$:()=>c});var o=n(15380),a=n(44675),i=n(20905),r=n(56623),s=n(67960),l=n(29483);const c=()=>[new r.r("bg",(()=>(0,l.OB)().bgRpc.api.getBGLogs()),r.r.getLogsFromSessionStorageFallbackGetter(s.v.bgHistoryLogs)),new r.r("sidePanel",(()=>Promise.resolve((0,l.OB)().historyLogsService.getLogs())),r.r.getLogsFromSessionStorageFallbackGetter(s.v.sidePanelHistoryLogs)),new r.r("cs",(async()=>{const e=[],t=t=>{e.push(...t.option.logs.map((e=>({...e,loggerName:`${t.option.isIframeIntegration?`iframe.[${t.caller.frameId}].`:""}${e.loggerName}`}))))},n=(0,l.OB)().browserApi.message;return n.onRuntimeMessage.addListener(t),(0,l.OB)().bgRpc.api.sendToFocusTab({kind:o.B.Kind.requestCsLogsFromSidePanel}),await(0,a.gw)(i.E0),e.length||await(0,a.gw)(i.E0),n.onRuntimeMessage.removeListener(t),e.length?e:void 0}),r.r.getLogsFromSessionStorageFallbackGetter(s.v.csHistoryLogs))]},43795:(e,t,n)=>{n.d(t,{GH:()=>s,Xv:()=>r,dU:()=>l});var o=n(9986),a=n(90189),i=n(90595);function r(e={enabled:!1},t){const n=t||(0,a.OB)().experimentClient;return e.enabled&&(null==n?void 0:n.isGateEnabled(i.K.SessionTimeout))}function s(e){try{return JSON.parse(e).refresh_token_expires_at}catch(e){return}}function l(e){if(!e)return!1;return e-Date.now()<=o.p7}},32060:e=>{e.exports={root:"ac5xR",settingsView:"vo6I6"}},66886:e=>{e.exports={settingsContentWrapper:"Pjkoe",ghostContainer:"T3SqS",ghostImage:"W2noN",ghostSwitcher:"TDKhQ",footer:"_2SJl",footer_btn_container:"Xfuqm",footer_btn_container_ghost:"UK8mD Xfuqm",footer_btn:"zzsGE",footer_icon_home:"fjYLw"}},44114:e=>{e.exports={heading:"RDHDg",labelsFont:"ChkL9"}},31e3:e=>{e.exports={content:"L0IlD",paragraph:"Orx96",header:"XpiGS",flag:"hYeJR",flagTop:"Te_me",flagBottom:"pHlXZ",title:"ruQOD"}},59776:e=>{e.exports={learnMoreButton:"nUL6q"}},91409:e=>{e.exports={wrapper:"fP89T",popup:"p4cHm",content:"BZyxI",animation:"DWhKF",title:"nHp6t"}},17382:e=>{e.exports={button:"Xv6nu",buttonRound:"wsrpG",buttonWithPadding:"aaYpW",buttonSmall:"zi_ja",buttonMedium:"KumoA",buttonTransparent:"uQ7bn",buttonOutlined:"v1SWt",buttonLink:"XiP1W",buttonEnabled:"FfbwC",buttonPrimary:"u8dZN",buttonSuccess:"bx7Ao",buttonTransparentHoverable:"QJ7SS",buttonDark:"R0C6b",buttonNeutral:"Glsdy",buttonNeutralWhite:"Xxwoy",buttonPremium:"FyfT4",buttonDisabled:"VMMkP",secondaryText:"xYKB9"}},15376:e=>{e.exports={fontWrapper:"amkYk"}},18403:e=>{e.exports={tooltip:"GaXCJ",fadeIn:"BYM2T",tooltipIcon:"edAVi"}},96951:e=>{e.exports={button:"EYiE8","variant-primary":"z9uJO","variant-secondary":"q5Jrx","variant-tertiary":"lzg5M","variant-ghost":"a8sQl","variant-premium":"WLxWd","size-small":"N98GR","size-medium":"W801A","size-large":"pRgOD","size-xlarge":"UkrPO","width-full":"mw7mz",linkButton:"HQbMT",spin:"PaktZ"}},51705:e=>{e.exports={premiumButton:"QpA64"}},86723:e=>{e.exports={wrapper:"Aolfm",heading:"NFFQg",domain:"c3Fd7",description:"LTKQH"}},46577:e=>{e.exports={settingsContent:"C3SN4",fullWidth:"dRfoN",heading:"_HqAa",allSettings:"pUfgB",separator:"vlSkx",section:"v01UR",settingsLink:"d_ohh",debugMenu:"iovEn",downloadBtn:"u6BF0",timer:"DQHsO",gOSMenu:"dhG16",menuItem:"COwmJ","gds-select-container":"Cmf7Q",settingsContentSuperhumanGo:"nl2zA"}},44402:e=>{e.exports={wrapper:"thWhq",content:"FIMJQ"}},94e3:e=>{e.exports={gButtonPopup:"diNpB",loginSSOPopup:"dGc8e",showWrapper:"UUYhD",flipped:"iGBQj",closeButton:"vcac9",text:"jfR06",title:"pQCa0",bold:"K4CWO",link:"UAmjO",secondary:"EXtIt",firstTime:"JpYft",close:"OUiPJ",loginReminder:"H1d0B",permission:"RPuBs",popupFooter:"rA9f6",isFlipped:"hSt1p",onboarding:"QrVo6",onboardingWithReminder:"njXr2",onboardingClose:"G0tug",dropdownContainer:"WJP1a",arrowhead:"HI72s",dropdownList:"Rog_Q",onboardingWithReminderIconPosition:"v1L7z",sessionTimeoutPopup:"djMQL",sessionTimeoutClose:"cE7Bk",sessionTimeoutPopupIconPosition:"_re7y",signinLink:"TT5tz",warningPopup:"HFaC5",warningWithoutIcon:"FyT69",managedSSOControl:"L1Rzm",settings:"H5xEt",illustration:"qESn3",signInWithSSO:"rq8co",signInWithSSO2:"wE0K3"}},47695:e=>{e.exports={"footer-ios":"IfRTb"}},24825:e=>{e.exports={"header-ios":"icRoX",logo:"KpttL",mark:"Ao1Jt",type:"cyoK9",link:"yYlif"}},90867:e=>{e.exports={header:"Coe_1",delimiter:"PA63z",logo:"oGOoy",closeButton:"v_YAN"}},78703:e=>{e.exports={windows:"ScRGR",setting_item:"byTue",fixing:"tGQgu",thin_text:"Zw2iF",footer:"VarAw",gr_popup_settings:"sCOqq",iOS:"xw90P",footer_btn:"dFcxY",short_border:"GPdi3",top:"a8_HB",content:"eJi6K",my_grammarly:"TPdm3",new_document:"b5rRu",unsupported_site:"FV6cP",unsupported_item:"kI6Es",unsupported_title:"TvJkj",domain:"mbOuw",domain_in_details:"HyZRA",unsupported_temporary:"aeiHl",unsupported_permanently:"e63AG",unsupported_grammarly:"SK755",diamond:"z0724",userPanel:"bG2GY",email:"U4qfE",link:"Vrj67",blue:"Dstaa",edc_stripe:"GEFvM",line:"_o71L",not_supported:"Z9hzt",site_switcher:"LXeMc",upgrade:"BAl_v",favicon:"L5Hrq",centered:"T0qTK",summary:"tuG8u",upgrade_title:"KRcNq",settingsContentWrapper:"OeKpx",settingsContent:"AwQr3",sessionTimeoutWrapper:"BErLl",sessionTimeoutDiv:"rekSD",sessionTimeoutTextAndIcon:"ihkdF",sessionTimeoutPopupIcon:"xYrMw",sessionTimeoutText:"JpIic",signinLink:"n7A2H",popupSettings:"wBa4V",withBackground:"JRZMC",llamaTitle:"WnzAW",llamaDescription:"dDIsV",cheetahLabelAndButton:"WwKRI",cheetahLabel:"aMCQq",cheetahManageButton:"hfCbo",hwrDescription:"KqA2M",nobr:"wae8U",superhumanSettingsContent:"P2TY2"}},98539:e=>{e.exports={socialSigninContent:"k2AdT",withClose:"_1NuQS",socialSignin:"YBXsj",closeIcon:"lL3zx",signin:"DY97f",permission:"YmV8G",iOS:"C_ZC9",content:"pnCIV",banner:"BsNFR"}},98811:e=>{e.exports={gr_popup_unsupported:"mNplt",iOS:"dknvA",line:"bbXMt",unsupported_site:"isHIc",unsupported_item:"bsr7c",warning:"QaV6u",ok:"VIvGU",unsupported_title:"xAVeT",domain:"QAQlK",unsupported_grammarly:"ndOUg",unsupported_grammarly_text:"t78jM"}},1479:e=>{e.exports={}}}]);