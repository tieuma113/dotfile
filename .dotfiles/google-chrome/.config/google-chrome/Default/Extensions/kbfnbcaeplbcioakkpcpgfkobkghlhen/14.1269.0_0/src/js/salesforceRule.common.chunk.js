(self.webpackChunk=self.webpackChunk||[]).push([[5091],{80590:(e,t,a)=>{a.r(t),a.d(t,{Salesforce:()=>E,getVBarsIntegrationInfo:()=>h});var i=a(84714),n=a(58303),r=a(44287),l=a(33387),o=a(22234),c=a(22086),s=a(26761),d=a(95523),f=a(90595),u=a(47557),p=a(79707),v=a(13425),m=a(9026),x=a(86076),g=a(85452),C=a(96075),R=a(3670),T=a(33357),S=a(18122);const h=(e,t)=>n.G({integrationName:e,kind:"salesforce",domain:t.pageContext.domain,isInsideIFrame:!1});var E;!function(e){function t(e){return e.experimentClient.isGateEnabled(f.K.SalesforceDetailsTextareaRichReplacementServiceDelay)?{overwriteGenericOpts:{createReplacementService:t=>new v.BT(t,e.experimentClient,void 0,void 0,50,e.field)}}:{}}e.createQuillIntegrationWithCustomReplacementService=t;const a=x.P.generic(t),n=o.T.textarea("Salesforce.classicChat",(e=>({extraCondition:e=>!!e.field.closest("#chatTextArea"),validationRules:[...s.u,(0,d.Uo)(18)],createLayout:()=>new r.A7(e.field)}))),E=o.T.textarea("Salesforce.serviceConsoleNewCase",(e=>({extraCondition:e=>!!e.field.closest("records-record-layout-text-area"),validationRules:[...s.u],createLayout:()=>new r.A7(e.field),getVBarsIntegrationInfo:t=>h(t,e),createReplacementService:e.experimentClient.isGateEnabled(f.K.SalesforceServiceConsoleReplacementFix)?t=>new m.l(e.field,t,e.experimentClient,50):void 0}))),I=o.T.textarea("Salesforce.serviceConsoleReplyMessage",(e=>({extraCondition:e=>!!e.field.closest(".messaging-textarea"),validationRules:[...s.u,(0,d.Uo)(18)],createLayout:()=>new r.A7(e.field,{createGbuttonShiftBehavior:()=>(0,i.of)({left:0,top:6})})})));e.REPLAY_THREAD_TITLE="- Original Message -",e.stopProcessEmailFieldOnReplyThread=(t,a)=>{var i;return!(!(0,u.BM)(t)||!(null===(i=t.textContent)||void 0===i?void 0:i.includes(e.REPLAY_THREAD_TITLE)))||g.Z.defaultFinishBlockMap(t,a)};const y=(0,c.q)("Salesforce.emailField",(t=>t.experimentClient.isGateEnabled(f.K.SalesforceFilterEmailThread)?{textMap:{createFieldTextMap:t=>new g.Z(t,void 0,void 0,void 0,void 0,void 0,e.stopProcessEmailFieldOnReplyThread)},createReplacementService:e=>v.BT.create(e,t.experimentClient,{focusElement:t.field,transformReplacementBeforeApply:a=>A(a,e,t.experimentClient)})}:{}));function A(e,t,a){if((0,p.HD)(e.value)&&e.value.split("\n\n").length>1){if(a.isGateEnabled(f.K.SalesforceCK4RichTextFix))return{...e,value:e.value.replace(/(\r?\n){2,}/g,"\n")};const i=t.getCurrentTextMap(),n=(0,l.Gl)(i,e,a);return{...e,value:(0,l.lG)(i,n,e)}}return e}e.transformReplacementIfNeeded=A,e.textAreaLegacyInput=o.T.textarea("Salesforce.legacy.input",(e=>({createLayout:()=>new r.A7(e.field,(0,C.dQ)()),getVBarsIntegrationInfo:t=>h(t,e)}))),e.page=(0,R.$W)({name:"Salesforce",domain:S.c3},[n,E,I,y,a,e.textAreaLegacyInput,...T.k.defaultFieldRuleSet])}(E||(E={}))}}]);