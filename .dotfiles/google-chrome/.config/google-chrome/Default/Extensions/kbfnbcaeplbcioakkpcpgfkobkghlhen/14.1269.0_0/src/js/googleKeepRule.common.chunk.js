(self.webpackChunk=self.webpackChunk||[]).push([[142],{74658:(e,t,n)=>{n.r(t),n.d(t,{GoogleKeep:()=>o,getCreateReplacementService:()=>C});var o,i=n(84714),r=n(84308),a=n(954),c=n(59179),l=n(24666),p=n(20161),u=n(18827),d=n(14969),s=n(29479),b=n(70962),f=n(24182),g=n(41050),v=n(18122),m=n(45523),h=n(44287),S=n(18647),y=n(82048),w=n(13425),B=n(22234),R=n(26761),x=n(3670);!function(e){let t;!function(e){function t(e){return e.querySelector('div[contenteditable="true"]')}function n(e){const t=(0,S.Me)(e).body,n=e.parentElement;return n===t?t:(0,S.bp)(n||e)}function o(e){const t=(0,S.Jj)(e),n=(0,y.Yq)(e,4);return(0,i.of)(!!n&&"fixed"===t.getComputedStyle(n).position)}function g({positionedAncestor:e,integrationRoot:t}){e.appendChild(t)}e.content=B.T.contentEditable("GoogleKeep.content",(e=>{const{field:v}=e,S=v.parentElement,y=!!S&&S.querySelector('div[contenteditable="true"] ~ div[contenteditable="true"]')===v;const w=n(v),B=!!S&&t(S),x=B?m.x.observeStyle(B).pipe((0,a.O)(B.style),(0,c.U)((e=>"none"!==e.display)),(0,l.x)()):(0,i.of)(!1),G=o(v),E=G.pipe((0,p.w)((e=>e?(0,i.of)(!0).pipe((0,u.g)(1e3),(0,a.O)(!1)):x)));return{validationRules:[{ruleName:"isContentField",match:()=>y},...R.u],createLayout:e=>new h.A7(v,{positionedAncestor:w,injectIntegrationRoot:g}),createGButtonController:e=>new b.z(e,{createModels:e=>{const t=(0,f.R)(e);return{...t,gButton:{...t.gButton,containerState:(0,r.a)([t.gButton.containerState,E,G]).pipe((0,c.U)((([e,t,n])=>({visible:t,hoverable:e.hoverable&&n}))))}}}}),createReplacementService:C(e),expiration:e=>m.x.observeAttribute(e,"contenteditable").pipe((0,d.P)((e=>!e)),(0,s.h)(void 0))}})),e.title=B.T.contentEditable("GoogleKeep.title",(e=>{const{field:l}=e,v=l.parentElement,S=!!v&&t(v)===l,y=n(l),w=o(l).pipe((0,p.w)((e=>e?(0,i.of)(!0).pipe((0,u.g)(1e3),(0,a.O)(!1)):(0,i.of)(!0))));return{validationRules:[{ruleName:"isTitleField",match:e=>S},...R.u],createLayout:e=>new h.A7(l,{minimizeEnabled:!0,positionedAncestor:y,injectIntegrationRoot:g,createGbuttonShiftBehavior:e=>(0,i.of)({left:7,top:3})}),createGButtonController:e=>new b.z(e,{createModels:e=>{const t=(0,f.R)(e);return{...t,gButton:{...t.gButton,containerState:(0,r.a)([t.gButton.containerState,w]).pipe((0,c.U)((([e,t])=>({...e,visible:t}))))}}}}),createReplacementService:C(e),expiration:e=>m.x.observeAttribute(e,"contenteditable").pipe((0,d.P)((e=>!e)),(0,s.h)(void 0))}}))}(t=e.Note||(e.Note={})),e.page=(0,x.$W)({name:"Google Keep",domain:v.H8},[t.content,t.title,B.T.contentEditable("GoogleKeep",(()=>({createLayout:e=>new g.K(e)}))),B.T.textarea("GoogleKeep",(()=>({createLayout:e=>new g.K(e)})))])}(o||(o={}));const C=e=>t=>w.BT.create(t,e.experimentClient,{focusElement:e.field})}}]);