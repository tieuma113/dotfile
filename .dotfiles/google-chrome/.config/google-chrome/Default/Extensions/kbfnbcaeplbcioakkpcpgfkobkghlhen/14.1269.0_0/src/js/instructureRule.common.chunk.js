(self.webpackChunk=self.webpackChunk||[]).push([[2238],{55915:(t,e,n)=>{n.r(e),n.d(e,{Instructure:()=>C});var o=n(90023),i=n(44071),u=n(84714),r=n(64271),c=n(29416),s=n(59179),a=n(89408),l=n(32734),d=n(84178),p=n(58303),m=n(27079),v=n(36802),f=n(1408),g=n(3670),b=n(33357),S=n(81466),z=n(18122),y=n(90595),_=n(29483);const U=t=>{const e=/^\/courses\/([^/]+)\/(?:[^/]+)#conference_(\w+)$/,n=/^\/courses\/([^/]+)\/(page|discussion_topic|assignment|quizz)e?s\/([^/]+)\/edit$/.exec(t);if(n){const[t,e,i,u]=n;return{type:i,id:u,getTitleInput:w[i]?()=>document.querySelector(w[i]):void 0,getSubmitButton:j[i]?()=>document.querySelector(j[i]):void 0,getParents:(0,o.zG)(h(p.G(`course_${e}`)),p.UI(G),p.UI(o.a9),p.FS)}}{const n=e.exec(t);if(n){const[t,e,i]=n;return{type:"conference",id:i,getTitleInput:()=>document.querySelector(w.conference),getSubmitButton:()=>document.querySelector(j.conference),getParents:(0,o.zG)(h(p.G(`course_${e}`)),p.UI(G),p.UI(o.a9),p.FS)}}}return null},h=t=>(0,o.zG)(t,p.UI((t=>({docid:t})))),G=t=>({parents:[t]}),I=(t,e)=>{const n=(0,o.zG)((t=>(0,o.zG)(p.ij(/^\/courses\/(?:[^/]+)\/discussion_topics\/([^/]+)$/.exec(t)),p.tS((t=>p.ij(t[1])))))(t),h,p.UI((t=>({docid:t.docid,audience:(0,o.zG)($(e),p.tS(q),p.FS)})))),i=(0,o.zG)($(e),p.tS((t=>p.ij(t.closest(".entry.replying"))))),u=(0,o.zG)(i,p.tS((t=>p.ij(t.getAttribute("id")))),h,p.UI((t=>({docid:t.docid,parents:(0,o.zG)(n,p.UI((t=>[t])),p.FS),audence:(0,o.zG)(i,p.tS((t=>p.ij(t.querySelector(".entry-content a.author")))),p.tS((t=>{var e;return p.ij(null===(e=t.textContent)||void 0===e?void 0:e.trim())})),p.FS)}))));return(0,o.zG)(u,p.wp((()=>n)))},q=t=>(0,o.zG)(p.ij(t.closest("#discussion_container")),p.tS((t=>p.ij(t.querySelector(".discussion-subtitle a.author")))),p.tS((t=>{var e;return p.ij(null===(e=t.textContent)||void 0===e?void 0:e.trim())})),p.UI((t=>({recipients:[{name:t}]})))),$=t=>{var e,n,i;return(0,o.zG)(p.ij((null===(i=null===(n=null===(e=t.ownerDocument)||void 0===e?void 0:e.defaultView)||void 0===n?void 0:n.frameElement)||void 0===i?void 0:i.closest("form"))||t.closest("form")))};const w={page:"input#title",discussion_topic:"input#discussion-title",assignment:"input#assignment_name",quizz:"input#quiz_title",conference:"input#web_conference_title"},j={page:".page-edit__action_buttons > .submit",discussion_topic:'#edit_discussion_form_buttons > button[type="submit"]',assignment:'.assignment__action-buttons > button[type="submit"]',quizz:'#quiz_edit_actions button[type="submit"]',conference:".ui-dialog-buttonset > button.btn-primary"};var C;!function(t){t.page=(0,g.$W)({name:"instructure",domain:z.F0,eventPropagationHandler:t=>{(0,_.OB)().experimentClient.isGateEnabled(y.K.CentralizeStopEventPropagation)||t.addEventListener("keydown",(t=>{t.stopPropagation()}))},customizations:{createDocument:t=>{const e=U(`${location.pathname}${location.hash}`);return m._A.create(e?(0,v.m3)(`${e.type}-${e.id}`):void 0)},getContainerType:t=>{const e=U(`${location.pathname}${location.hash}`);return"conference"!==(null==e?void 0:e.type)?"document":"unknown"},getDocEvents:t=>{var e;const n=U(`${location.pathname}${location.hash}`)||(t=>{var e,n,i;return(0,o.zG)((0,o.zG)(p.ij((null===(i=null===(n=null===(e=t.ownerDocument)||void 0===e?void 0:e.defaultView)||void 0===n?void 0:n.frameElement)||void 0===i?void 0:i.closest("form"))||t.closest("form")),p.hX((t=>t.matches(".discussion-reply-form"))),p.UI((e=>({form:e,parents:I(self.location.pathname,t)}))),p.UI((({form:t,parents:e})=>({type:"reply",id:"unknown",getSubmitButton:e=>t.querySelector(".discussion-reply-buttons button[type=submit]"),getParents:(0,o.zG)(e,p.UI(o.a9),p.FS)})))),p.WG)})(t),m=(null==n?void 0:n.getTitleInput)?(0,S.c)(n.getTitleInput(t)).pipe((0,c.b)(300),(0,s.U)((t=>f.t.createDocContextUpdatedEvent({title:t}))),(0,a.d)({bufferSize:1,refCount:!0})):null,v=(null==n?void 0:n.getSubmitButton)?n.getSubmitButton(t):null,g=v?(0,i.R)(v,"click").pipe((0,s.U)((t=>f.t.createPublishedEvent())),(0,l.B)(),(0,d.q)(1)):null,b=function(){var t;return(null===(t=document.querySelector("#global_nav_profile_link .ic-avatar img"))||void 0===t?void 0:t.getAttribute("alt"))||null}(),z=b?(0,u.of)(b).pipe((0,s.U)((t=>f.t.createDocContextUpdatedEvent({authors:[{name:t,currentSessionUser:!0}]})))):null,y=null===(e=null==n?void 0:n.getParents)||void 0===e?void 0:e.call(n,t),_=y?(0,u.of)(y).pipe((0,s.U)((t=>f.t.createDocContextUpdatedEvent(t)))):null;return(0,r.T)(...m?[m]:[],...g?[g]:[],...z?[z]:[],..._?[_]:[])}}},b.k.defaultFieldRuleSet)}(C||(C={}))},81466:(t,e,n)=>{n.d(e,{c:()=>a});var o=n(44071),i=n(36344),u=n(59179),r=n(90572),c=n(24666),s=n(954);function a(t){const e=t||null;return e?(0,o.R)(e,"input").pipe((0,u.U)((t=>t.target)),(0,r.h)((t=>t===e)),(0,u.U)((t=>t.value)),(0,c.x)(),(0,s.O)(e.value)):i.E}}}]);